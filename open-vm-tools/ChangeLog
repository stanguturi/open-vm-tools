commit 0456d11e57fc48104b413670511794c91f2e3673
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Jun 17 12:22:33 2021 -0700

    configure.ac: missed a version bump to 11.3.0.

commit 7695514c2409afa85c69f0af38ddfa20780d47b9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Jun 17 11:55:10 2021 -0700

    Update open-vm-tools/ChangeLog with final steps before release.

commit 7fd653a62d543dde25815ecd72067487a780f4b6
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Jun 17 11:47:50 2021 -0700

    Prepare to make the 11.3.0 OVT release announcement.
    
      - ReleaseNotes.md - copy in the iinitial (final ?) 11.3.0 OVT release notes.
      - configure.ac  = set the tools version to 11.3.0.
      - buildNumber.h  - set the build and product number from the internal
                         release build.

commit 9ce90f4c64be0b382be65e0db0f63167dc16c786
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jun 15 07:58:27 2021 -0700

    Update ChangeLog with the ChangeLog update of June 7.

commit 0eeda8e91370ac3d3af2e4efd7c6e413618aa839
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Jun 7 13:40:37 2021 -0700

    Update ChangeLog with the granular push to stable-11.3.x on June 7, 2021.
      - plus ChangeLog update of May 20.

commit f8fd00cb7fbfbb9df62ba7723c472b84ffe495bf
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Jun 7 13:36:32 2021 -0700

    Adding missed 2021 copyright updates in granular pushes.

commit 008993082515aadfb3087ae22bec80ed5ac33684
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Jun 7 13:29:01 2021 -0700

    Open-vm-tools 11.3.0 L10n updates.

commit e4c1a58df62e2b08fbef8e8e399dcba7654aefc5
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Jun 7 13:29:01 2021 -0700

    Common source file change not applicable to open-vm-tools.

commit 9fbd584aee962d6a3e18109eb408b01b273a19f4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Jun 7 13:29:01 2021 -0700

    Switch the current thread to "C" locale to parse /proc files.

commit 912fecf2f9e28a8083fee6e29b83a926c35b8661
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri May 21 11:57:16 2021 -0700

    Match the copyright style as in the main source repository.

commit b35069156e3d73b2149e78238eed38671481b0b4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu May 20 11:58:01 2021 -0700

    Update ChangeLog with the granular push of May 20, 2021
      - plus ChangeLog update of May 3.

commit dde0b8e906ea1ef1f5e752e51e9887be002b07f0
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu May 20 11:38:38 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit b4a3a288b013202bfc01f99093c420b75051ffb4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu May 20 11:38:38 2021 -0700

    Change to common source file not immediately applicable to open-vm-tools.

commit b2c8baeaa8ac365e1445f941cf1b80999ed89a9d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu May 20 11:38:38 2021 -0700

    Remove unwanted "volatile" from static variable used with g_once_init_enter()
    
    The glib api documentation for g_once_init_enter() specifically states
    that "volatile" should NOT be used with the address passed as the
    argument.  Recent compilers (GCC-11 & clang 11) and recent versions of
    glib-2 will result in a warning that the "volatile" qualifier has been
    dropped if it has been used.
    
    Remove the unneeded and unwanted "volatile" qualifier from the definition
    of "inited" in pollGtk.c.
    
    Fixes: https://github.com/vmware/open-vm-tools/issues/509

commit 33ba0f01a3a15b245857e0f8ba2563b3177ced25
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu May 20 11:38:38 2021 -0700

    Add backdoor support for host time of day in Arm
    
    The timeSync plugin makes backdoor calls to get host time of day.
    Update the time of day backdoor calls to function with the Arm
    backdoor implementation.  Also fix a bug where an error returned
    by the GETTIME backdoor handler is incorrectly treated as a time value.

commit 39b499fb2fcedc7b984510edf2ed0ea43fb0fe24
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu May 20 11:38:38 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 35dbe93510857ea9fa58bb93a959f26dea1bed7d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu May 20 11:38:38 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit c693dcf8212bcb01827cf131910e1d66132f50e1
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu May 20 11:38:38 2021 -0700

    Common source file change not directly applicable to open-vm-tools.
    
    Introduce peek() to the asyncsocket API, only supported by TCP vtable.
    
    Peeks are similar to recv(), except that they do not drain the socket
    after reading.  Subsequent peek/recv reads the same data back.  However
    since recv does SSL_Read, a recv() following a peek() may not get the same
    data as peek() after SSL is initialized.  This is not a problem when
    peeks are done before SSL setup.
    
    Implementation notes:
    
    - peek is a one-shot operation. The poll callback is unregistered
      once it fires (recv keeps the callback until recv is cancelled).
    - non-partial peek is not supported, so the peek callback will be fired when
      any amount of data less than or equal amount of the requested length is
      available in the socket buffer.
    - It is possible to invoke recv() or peek() recursively from within the peek()
      callback.  A peek is disallowed from within the recv() callback.

commit 95cbd990ec667a34b6b76c1d53182317c33e5330
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu May 20 11:38:38 2021 -0700

    Fix an ASSERT in bora/lib/misc/timeutil.c.
    
    Fix a problem with TimeUtil_NtTimeToUnixTime on Arm that was encountered
    when running tools tests on Apple silicon.  The problem was the routine
    assumed that a variable was 32-bits if VM_X86_64 was not defined.  This
    may have been true in the past, but it is no longer true now that the code
    is also built for 64-bit Arm.

commit abfd599dea18f0f6a5acc35d539cec0322d194df
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu May 20 11:38:38 2021 -0700

    Additional changes for the network interface limit logging.
    
    1) Use the VM_SAFE_STR macro for string null check.
    2) Since free() is NULL safe, remove the "if" check before the free().
    3) Fix an alignment issue.

commit 78f19996702a14066d9f5424c522167780151f0e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu May 20 11:38:37 2021 -0700

    Update terms used in code that is distributed publicly in open-vm-tools.
    
    Use alternate terms wherever possible.  This does not address
    function names, structure elements, or macros.

commit d55475adf7617516fd8ec2bdc4403c1b7fdcf83f
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu May 20 11:38:37 2021 -0700

    Common header file change not directly applicable to open-vm-tools.

commit bbcdb619382645179f2a8091818f55314c44291d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 20:01:43 2021 -0700

    Update ChangeLog with the granular push of May 3, 2021
      - plus ChangeLog update of April 19.

commit 16e2be2e2c67d49ed01032348368157ad9867920
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:41 2021 -0700

    VGAuth: Use GUESTRPCPKT_FIELD_FAST_CLOSE flag for log messages.
    
    VGauth is a single action service.  With the GUESTRPCPKT_FIELD_FAST_CLOSE
    flag added, VMX closes the vsocket as soon as the RPC response is sent.
    This cleans up the vsocket connections faster and minimizes the number
    of connect() failures in the guest.

commit 092a4cfd7b577b55abc71e636748dbbb25240171
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 8994d7c3a9c5164c5c88b5d882d32238a9964628
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    Asyncsocket: Add comments about AsyncSocket_SetErrorFn usage.
    
    Document that AsyncSocket_SetErrorFn must be called before an internal
    asyncsocket callback can fire and trigger a call to the error handler.
    The error handler must be set immediately after the asyncsocket is created,
    either from the poll thread, which requires no additional synchronization,
    or while holding the asyncsocket lock, which is passed via pollParams.

commit 4abc2d2b6cf754914e6c0f08d245a2852f04e368
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit a3db034717c4bd77ffcf4f6ac2682096d360e2e0
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    Tools gdp plugin updates.

commit 037825f8b73cdc04e6f19e5868224e3e911c1acb
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 62daa89681b48ad0fe33a92332a04a5c33c862e2
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 306366fa79a390b632c89b4eab29fdd01659b688
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    Format the VMCI port in a guest RPC connect request using "unsigned int" type.

commit 6c01c0ad957152d00cec28fb059a5781acb5a607
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit e0b4963730505f1bb746b1f93998b5e9a8a9af58
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    Common header file change not directly applicable to open-vm-tools.

commit 2693e19a54d93dac0a206bf2634f6e6b908fc8b9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    vmwgfxctrl: Refactor the 'for' loop index declarations for C89 compatibility.

commit 86fa9e400b3866407be4acfebd52f9093483f8b1
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit d9dae1062ab61a15c54f02ccc8b74f69a1ead3f9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    Fusion does not need to fork on certain file opens anymore.
    
    An NFS issue in MacOS 10.4 was worked around by forking and
    sending credentials to the child.  Removing the work-around
    since it is no longer needed.

commit b2078e875dfaa3257cb8a709a574b8a3cb8e8069
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit f59fe38baa986b5d5e1a8504ac70c5e3d4938cc6
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    Log messages when the network interface limit is hit.
    
    Whenever the maximum NIC limit is reached, log a message to both the
    VM guest.log file on the host and the vmsvc.log file inside the guest.
    
    Moved the logging api added for powerOps plugin to vmtoolslib so
    that it is available for all plugins.  Modified the powerOps code
    accordingly.

commit 09b035ad85475df08cd9bae8cc2d7aea6d8f0ffe
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon May 3 19:39:40 2021 -0700

    Common header file change not directly applicable to open-vm-tools.

commit cf65239bd6f5dede5394d1090615e6d70b06cd48
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 12:41:43 2021 -0700

    Update ChangeLog with the granular push of April 19, 2021
     - plus ChangeLog update of April 5.

commit b5ec5c1b60db89fe8fb4c223b204a8e50077851b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 12:32:41 2021 -0700

    Sync "(c)" vs. "(C)" usage in another header file.

commit e4e7aee59955326f1480fc27ffb8eef080fbbefc
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 12:19:57 2021 -0700

    Update copyright date missed by developer.

commit b8058d49454e7c15fcd4806e51244803b08170b8
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:16:36 2021 -0700

    Sync the (c) copyright symbol with the (C) in the Perforce repository; will
    avoid granular update problems when the copyright changes on these files.

commit 315b159733f55bd617391abf472a4ef2be22a624
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 1ebf8c871c8db79278fa6cd3f7d24edd4db7ce2d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Common source file change not applicable to open-vm-tools.

commit 52523347adccc1ec3670488c6c61ed4c998372f3
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Changes to common source files not directly applicable to open-vm-tools.

commit cd80433f04bb0f760759a4b64cc52d9950c07230
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 7417e628d777f598c75d832564478ec199e709d8
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 5f982aadfcfbdb11d38978c764678c94575eb4b8
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 48c0a778d94c99ebb0e51a284aa8ea1f6a8d6338
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Common source file change not applicable to open-vm-tools.

commit fe2192f866a2faed6f9d27a1674838d56aa9f69f
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit a183c79fbd8188a1d2aa1322469d19e71be7d676
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Unescape JSON in UTF-8.
    
    Add a routine to unescape JSON escape sequence in UTF-8 strings.

commit 865b31e49350e4aefa0858b6575051eae7def5e1
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 5883b498a44c7d64025e6af761e784a7e2ce72aa
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit e834e17b698f56313e6b6a1f34c2b0c52665e3cd
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 3827120a9edac868a1094cdd225b02920f952a0e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Common header files change to facilitate building with x86_64 and arm64.
    
    Simplify _DMB/_DSB.

commit 5e5494ef373917c706bc14c3fc5f90cdd07a0f4a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 65519ffb067661ecea1e0bae077dea5d3ce23197
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Correct a typo that rendered an if statment to always be true.

commit 27d9e866243ce119746a57d60690efb4c4502fb7
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 964ecc057dd482efd53c809921a9f97b8efd3313
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:11 2021 -0700

    Changes to common source files not directly applicable to open-vm-tools.

commit 57d9962108e0fdd56721ad03a7acec6abb7fdb86
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:10 2021 -0700

    Adding thread ID to logging messages.
    
    As more threads (even short-lived worker threads) are added
    to vmtoolsd, add logging of the thread ID to simplify debugging.

commit 4dca880085556da2e7c3515067667a53acf43d54
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:10 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 0f6d89fc0bbf119e2284ba5195b7072d99a503f2
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:10 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit a58b9c39768dd4582a2ccbd2483ae6c02d894528
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:10 2021 -0700

    Check a previously unchecked return value.
    
    Fixes an "Unused value" issue reported from a Coverity scan of
    open-vm-tools.

commit b9c4441ed7316d1f807697c7145e2c09656f3e5e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:10 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 82931a1bcb39d5132910c7fb2ddc086c51d06662
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:10 2021 -0700

    Fix issues using GCC 11 with gtk >= 3.20 and glib >=2.66.3
    
    With glib2.0 releases >= 2.66.3, glib header files inside an
    extern "C" block will encounter compilation errors.  This has
    impacted several OSS packages.  Consumers of newer versions of glib2.0
    must not include glib headers in an extern "C" block.
    
    GTK 3.20 has deprecated gdk_display_get_device_manager(); using the
    newer gdk_display_get_default_seat() when the GTK version is >= 3.20.
    
    The return value from read() must be used to avoid an unused result
    warning from the compiler.  This can be avoided by using dummy retyping
    in the case where the return value is not used or in this case, using
    the returned value in a debug log message.
    
    Pull Request: https://github.com/vmware/open-vm-tools/pull/505
    Addresses:    https://github.com/vmware/open-vm-tools/issues/500
    Addresses:    https://github.com/vmware/open-vm-tools/issues/509

commit d8ccbf4f386ca996778ed843073f6ad5743c8093
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:10 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit fc6368df777de8e862dcc7fac3dec5ccdc8cf817
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:10 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 50a9a23dd3abda3df63f96433821a79f74742bd1
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 19 11:08:10 2021 -0700

    Common header file change not applicable to open-vm-tools.
    
    Add new definition for darwin22-64 (macOS 13)

commit 78631eb8a2e4ce12794b1e75a6232482f08d0c96
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:28:52 2021 -0700

    Update ChangeLog with the granular push of April 5, 2021
     - plus ChangeLog update of March 25.

commit b81140454253dfe3c836c03e221aa832da4ac9e8
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:43 2021 -0700

    Check return value from VmCheck_GetVersion.
    
    Fixed an issue reported by Coverity scan of open-vm-tools.

commit f68f15d091fcda7ab393586498683d2061f9a85e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:43 2021 -0700

    L10n drop for updated wording in user visible messages to conform to guidelines.

commit d1d9f2fca56a40159b7039f2955410acc3de3489
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:43 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 585747b2d0b6091ffcc9ffce585ef89dd43ea9e8
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:43 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 3256fd9e85d75768f9bcbeb39037a35e2b7c3908
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:43 2021 -0700

    Common header file change not directly applicable to open-vm-tools.

commit ba6744a874786f5a890e641fb94f2d048fc39e69
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:43 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit ec8b7d139c72287140e660ad4f43c083981b9a6d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:42 2021 -0700

    Fix dereference after null check reported by Coverity.
    
    Removed a NULL pointer test for gErr that causes Coverity to report
    a dereference after null check.

commit d19fe417deed03b2b8a9b8a22cbed1bcc836e0f3
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:42 2021 -0700

    Tools gdp plugin updates.

commit 58fca5f585180c19311d084a536ed8014f5c102b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:42 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 08d82bad0db6d0d04b257748e8434a28f5a7c1c4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:42 2021 -0700

    JSMN: Miscellaneous log message fixes.
    
    * One log message in jsmn_parse_string function referred to a primitive
      instead of a string.
    
    * When the parsing fails, the log message specified the wrong position
      where the parsing failed.
    
    * Changed '%c' to '0x%02x' in the log messages to avoid any issues with
      printing the invalid/unprintable characters.
    
    * Added a new log message for better debugging in one specific error
      code path.

commit 5bf72167ec1870b75699e46df1b5e5e86520492a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:42 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit a5b6b94525ee86d4283ae1db3c424435c93dac61
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:42 2021 -0700

    lib/misc/hostinfoPosix.c:
    
    Correct an ifdef typo introduced in an earlier change.

commit 47df40cccede41beffa9658889b51ce1738c61bd
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:42 2021 -0700

    lib/file/file.c:  File_UnlinkIfExists()
    
    Revised File_UnlinkIfExists() to return 0 for success and an errno for
    failure.  Previously, a failure was indicated by a -1 and the caller had
    to retrieve the errno.

commit 48f6c1cefc31cab095718ac4383a4fb7fd08d51b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:41 2021 -0700

    lib/file/file.c:  File_Unlink()
    
    Revised File_Unlink() to return 0 for success and an errno for failure.
    Previously, a failure was indicated by a -1 and the caller had to retrieve
    the errno.

commit 996626d977b3e5186d4664491b740a8afc6f45cd
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:41 2021 -0700

    Common source file change not directly applicable to open-vm-tools.
    
    lib/file/file.c:
    
    Revised File_UnlinkRetry() and File_UnlinkNoFollow() to return 0 for
    success and an errno for failure.  Previously, a failure was indicated
    by a -1 and the caller had to retrieve the errno.

commit 8a98b8f5d3669812e1524cd692e1dd897e5f0ba9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:41 2021 -0700

    Change to common source files not directly applicable to open-vm-tools.
    
    Add a common function to detect if HyperV is present.

commit 761631d7c7d7c0210dafd6f4e4d5281a6d46a52a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:41 2021 -0700

    Don't follow symlinks in File_Rotate_ByRename().
    
    Delete the directory entries, not where they point to in the case of symlinks.
    
    Also, clean up some of the related and similar source code.

commit f9821bdf9031eda30bc515b4b869522119684393
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:41 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 5f14d310fa604a2d6802b76c8bbe48baac7e7b90
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Apr 5 09:01:41 2021 -0700

    Pre-enabled MacOS 13 (Darwin 22).

commit 0c88931b229a0099e6c70cb6eecc83b1b00846d3
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:51:05 2021 -0700

    Update ChangeLog with the granular push of Mar. 25, 2021.
     - plus ChangeLog update of March 5.

commit 244e5bad740fa06eb40c48a7973ae8c519106019
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:18 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit c8c330b4df2878b6b152ac8be4f1bc999febe615
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:18 2021 -0700

    Add Arm FreeBSD to the ALLARM set in guest_os.h.

commit 2df1c32e009649602f0f3179272107afa2c966b3
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:18 2021 -0700

    Clean up the classification information for Ubuntu, Debian, and FreeBSD.
    
    Some important information about these distros was not reflected in
    the macros in guest_os.h.  Fixed this.

commit 0ec0bb8ec20b45b7b1714701276d377db63acabc
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:18 2021 -0700

    Changes to common source files not applicable to open-vm-tools.

commit 1a6546dfe7e0d4ed572434bd794d94f5228763b4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:18 2021 -0700

    Fix an uninitialized variable issue reported by a Coverity scan of
    open-vm-tools.

commit f06d7cf7225a8c5e2a58fa2bf6a8f5d301964dfa
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:18 2021 -0700

    Record the assignment of 11.2.6 for a VMware Tools emergency patch.

commit a95a56f95b01b3028c72e4da2af7c44fb38a4900
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:18 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit d26c6dfb4cf8dd0783df79589b3621f87c71071e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:18 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit f5a922bfd6268ee0690f0aabc03d88bdb781b867
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:18 2021 -0700

    Disable NVMe quiesced snapshot by default.
    
    Open-vm-tools has no FSS.  Enable the feature only when it has been
    completely verified and FSS is enabled on the host side.

commit a58a79da6affce6fc993b0fa18b3d2b718a32d18
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:18 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit 004a5ddc3f79e126a1a14bac0ac5cf53630c833c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:17 2021 -0700

    Add RHEL9 to the guest_os_tables.h header file.

commit c82f1d9ced8a9c1b13a19256da9d92b64c896906
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:17 2021 -0700

    FreeBSD now supports Arm
    
    Upgrade the guest identification code to handle this.

commit 4f7441d8cd20923e509ff819084693bbd8c928df
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:17 2021 -0700

    Fix a memory leak reported by a partner from their Coverity scans.

commit 6cda6b456e88c570aac9c3eb8ee1765347e43a27
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:17 2021 -0700

    Linux guest identification: Support multiple architectures.
    
    Allow machine architecture information to be present in the
    "short string" and the guestOS string.  This is done via a prefix,
    "<arch>-" (e.g. arm-ubuntu-64, riscv-debian11-64, arm-windows10-64)
    with the X86 architecture being implied (no explicit "<arch>-").
    
    Add the recognition of the Arm machine architecture to the Linux
    guest identification code.

commit 3694c7e9071771ccc6690a7f1473206cc21b3452
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:17 2021 -0700

    Style change, alignment correction.

commit 6e980e3adeed221af11edc3ef66dcb382474642c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:17 2021 -0700

    Clipboard logging improvement.
    
    Add a log instruction in CPClipboard_SetItem() to print the data size for
    every format.

commit c6b98a52e69488006fef87c63a3cc186ab3d9525
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:17 2021 -0700

    Add machine architecture information to os.detailed.data.
    
    The detailed data now include information about the guest's running
    machine architecture.  A later change will deal with the guest
    "short name" (a.k.a. the guestOS string).

commit f387d5a2cc4a2221bb4802915e4e432adc1a945f
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:17 2021 -0700

    Tools gdp plugin updates.

commit 5689130bbc010843b718a0691ee3765624beca00
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:17 2021 -0700

    Implement log redirection for the deployPkg plugin.
    
    On Linux, /var/log/vmware-imc/toolsDeployPkg.log is the default deployPkgs
    log file.  This change allows users to redirect that log to the vmware.log
    on the host or to another file located on the guest VM.  Redirection is
    controlled by settings in the "logging" section of the tools.conf file.
    
    See the examples in the sample tools.conf file provided in the distribution.

commit ce844c061dc2c8049d8c6f4c6499848cfa145728
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:17 2021 -0700

    Changes to common header files.
    
    GuestOS: Begin recognizing Arm in VMware products.

commit 49ca4d0632ab5920c45e536883db5154cad2b8e4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:17 2021 -0700

    Stylistic changes to the serviceDiscovery plugin Makefile.
    
    Replaced all occurrences of "$(libdir)/open-vm-tools" with "$(pkglibdir)".
    Split the makefile command lines to fit within 80 columns.

commit 807a1167e3bef3f070773ea1d8e2fd812f82cfd6
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 25 20:21:17 2021 -0700

    Common header file change not applicable to open-vm-tools.

commit adaeae034bd8d4fa150700f96f617e40fc22edf1
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Mar 5 11:28:17 2021 -0800

    Update the ChangeLog with Mar. 5 corrections
     - plus ChangeLog update of Mar. 4.

commit fdc50f3716bd23dd891eccf292741c3f48d342e1
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Mar 5 11:19:30 2021 -0800

    Added complete LICENSE file to the jsmn.h and jsmn.c source files.

commit 7fb7dd20e9b879c4c75eb9349c761ca0f284f9d1
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 4 16:41:38 2021 -0800

    Update ChangeLog with the granular push of Mar. 4, 2021.
     - plus Changelog update of Feb. 22.

commit 1a13bb349ab93d6861cdb57daf6cec451cca616a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 4 16:34:57 2021 -0800

    Correct some missed copyright dates for 2021 publication.

commit 30a9f295681983c778ea89eef379b8822518e524
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 4 13:48:46 2021 -0800

    Configuring OVT with the --without-pam option will implicitly disable vgauth.
    
    When no vgauth option is given alongside -–without-pam, a warning
    is displayed with a message “Building without PAM; vgauth will be
    disabled.”.
    
    When -–disable-vgauth is supplied alongside –-without-pam, no
    warning or error message is displayed.
    
    When -–enable-vgauth is supplied alongside -–without-pam, an
    error will be thrown and the configure stage will be aborted with an
    error message “Cannot enable vgauth without PAM. Please configure
    without --without-pam or without --enable-vgauth.”
    
    Github Issue: https://github.com/vmware/open-vm-tools/issues/481

commit edeef6123b1c1edeac42acd4b45f5dab96a8c8d3
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 4 13:48:46 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit f28bea2dde358e4a12f90f4436d276d9c5e3be77
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 4 13:48:46 2021 -0800

    Common source file changes not applicable to open-vm-tools.

commit 65d92cd11edafe3e9ff7c96e83d824da6ecf4ae7
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 4 13:48:46 2021 -0800

    Tools gdp plugin updates.

commit c94ae5a4c7524f0d424ffd0a2cbc0aa685a6a710
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 4 13:48:46 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 662f85c3f7d356cfbb8e23dff0a7c4dfa6f74fba
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 4 13:48:46 2021 -0800

    tools/vmwgfxctrl: Add a command line tool for controlling vmwgfx.
    
    vmwgfxctrl is a small command line tool used to control various
    aspects of the vmwgfx kernel driver.  Currently it can both
    display and set current topology of the vmwgfx kernel driver.
    
    It should be distributed alongside other open-vm-tools binaries.
    It's incredibly useful when trying to set custom resolution on any
    recent distro (that includes multi-monitor setups).

commit b00709f8f9af26a1fb5803ef22c155b5983086ac
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 4 13:48:46 2021 -0800

    Change not applicable to open-vm-tools.
    
    Windows: Add default setting to example tools.conf.

commit e239a31df9563c38ffbc0468deb1018b52334e02
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 4 13:48:46 2021 -0800

    stringxx: Replace usage of deprecated glibmm function
    
    Glibmm::RefPtr::clear() has been deprecated for a while and was removed in
    2.51. The reasoning is listed in the 2.44 header:
    
    "/// @deprecated Use reset() instead because this leads to confusion with
    clear() methods on the underlying class."
    
    reset() has been available since 2.16, so it is trivial to switch to it.

commit 44bfc5bc266ae7fc9c8c3df551220942c187c587
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 4 13:48:46 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit b2f9775cac95500b3ab19ac35bc9d40d48d41d2e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 4 13:48:46 2021 -0800

    PowerOps plugin logging of diagnostic messages on the host.
    
    To assist with diagnosis of VM power operations, have the powerOps plugin
    log messages about guest OS reboot, shutdown, power-on/power-off,
    script execution, and exit status to the VM's guest.log file on the host.

commit c3fad0b7d4f505f22e5606c6587833948f420c7e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 4 13:48:46 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 9bdfa71a8d86b7182c0ed2b8ea9e42f6aa0d33e8
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Mar 4 13:48:46 2021 -0800

    Reduce or eliminate Linux dependency on the "net-tools" package.
    
    The "ifconfig" and "netstat" commands are deprecated in more recent
    releases of Linux.  Update the Linux vm-support script to use the "ip"
    and "ss" commands when available.
    
    If Available:         Fallback:
         ip                   ifconfig
         ip route             route
         ss                   netstat
    
    Addresses: https://github.com/vmware/open-vm-tools/issues/446

commit 9b2d46f1f36535e7a0838890a151cd63a853f198
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 10:13:53 2021 -0800

    Update ChangeLog with the granular push of Feb. 22, 2021.
      plus Changelog update of Feb. 4.

commit a7f9569f76f4ff05886dc3f4f9b5d3531d87c0ef
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:37:00 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit ff99f1169acc775d2e150f9cd4035c3bbd5eaf02
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:37:00 2021 -0800

    lib/file: Deleting a directory tree should not care about missing files
    
    Tolerate a directory entry disappearing while a directory tree is being
    deleted.

commit 533d1a6ee716635f0175584e62aaa6a1a115e00e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:37:00 2021 -0800

    Common header file changes: additional pre-gcc-4.4 clean up.

commit 433270c8dc916aeafd222a55a9bd2a301ac573f6
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:37:00 2021 -0800

    Fix miscellaneous Codacy warnings in Tools and VGAuth code.
    
    Multiple warnings "The scope of the variable can be reduced" reported by
    the Codacy static analysis tool have been addressed.

commit d0b0527a75c4e265e5e9b21cfa87e9bc40733cb5
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:37:00 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 5c27a31bbe54cdff6f53825a163d65e1c559a884
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:37:00 2021 -0800

    Adding FreeBSD on ARM64 support to open-vm-tools.
    
    Updating the FreeBSD specific sections of open-vm-tools to adjust
    where necessary for ARM64.   The FreeBSD vmballoon driver (vmmemctl.ko)
    will use the backdoorGcc64_arm64.c when built for ARM64.
    
    Pull request: https://github.com/vmware/open-vm-tools/pull/474

commit f3f8353eb2037f84d7f7ed6101086680ec58bdff
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:37:00 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 51328a83a99526be033774c32ef78934b0a4f6e2
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit fb05d52910e9929ed3e23374a2d59bbbd96e4a8d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 4071ec7e4067f57d3747f2e95a04de23859d1735
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 08b6d1d81dc574a9ddbeead44ea8b72dcf5d4c00
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 05c7fa93f68be1c96badaa596d25c12a6654eed1
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 619df79c8d3661d5609d68419c42a7e9e81463c5
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit f200cb67cd75913c0850df7758a3adc5a462a688
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    Clean up pre-gcc-4.4 macros
    
    Gcc is now "always" at least gcc-4.4 (checked in vm_basic_types.h),
    which means many conditionals for earlier gcc can be removed.

commit 6c116db015bf794f420019aa4210004ebff262fd
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    Common header file change not directly applicable to open-vm-tools.

commit 4fa8c3dde624e209af5ecaaeb6ac720d9abfaa81
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    Compiler minimums: bump to gcc-4.4

commit cbd0de661501194f0834ff0f8ff215344989ef38
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    Fix miscellaneous Codacy warnings in deployPkg plugin code.
    
    Multiple warnings "The scope of the variable can be reduced" reported by
    the Codacy static analysis tool have been addressed.

commit 08e78ef8082830191d1be09a0b3a6806bd408c9e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 649dc72afb024063fc9c5871ee411bb1ad82f45d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    [open-vm-tools part] Support raw cloud-init data in VM customization.
    
    To support this feature, open-vm-tools needs to check whether cloud-init
    can support raw cloud-init data; then copy the data to the cloud-init
    cfg directory.

commit 39c9113caae0750342ef6049201f6c8976d8535b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    Added 2 error codes for supporting raw cloud-init data in VM customization.
    
    Header file updated with errors detected when using raw cloud-init data
    in guest customization.
      - cloud-init version is too old to support raw cloud-init data.
      - cloud-init meta data format is invalid.

commit 5bf675afdc2c7d021bdac29f3bebe2d3bbb70c37
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit bd2c979437f44ecdc5a23a24b3e0afd301a21151
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Feb 22 09:36:59 2021 -0800

    Remove lib/include/vmware_pack_*.h header files.
    
    Previous changes have removed the last usages of these headers; now using
    '#pragma pack' 100% of the time.

commit 0da0823a61677c6140a71a8407acccdf5b4a3de8
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 10:13:38 2021 -0800

    Update ChangeLog with the granular push of Feb. 4, 2021.
      - plus Changelog update of Jan. 22.

commit 38a44105dfc934aded80b38e4cb242daacc2bca5
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 09:57:03 2021 -0800

    Common header file change not directly applicable to open-vm-tools.

commit 3d114fa0a5c050d1e84d6e73a9942d2e82aa8f00
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 09:57:03 2021 -0800

    Drop usage of vmware_pack_*.h header files.
    
    Both gcc and clang support the Microsoft-style "pragma pack" syntax.

commit ff5eb5f448c78448b96f9c3db957d19f0288a9b6
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 09:57:03 2021 -0800

    resolution: Fix kms autodetection
    
    Currently, the elf binary of the xorg driver is loaded to check for a
    string that was put in the .modinfo section in the driver.  Unfortunately
    there are two problems with this approach:
    
      1) Distros now ship without xorg, so the xorg .so doesn't exist and
         there's nothing to check.
      2) Distros (e.g. Fedora) do heavy optimizations and remove the .modinfo
         section from the .so, so the string cannot be found even though the
         driver exists.
    
    To fix both, stop depending on being able to parse the elf binary of the
    xorg driver.  Instead, let the plugin check for the existence of the drm
    driver with a sufficiently high version, and if it exists, use kms.
    This removes the dependency on X for kms.  Also increase the version of
    vmwgfx required to ensure atomic mode-setting plus relevant bug fixes (in
    the kernel since 2017) are available.

commit c5b510fded54592eae1c5a4a61f8119f69666a3f
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 09:57:03 2021 -0800

    Add a switch to the vm-support script to transfer the support bundle to the hypervisor
    
    The vm-support script unconditionally transferred the support bundle to
    to the VMware hypervisor, thereby filling vmware.log.
    This fix changes the default behavior of the Linux and Windows scripts
    to *not* transfer the logs to the host.
    
    Added an option '-x' to both scripts to let the user elect to
    transfer the guest support bundle to the host.

commit f7ddf98958097197468cd153227317cba205a19c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 09:57:03 2021 -0800

    Add NVMe capability for vmbackup.
    
    The vmx/vmbackup logic checks if tools/vmbackup can support NVMe.  If it
    is supported, vmx/vmbackup can further go through the app quiesce process.
    Otherwise, vmx/vmbackup requests the filesystem quiesce process.

commit 61a691368b6e102d939173583e5e08c6ed1673dc
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 09:57:03 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit b797923f9a5e960bb5c2971132d7cac592defc00
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 09:57:03 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit ce4ad3f984f4926d75888360b58b1b9b5637528d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 09:57:03 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit e2eb818a1d6d8947bc9c95801f714af202692963
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 09:57:03 2021 -0800

    Common header file change not directly applicable to open-vm-tools.

commit 056936aea88980f1474daaf34f20aacf34cc39c5
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 09:57:03 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 2c10a53bc8c41baaff4f8817d8f35d2808291c3a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 09:57:03 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 4e9abe77c7ca725b3cbc70ed0659794a6e54f269
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 09:57:03 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 4ab1a9303926a9c50ec099bd9ed2778d02ed7fdf
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 09:57:03 2021 -0800

    Add tools version 10.3.24 to list of tools versions.
    
    Document use of 10.3.24 for the next possible release of VMware Tools
    (tartools) or OSPS for older releases of Linux.

commit 3d237b31774e58d637c88047567cf4394d3f8654
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Feb 4 09:57:03 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 7a830f9330fc9a5599a6d04ad07b0ac6cffcb3c3
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:55:24 2021 -0800

    Added in the ChangeLog update comment from Dec 31.

commit 5ad6d8f3f627c050e2b58acc916166d09822f221
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:52:09 2021 -0800

    Update ChangeLog with the granular push of Jan. 22, 2021.

commit c777cf7c2d053948c18fda88bba8e2564c495518
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:39:50 2021 -0800

    Correct missing 2021 copyright dates.

commit c41a0d7d9f3d9e30b62eb64b30a8cba362edcd59
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:41 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 7a300e61857eeb16174f97eb8f95bb47f2499561
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:41 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 3e5288ecb310ad2cb8dcdce586aaee11abd080ba
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:41 2021 -0800

    File_Rotate: Optimize FileRotateByRenumber performance

commit f06ab994230b074a361edbd76e29e00a7b3160ef
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:41 2021 -0800

    Fix an issue where CustomizationUnknownFailure is generated multiple times
    on Linux.
    
    For Linux, sysimage sends a failure status to VMX when the deploy pkg
    failed.  The tools plugin then sends the failure notice again.  Changing the
    plugin to only send the failure notice for Windows guests where the
    failure has yet to be logged.

commit 61d8c3cfd2d1ed84c6527ae446f543324a341f38
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:41 2021 -0800

    Common header file change not directly applicable to open-vm-tools.

commit 41b2a9b1f07e4e1971f7523290c9443d0b251f29
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:41 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 4a9cdfb5190706a8471bf668247011a0725af09c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:41 2021 -0800

    Customization: Set log level to info, not error, for failed /sbin/telinit command
    
    The error message of a failed /sbin/telinit command is confusing for
    customers who might think customization failed.  On some Guest OSes,
    the repeatedly executing /sbin/telinit command can fail while a reboot
    is happening and the init daemon has been killed.
    This change sets log level to info, not error, for failed /sbin/telinit
    command.
    Note: The first /sbin/telinit commmand failure will fail customization
    with error 127; this is unchanged.

commit ecf07f0bf6cbab57c9e970efa32ca53e6c207aab
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:41 2021 -0800

    lib/file/file.c: Use Err_Errno instead of errno directly.

commit 741870477774566d0c065ae7f432ecda3e0caafc
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:41 2021 -0800

    lib/file/file.c: Fix memory leak
    
    Don't continue; jump to ensure string free.

commit 5f8671ff14899d34f7abc07550812d5951e927b0
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:41 2021 -0800

    Invalid file name causes the VMX to crash in log file rotation
    
    Parse the log file names without using sscanf.  This way no "%" in
    a file name can look like a valid scanf directive.

commit 2b2d31c783c551b25d6a5525c3227d2dc87e64d7
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:40 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 68853a46e351f6d850973c01762b1188a685001a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:40 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit d37933efb2dacaadc11fd5df8de51d7537bd9306
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:40 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 69b5354e7df1ab0579f1c25fa2e0cf5414cec037
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:40 2021 -0800

    [resolution/x11] Preserve the rotation
    
    The screen orientation/rotation was being reset on each mode set.
    In general that is not a bad behavior.   But it does break with a
    fit to window and such as it will continuously reset the user
    requested orientation.
    This patch preserves the orientation/rotation on mode changes.

commit d65ad41e69517cbd2ef653b30ddcfca528b835c3
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:40 2021 -0800

    Log file name becomes invalid after a rotation
    
    This is because the accounting is done unsigned but the printf used (in
    multiple places) was "%d".  Fix this by using "%u".
    
    As documented in the function header, the wrap around case was not handled
    properly, so this was fixed as well.  If the maximum rotation number hits
    MAX_UINT32, all of the files are renamed to pack the files as if this was
    the beginning of a rotation sequence.

commit 462c995f2deeaa578792b65c22eb082b9f487305
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:40 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit ba3483f293b56d696b962f691fa66fd888cc2964
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jan 22 12:25:40 2021 -0800

    Common header file change not applicable to open-vm-tools.

commit 937691d51dd93ee8043adc83c24f3b7fe4c25bcb
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 31 10:16:50 2020 -0800

    Update ChangeLog with the granular push of Dec. 31.

commit 2ca1201b81d7513cc4d709ae766daf7eb4ae3612
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 31 10:12:25 2020 -0800

    Correcting missed copyright date updates.
    
    Adding 2020 to the copyright of a few files modified in this year.

commit 73491aa22b8892784b68ef2b7e285c6d95261fa6
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 31 10:12:25 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 2d07080e644b2c6f12aae02006eb40adcac2a1ca
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 31 10:12:25 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 64ccc4db5bc5d2aac817af5041fe482e2982c7ed
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 13:01:04 2020 -0800

    Update some copyright dates for 2020 publication.

commit 2b6aac74cdc34ce88a7ca04aee3bfa4df888f391
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:04 2020 -0800

    Changes to common source files not immediately applicable to open-vm-tools.
    
    Staging source files and changes for a future feature.

commit af42d91f5881f1fcec0a902206386f546306dfe9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:03 2020 -0800

    OVT: Build only fuse-based or kernel module vmblocktest programs.
    
    The OVT configuration determines whether open-vm-tools will build
    a vmblock kernel module or a vmblock-fuse user level VMBlock
    implementation.  Both versions of the vmblocktest program(s) are not
    needed.   Linux OVT is only using the vmblock-fuse implementation.
    
    Select the version to build based on the HAVE_FUSE setting from the
    ./configure run.
    
    This fixes https://github.com/vmware/open-vm-tools/issues/467

commit 2a6f597bc91b8806601d186ab5be9d219ce01637
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:03 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 2a0984da06bd84dc85228368f4a449e53cf04b91
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:03 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 4c15a5dd7ea13adee0774298d837fc3e712be910
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:03 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 1d8243ee2d6b606f0be546fdaae494229c0714a6
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:03 2020 -0800

    Common source file change not applicable to open-vm-tools

commit 2a8f1de3f7ff1d81f45c9a81f06beae95b74af07
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:03 2020 -0800

    Common header file change not directly applicable to open-vm-tools.

commit 9b2d29f394066714ac0131c9904c01a5430ce16d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:03 2020 -0800

    Changes to a common source file not applicable to open-vm-tools.

commit 54d0128fc4ec2f2b256b88ad978b780c696b9c5d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:03 2020 -0800

    Corrected a few typos and reworded sentences in tools.conf.
    
    Corrected a few typos, reworded a few sentences, added some
    details for quiescing scripts and removed some duplicates.

commit c80f0f3db5df3a055c70949e4c07326f98ac7045
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:03 2020 -0800

    MXUser Semaphores - nanosecond resolution wait times
    
    The graphics team requested the ability to have semaphore wait times
    less than a millisecond.  This would greatly improve some graphics
    operations.  Since POSIX platforms (i.e. ESXi, MacOS, Linux) support
    nanosecond resolution for semaphore wait times, a new timed semaphore
    wait routine with nanosecond resolution is introduced.

commit a2396202001370cf37d4cea3087b6a83bcb0cb61
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:03 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit bc9196b59469f9269c73d8cca605e7628d6b3d17
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:03 2020 -0800

    Update copyright date for products to be released in 2021.

commit 6284afd17986fe3053fc6d69560d319dacb5299c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:03 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit dec004f0853468937b8e1e7b25f5062c58d131e2
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:03 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 30874008335209a51531a50bc27d05b7fac513fe
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Dec 22 12:22:03 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 816f569db5207ffe321372edf75836eb4cff1992
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 197124856f619fb303f8bb5f91489c8f6753e0e4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    Change to common source file not immediately applicable to open-vm-tools.
    
    GuestStore Upgrade: add settings to the tools.conf file
    
    This change adds the GuestStore Upgrade settings to the tools.conf
    file installed with Tools.
    
    Settings are:
    [gueststoreupgrade]
    
     # The guestStoreUpgrade plugin is only available for Windows.
    
     # The policy value is one of the settings listed below.
     # off         = no VMware Tools upgrade from GuestStore. Feature is
     #               disabled.
     # manual      = (Default) VMware Tools upgrade from GuestStore is
     #               manually started.
     # powercycle  = VMware Tools upgrade from GuestStore on system
     #               power on.
    
     #policy=manual
    
     # Time interval for periodically checking available VMware Tools package
     # version in the GuestStore.
     # User-defined poll interval in seconds. Set to 0 to disable polling.
     # Minimum valid value is 900 seconds (15 minutes)
     # Default value is 3600 seconds (60 minutes)
     #poll-interval=3600
    
     # VMware Tools package version metadata key to specify a VMware Tools
     # package version in the GuestStore.
     # User-defined key for VMware Tools package version.
     # Default value is "vmtools" which points to the latest version of
     # VMware Tools package in the GuestStore.
     #vmtools-version-key=vmtools

commit 36519ebbb0c6f14b0d2e56525223938ff4b65595
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit cad956d8cb6c71f5726fa630602085f90855d56a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    Changes to common header files not applicable to open-vm-tools.

commit 6630aeda4ae52007744dbe789e59f0212a5cd818
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit d70f18262ccf9719f490671d1a2b7b3df57a5336
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit c504335ff4d11b93d6225a3f68f2faa88fe36f4a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    The next Windows Server OS is Windows Server 2022
    
    Originally guessed 2021 based on early data, but now Microsoft has
    provided the official name and date.  Update the internals appropriately.
    
    Add some TBD markers as a reminder to update the guest identification
    code once Windows Server 2022 has an official build number.

commit f5c38172e4d87342ffd8bf6f3f3e498d98705f5e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 4f55ff374583417645fcf22ceaad8dabbf049f1c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    Update Mac OS related comments: 10.15->11, 10.16->12
    
    Apple changed their naming scheme.

commit d8db55524a278f05671bc60fe3691e9edafd85c3
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    Changes to common l10n files not applicable to open-vm-tools.

commit c38b77280bc273abc07dccdc46c01fd5b7386e18
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 7aef446280d018a738d66caafc932f3d5842e43e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    Changes to toolbox-cmd not immediately applicable to open-vm-tools.

commit f2a099bb3402c5f15c3b2d23e27703fda32974b6
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    Backout previous header file change not applicable to open-vm-tools.

commit 36ded5ccac2c86e3accbed54e7930a4eb60723d4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 526156a867563020c90f681030dd697bbfa527a5
Author: John Wolfe <jwolfe@vmware.com>
Date:   Thu Dec 10 19:34:56 2020 -0800

    Changes to common l10n files not applicable to open-vm-tools.

commit 735b9639a70429a3f0f50bfbd5bdc506999532c3
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:31 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit fbd4f01c7b0e707aba1a2df045dc76fafac3d3a5
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:31 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 9ea59704795a431c19fafe6e1b4ed4019b601c1c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:31 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 31fc9ee42b23fbcc482a787572a95d602afbec25
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:31 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 52bc97aa454ca2140ea62e6421f56c61d6954cf4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit c9fe171752a499a66d76e64c1333373cfa2bd5f4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Update wording of user visible messages to conform to guidelines.

commit b8d8c9f706558372d19edaa8c3a1ad4518960cd9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Common source file change not applicable to open-vm-tools.

commit 2f4cc717102813ffabf8c534e59d690f4af7e669
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit decf8d536e55aa54ccfb64e39599151725cf4b58
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Record use of tools version 11.2.1 for an emergency patch.
    
    Update bora/public/vm_tools_version.h with the assignment of
    version 11.2.1 as a patch for 11.2.0.
    
    Also updating 11.2.0 as released and adding the scheduled 11.2.5
    update relase.

commit 2d51c8c2a7ce103417fb9a85204458099192fa1e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit de14e31cbd95c3fa847ef4d16dbaebdf97b0be87
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Resolving autoreconf warning caused by recently submitted xferlogs change.

commit 242478158e241275a284bcf5e87e26c3585031d7
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 02b9f17acb8249571b4be15a00f0a7f82d695d4c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit e82101b0cd6cdaaba8109e6c689f8d6edeb252cd
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Fix propagation of libtirpc flags into build of test source.
    
    Starting with glibc 2.32, the Linux libc<n>-dev no longer provides
    the /usr/include/rpc/rpc.h header.  The configure script will detect
    the availability of the libtirpc package and use the rpc.h header
    from /usr/include/tirpc/rpc/rpc.h.
    
    This fix extends the necessary compilation and linking options to the
    build of the open-vm-tools services test programs that utilize RPC.
    
    Fixes: https://github.com/vmware/open-vm-tools/issues/468
    Pull Request: https://github.com/vmware/open-vm-tools/pull/469

commit 3c20d288d6b1348ac5625c9b574db1edac16e8d9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 8efe182cdfeb85b7fb6b180a526c465714dd89f5
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 0e83a002e2b0836634bfcbfcff5dd45168cd25c0
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Common source file change not applicable to open-vm-tools.

commit bf677ea09702cb9185409dbdd6ca94478dcc7227
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Replace g_key_file() usage in the Vix plugin with VMTools functions.

commit d8eb9171431f69f818430699bb9ece67b1d39c76
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 50b718b2462ef24483bc0e3895a752f784eb64a8
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Adding localized messages for new toolbox-cmd subcommands in development.

commit 40c55773a03e552ff13bf0982d78962c7c9507a9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Remove the pam_securetty.so reference from the SUSE pam configuration file.
    
    The PAM config file for SUSE includes a library that is not necessary.
    This changeset removes the unnecessary library per KB 78521.

commit b40b15bce04fb65641fa469b49627f59fe874a69
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 4ed052eab5972e7c28ba40302c14e229c9e2cac7
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Changes to common header files not directly applicable to open-vm-tools.

commit 24cb1ecb455d9d1e348a2eb2bc7ced692e9f4f6d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Nov 20 08:37:30 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit d37e545258fe051acba22d728aa3d2b2232e0710
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 4b09058fb66e07b2545d779e5aee80e18c02e6ed
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    JSON escape a UTF8 string, plus a general purpose routine.
    
    Provide a JSON escape routine working with UTF8 built on
    top of a general purpose escape routine.

commit 1ef815ffcbced6cb22cd7ecf84ee6ca23e20da2a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 381f8471434b84af40733a60163810734b437b4b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit e51d9ca883dc892c126ba231ece82d2cc87898e7
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Misc cleanup of "xferlogs" utility.
    
    Update the xferlogs usage message to include a 'upd' option, and use
    glib to parse and print usage.  Remove the dependency on the vmtools
    library.

commit 330eb4025c26305e85fc5603dba88cefed261778
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 3cb3c6735d9f90b777765b93b93587ffe1db3a9a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Common header file change not directly applicable to open-vm-tools.

commit 263fd9cf2c07cf20214a51427b6a9afb14ed0c2b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Common header file change not appplicable to open-vm-tools.

commit 6cbd023665f07949526f7985d36d15739cf8ca90
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Common header file change not directly applicable to open-vm-tools.

commit f775ee10e6be1714b7fc3cf79037fdca6916a689
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Service Discovrey: Fix a task thread and child process deadlock.
    
    Correct argument order in a warning message.

commit 4f127053603aeffe722a9441f51529d1819cd658
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    vm_assert.h: Document usage patterns where they're easy to find.
    
    This is a formatting and comment change.

commit 85004da3412c57a5ca40b6b4b4a087fe4a3e6591
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 807af42f5574a933d7e45c627e2537f1137c1e47
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Common source file change not applicable to open-vm-tools.

commit dc029b6a3b3e269a13a3a52142411e38ed5e163e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Common header file change not directly applicable to open-vm-tools.

commit 4dff6fd60f99d79c5fa8739e19c82c8bef21dcab
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit 5f7df88d6bd7d3621a241cb0267b6523d28f9311
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Changes to common header files not applicable to open-vm-tools.

commit 004f1603ef72cd4baeb713b1d10ec67490777d5f
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Add a usage message for the "checkvm" utility.
    
    This change alters the functionality of the -h option to print a
    usage message by using glib options.  The previous functionality of -h
    was to print hardware version, which prints invalid results.  This
    change also removes a repeated header file and removes the -r option
    which prints invalid results.

commit 2614ce5bbf473c3df03f35d68cd8eceee8dbbf98
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit c27a6eac336305d36ee2fba7c192e5d0ea4bf0e4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Change the default Unicode error errno.
    
    In times long past, EINVAL was chosen for the errno returned when a
    Unicode problem was detected.  This overloads EINVAL, particularly when
    using POSIX system calls.  Unfortunately, the overloading makes it very
    difficult to recover from some errors as there is no way to know the
    difference between a "real" EINVAL and a Unicode problem EINVAL.
    
    Over 10 years of data shows that we *RARELY* encounter Unicode errors.
    Inspecting the source base shows the code segments that do check for
    errno after an error either:
    
    1) Post the errno value and die.
    2) Have switch handle cases but also have a default catcher.
    3) Have an if/else waterfall with a final else.
    
    Another observation is that Unicode routines are not involved with
    anything that would return a math related errno (e.g. ERANGE, EDOM).
    
    Changing the value of UNICODE_CONVERSION_ERRNO to ERANGE and avoid
    any overloading.

commit d35ef560247e7f0bd798ae45646eeaee38d3a12b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:03 2020 -0800

    Changes to common source files not applicable to open-vm-tools.

commit e47338fd721f3393823d778e487ee3c937594311
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Nov 9 12:29:02 2020 -0800

    Common header file change not applicable to open-vm-tools.

commit d6ba5ae8996e44e52c9ee967c6d44036fa2eba92
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:55 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit a4c1458c67a291c2a2d69d2a7f829daac00face1
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:55 2020 -0700

    Common header file change not directly applicable to open-vm-tools.

commit 727a554c3d44ae615e23361a450ccfd793198019
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:55 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit e18e67f727d0354b08a55b685178fd05f542c6da
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:54 2020 -0700

    Fix memory leaks.
    
    A Coverity scan of open-vm-tools reported a number of memory leaks
    on error code paths.  Fix seven reported leaks, and modify code
    to address two false positives in order to make the code clearer
    and/or keep Coverity from reporting the issues.  Also fix additional
    leaks found in the routine Proto_TextContents during code review.

commit bf3a15812b587bc46f79f8ca97253d7a867456d5
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:54 2020 -0700

    Common header file change not directly applicable to open-vm-tools.

commit 646eaa37a982d4f665443b6a017f8d420fc80546
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:54 2020 -0700

    tools: Fix Coverity errors in resolution plugin.
    
    Fix multiplication overflow and fgetc usage to avoid Coverity errors.

commit 1548fae0093271462d23bb5d66eb9c2e6521fece
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:54 2020 -0700

    Fix a memory leak in HgfsOplockMonitorFileChange
    
    In the error case, "data" was not freed.

commit 2bb9aab991f787cf07941d6c76812c089ea830ab
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:54 2020 -0700

    Common header file change not directly applicable to open-vm-tools.

commit 90aeb31d98be541fdd2324e97160cef7abad93cf
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:54 2020 -0700

    Terminology cleanup

commit 23e7479ca368d392395499a3db192c97112a156c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:54 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 8bc0c0b8e3274cbfacb4ab1ace1a1fb644b66c64
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:54 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 26fc16779ffbce1833ea90d1d5efdba83708bb87
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:54 2020 -0700

    Update vm_basic_types.h for apple silicon
    
    Apple silicon compilers will define __arm64__ as their
    name for their new CPU. But they also define __aarch64__ which
    existing 64-bit ARM CPUs use.  Add a little bit of logic
    to enforce and document this.

commit f73fa790abde3fe385cca37ed8583073eea36b7f
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:54 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit b924451d819b646f2c25b873682c35937856dd1e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:53 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 75aabacdb096aa39252a14cf9ecbb11d7539369b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:53 2020 -0700

    [GlobalConf] Support for vmusr service to load Global Configuration.
    
    Currently, the vmsvc service periodically downloads the Global Configuration
    from the GuestStore and applies the downloaded configuration.  'vmusr'
    service doesn't have the support.  In this changeset, made the changes
    for both vmusr and vmsvc services to periodically check and apply
    the changes.
    
    To keep thing simple and easy, the new approach is check the
    modification time every time the regular tools conf is read and if
    changes are detected, the configuration is applied.  With this new approach,
    signalling mechanism is not needed and that code is removed.
    
    vmsvc:
    * Starts a background thread which periodically fetches the global
    configuration from the GuestStore.
    
    vmusr:
    * No background thread is created. But checks and loads the configuration
    everytime the regular tools.conf is checked.

commit 00531302d7e56bddaa037e5e4ae006135a34cca8
Author: John Wolfe <jwolfe@vmware.com>
Date:   Mon Oct 26 17:29:53 2020 -0700

    Check in tools gdp plugin OVT installer code.

commit d3ed2aebcb5b33581ad49f85e41e6fa0eca98738
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Oct 16 21:03:23 2020 -0700

    Get the latest README.md from the stable-11.1.x branch

commit eae2394df5fc0856c4bc4133c569e13f5e327efb
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:56 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit b76c75ae9a48e68e55412d0fd97f238a66409ea0
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:56 2020 -0700

    Changes to common source files not directly applicable to open-vm-tools.

commit b966cb3822b3a8cb9815af6f2da46f8f367b58cd
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:56 2020 -0700

    Changes to common source files not directly applicable to open-vm-tools.

commit 99d5a9ea8605ad5ce085f109d4e3d378bf327db4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:55 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit fd75f811c8d09b662ee78f072d90ec6c915fcec6
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:55 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit c1f88125233b074398bb6ba38d7b5c2ae19e7085
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:55 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit ece245c662d28b3880eb0ee40e8c427a2aafe4c8
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:55 2020 -0700

    Changes to common source files not directly applicable to open-vm-tools.

commit 695d2fab5c8a036b8b7584877fb490bf505c178b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:55 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 84d87f789f8d93e5d265afe4288a6111c90341c4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:55 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 48e96c64a3a51b9bca2dd7614b1c7a04cc4dbb1d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:55 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 49103fbe71707b99323c996a23ec22fde5cb1438
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:55 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 08333afefd17ac7617ba5d4b1e3f087cccd97056
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:54 2020 -0700

    L10n drop for open-vm-tools 10.2.0.

commit 6cbee265af33370fe41a47db63c90cfd52ecdba4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:54 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit a869ed128c313d6335316fa10ebfbe15ace2be73
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:54 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit b6f81f00fcfbc602838b48feca9f85da2847cf59
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:54 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 66eb1b16e7cea8399c67d71eee45acd015e12a49
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Oct 6 14:30:54 2020 -0700

    Adding the vgauthImport utility to open-vm-tools.
    
    The vmware-alias-import utility is not currently packaged with the
    open-vm-tools bundle; this change adds the utility.  It is built
    only if vgauth is enabled.

commit a021b598a61aadccd7da931c7ab717312ca03c0f
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:07 2020 -0700

    Fix the exit code when toolbox-cmd disk shrink is canceled.
    
    The toolbox-cmd disk shrink operation was exiting with status 0
    when a SIGINT is received.  A non-zero exit status is expected.
    Change the exit code to 130, which is the appropriate value
    according to TLDP: https://tldp.org/LDP/abs/html/exitcodes.html

commit 985c9a0ea8e4ff00d5cfbadbb0397c12a8ec0240
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:07 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 81aff3a41e14b4aaae285bebb95cc6545a600c77
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:07 2020 -0700

    Fix memory leaks in guestInfo/diskInfo.c.
    
    When checking for IDE, SATA and SAS disk drives, the glib GMatchInfo is
    passed to a g_regex_match() function inside a for loop.  It was not
    properly passed to g_match_info_free() before subsequently being reused.
    
    This addresses https://github.com/vmware/open-vm-tools/issues/452

commit 1c5d9dbbd3c19eb135633f9fefc47c654eacde76
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:07 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 30c87d05d1bb654b2bc37f482c779961bdb20506
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:07 2020 -0700

    Common header file change not directly applicable to open-vm-tools.

commit 457adfe51c0e03610705d32b0fb5cba55deb1304
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:07 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit cd6824eb5014508f479bb8deda86529bc5a21e79
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:07 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 9338c579fba6ee1f8d3a50df63f67cec7785d71b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:07 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 5ba9b23033f6500570f6a706aee18477c72039ac
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:07 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 77c30381461404f2b9468edfd6d010f36183f3ca
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:06 2020 -0700

    Common header file change not directly applicable to open-vm-tools.

commit 65fd0bf725a223d31d09c249675a5e1d1eb5dabb
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:06 2020 -0700

    Common header file change not directly applicable to open-vm-tools.

commit 3267a1eb6964a4bb35806d1a117531b3a4119c9d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:06 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit cd53ce69a494ac0929523010f768a03e4cafec24
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:06 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit c86819a35d2a64a47bc846eeb8083a0dbd18b742
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:06 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit d6d96d1c7e53ea53affacb538342857d688a7aa1
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:06 2020 -0700

    Fix a minor memory leak in VIX Listfiles().
    
    The GError structure is not cleared in an error code path, which
    leads to a minor memory leak.  Explicitly call g_clear_error().

commit af4e12648002f9ac4fdcc50a3aa04dddbaf5398b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:06 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit c7b7ff477ca923833deebed645fec6b1612d4c5a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:06 2020 -0700

    Changes to common header files not applicable to open-vm-tools.

commit ee09d506dac785a790e78b0e0dca0b99f447c694
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:06 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit bc811a0fcd6b80082fc7f513928e9c448e7bf46b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:05 2020 -0700

    hgfsServerOplockMonitor.c  HgfsOplockUnmonitorFileChange():
    
    There is no need to cancel the monitor action if the oplock monitor
    module has already been destroyed.   Avoid a possible NULL pointer
    dereference.

commit 49c898507badc4d19e17a5e3230116505aa58f93
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:05 2020 -0700

    Changes to common source files not directly applicable to open-vm-tools.

commit 2d3a1ce819c86360cf00c7a3352c501674daaae1
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:05 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit ce5044577a89c0a66f4b427067c2843f4094044b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:05 2020 -0700

    Update the development tools version for the next major point release.

commit ea2e57b14f0b4b063556fda617829ad1320d8565
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:05 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 97582346292959b5b4d125485ab7cf9747c1c391
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 14:54:05 2020 -0700

    Fix a potential null pointer dereference in asyncsocket.

commit 9a3f9c925037fc7cba45761c6fcae762ded0668d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Sep 22 08:20:25 2020 -0700

    Captured the "devel" change log history since the start of the "stable-11.1.x"
    branch.

*****
    Created the "stable-11.2.x" branch at this point.
*****

commit 19d12e9a038a1835155ae26631b9a34d5a54cfcd
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:06 2020 -0700

    Common source file changes not applicable to open-vm-tools.

commit 5e0117e5ac8620ee00906fb9f070e92ac6a15baf
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:06 2020 -0700

    Changes to Common source files not applicable to open-vm-tools.

commit e71f137295a2aa94931369060a08a9fd6c1dde33
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:06 2020 -0700

    GuestOS: Add Flatcar Linux (64-bit only) as a new guest.

commit 53c5a3a8cb653031d3efa8009274b2b96c84ce25
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:06 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit d93e52f060d979baea5bcb63fac62a32a276becf
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:06 2020 -0700

    Common source file change not applicable to open-vm-tools.

commit 6c40ef8aa76485edbc322711cae34cb75df56d2a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:05 2020 -0700

    hostinfo.h: stop including x86cpuid.h
    
    With the removal of Hostinfo_GetAllCpuid in an earlier change, hostinfo.h
    can stop including x86cpuid.h and only needs vendor IDs from x86vendor.h.
    
    Unfortunately, quite a few source files depended in hostinfo.h's automatic
    inclusion of x86cpuid.h. Fix them to include what they need.
    
    The lib/include/guestStats.h is a special case that happened to succeed because
    of a warning that was disabled in x86cpuid.h which also happens to have
    been included earlier than this header.  Re-disable the warning.

commit 1f66f283c20f7f5cd154ca34c33e3e145659916a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:05 2020 -0700

    Ensuring vmtools utilities are only used in a VMware virtual environment.
    
    Several utilities do not check that their running environment is in a
    VMware hypervisor.  Add checks and generate error messages if the
    running environment is a physical machine.  Some makefiles were altered
    o resolve dependency issues.

commit 6f78dd5ce2733ea964fe969cb739daa55e329e70
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:05 2020 -0700

    VGAuth: vgauthd service fails if vgauth.conf samlSchemaDir has trailing whitespace
    
    When reading the vgauth.conf samlSchemaDir, remove any trailing whitespace.
    Also remove trailing whitespace when reading any preference string.

commit e6b3847d7bd9b811faff47126da72436d0e69ea2
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:05 2020 -0700

    Additional clean up of vmware_pack files.

commit 1cb3b54c545608fff271ca076b832c991a9316fb
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:05 2020 -0700

    Updating authors for OVT contributions
    
    https://github.com/vmware/open-vm-tools/pull/432

commit 098d213d1db4b4bb22823036cca7f3bc6f06af71
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:05 2020 -0700

    Changing permissions of tools configuration example file.
    
    Also made a small change to another makefile for more consistency in style.

commit 6ef9d2fb20c127d633210b4537848021b1840013
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:05 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 3b5f6264e905911ed87196cd49eec8387205da1e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:05 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 46c324e50081f63b12890cae9f0a9147805cdbee
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:05 2020 -0700

    Additional clean up of vmware_pack files.

commit daa348acc12b0c24075276874c03d97acd2d247e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:05 2020 -0700

    Additional clean up of vmware_pack files.

commit fdcc1ae11383e627ba624dc06c94d2ea0b62032f
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:05 2020 -0700

    Additional clean up of vmware_pack files.

commit 8cb221c581abe6a905ebd348d32cc3ecb6cabb93
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:05 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit c2553fbd4906f47984f01f11a208fea742683a5a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:05 2020 -0700

    Change to common header file not applicable to open-vm-tools.

commit c161dcb11d061c6bd4ef3c5aa563b15b13167bdd
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:04 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 4da428cb1bbea7a5e1e9da2df40d410ca557f63f
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:04 2020 -0700

    Back out earlier common header file changes.

commit 7903a7eaee51685e70abfd7c227d1828c34e9373
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:04 2020 -0700

    Backout the previous header file change.

commit ccba10c950c5a5a30c884c6ad3f5b2e71add5b09
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:04 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 27ef6c9deabdc9fe31de7b4f5da02a4408463410
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:04 2020 -0700

    Changes to common header files not applicable to open-vm-tools.

commit 2e5c40274f3f09d95084dafc9608123bf59f80b7
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:04 2020 -0700

    Replace a bogus URL provided in a vmcheck.c error message.
    
    Previously the URL "http://www.vmware.com/info?id=99" appeared in
    an error message in the vmware_checkvm binary to refer to VMware Tools
    updating information that may change from one release to the next.
    That information is now available from the single VMware Tools URL"
    https://docs.vmware.com/en/VMware-Tools/index.html.

commit fe7c6ebcd1fdf3e25246c7e1725063f8c4978db3
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:04 2020 -0700

    Get rid of more vmware_pack files.
    
    gcc supports the Microsoft-style "pragma pack" syntax.
    Standardize on it.  The conversion is somewhat non-trivial,
    as gcc requires "pragma" to be before or after a statement,
    not in the middle.

commit 055fed60e4f1a545e923c2aa0c14f5ecdb53b6ab
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:04 2020 -0700

    Common source file change not applicable to open-vm-tools.

commit 3afc566751b7d151b2adb75703b5dfc10bff2237
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:04 2020 -0700

    Log Facility: Infrastructure changes for module level filtering
    
    Additional changes to log.h and loglevel_userVars.h

commit 0516ef4a9a98f435aa3fbf20be43fc9581b34115
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:04 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 3a10aafdeaac5c708d951e122bba816d9574b2be
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:04 2020 -0700

    Remove PANIC() macro in favor of Panic() or VERIFY()

commit 54d36be9679eec0971a31d5b608bb51ecb07dd25
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:04 2020 -0700

    Record usage of VMware Tools version 11.1.6

commit 90ac21d93e9159582865955c83d47676db2ea34f
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:03 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 3df677d2ba3b4ddefc81c0ae0e381c782c81bbb6
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:03 2020 -0700

    Changes to common header files not applicable to open-vm-tools.

commit 652aeafa2cee7893b66f73f3096077232e6dce93
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:03 2020 -0700

    Adding null check for results passed to log function.
    
    In several files, replies/results from RPC functions can possibly be
    null if the function fails.  This changeset adds a function-like macro
    which does the null checks and is applied to the replies when passed
    into logging functions.

commit 31e14a2def83c8cf4450543c042c61a5e811eada
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:03 2020 -0700

    Ensure the servicediscovery plugin isn't enabled in an open-vm-tools build for non Linux OS.
    
    The servicediscovery plugin is supported only on Linux platforms.  This
    change checks that this plugin is enabled only if the OS is Linux.
    Otherwise, an error message is printed.

commit be533613b3efdc8f78f6762aa31574173443e7e8
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:03 2020 -0700

    Tools consumes loglevel_user.h
    
    Adding lib/include/loglevel_userVars.h.

commit 5a9242dd13e229929e1c1dbe6a872b4c0e9e3361
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:03 2020 -0700

    Split out the log level defs from the log level vars.
    
    This way the Log Facility can use the same name space as LOG for its
    domain specific level filtering by including loglevel_userVars.h directly.

commit 3fbb1d39f298f37248ec9690f08c550872846940
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:03 2020 -0700

    Backout the previous log level defines change.

commit 34a64c375ee0a16db7e1f85f358c90d12815dac2
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:03 2020 -0700

    Split out the log level defs from the log level vars.

commit 606ed341010cec4a3c32233ba47e88aca9eb7b4d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:03 2020 -0700

    Get rid of vmware_pack files (devices edition)
    
    gcc supports the Microsoft-style "pragma pack" syntax.
    Standardize on it.  The conversion is somewhat non-trivial,
    as gcc requires "pragma" to be before or after a statement,
    not in the middle.

commit 2174f3237b58391e9155e37895ef63c0043b0b35
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:03 2020 -0700

    vm_assert.h: Remove unused PANIC_BUG

commit 42af202affbf0cc2bb533dd430933bf5ee2ce247
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:03 2020 -0700

    Swap out Log+PANIC for Panic
    
    Just call Panic with an appropriate string instead of a Log+PANIC.

commit e61fbb2ebeb701063ec1e1362d7e1b19695ba183
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:02 2020 -0700

    LOG: Keep the LOG_LEVEL entries sorted
    
    This is the first in a series of changes to the Log Facility that will add
    the ability to have domain specific filtering (e.g. foobar domain can have
    log calls which are filtered by domain (name) and level).  This will make
    LOG like abilities usable in all build types, even a release build.
    
    The LOG_LEVEL entries are difficult to find since they are in a jumbled
    order.  The existing grouping isn't useful as many of the modules are shared.
    Create one big sorted list.

commit 16f81450b4820a4634dfefbaea222dda161e445c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:02 2020 -0700

    Common header file change not directly applicable to open-vm-tools.

commit d2404fe3a2dfc88b118bd8dcf3655a960b52c822
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:02 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 31542efae6854d989d51b5d4c3333d3baa43dfc8
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:02 2020 -0700

    Removing unnecessary code from rpc header file.
    
    Several macros related to VMDB are no longer needed in the guestrpc
    header file.  This change deletes those unused macros.

commit 0bb2d1599b4a29486aef2d4bced25992a99154cf
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:02 2020 -0700

    Improve the logging for deployPkg in a few workflows
    
    When executing Perl script in Linux Guest OS customization, log an
    error if the execution fails.

commit 1c3925b3078008ff48b2c89c1ed080c583aba840
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:02 2020 -0700

    Add --cmdfile argument
    
    Some OSes (Windows) have a relatively small cmdline limit.
    Expose a cmdfile argument which works like --cmd, but
    reads the input from a file.  This allows RPCs which can
    have huge arguments (guestVars, namespaceDB, DataSets) to work.

commit 00d5ee23bdbbc01ac7eb326715ae7a98c0acdd06
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:02 2020 -0700

    Common source file change not applicable to open-vm-tools.

commit 248ef2c5361a0a8a7e4bed9cafec50598a313899
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:02 2020 -0700

    Fix a stack-use-after-scope issue in FileLockScanDirectory.

commit 504e2b8021b5c1e51c7f208c11acaac444531feb
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Sep 11 12:11:02 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 79790f72cac52853dba8abba51e51226dad721f0
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:46:26 2020 -0700

    Update copyright dates.

commit dd54c97c7aca69dda041e82fd1a62a836c20db4f
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:12 2020 -0700

    Remove the guestApp.h header file that is not needed in conf.h
    
    The configuration header file conf.h includes the guestapp header file
    guestApp.h, but there are no related references to the guestapp header
    file.  This change removes the unnecessary header file.
    The guestApp.h header file is included in the few source files with
    a dependency on it.

commit 1b7f86e63a4a03170de159aa719c5e5be7e2dcea
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:12 2020 -0700

    Including appinfo and servicediscovery settings in configuration file
    
    Adding the default configuration settings to the tools.conf sample.

commit 45d0a2d16b5fb25ec11df8e9f75000917e279c22
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:12 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 093fcc60b980a6d48e9e3ed2156e79c6a6790f99
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:12 2020 -0700

    [HGFS Server] Add file attributes/symlink check status cache using oplock support
    
    An investigation found that while copying a group of small files from host
    to guest using the shared folder, the HGFS_OP_GETATTR_V3 message was handled
    in HGFS server 276,140 times over a period of ~35 seconds.
    
    Caching the file attributes in HGFS on the server-side can reduce the time
    significantly (from experimental results, 35s => 8s).
    
    It was also discovered that Posix_RealPath is called repeatedly to check
    whether a path is a symlink, since HgfsServerGetLocalNameInfo is called when
    handling a series of requests.
    
    Integrate a key-value cache to HGFS server to cache the symlink check results
    and file attributes, using the file path as the key.  This task will be divided
    into multiple change:
    
    1. Add oplock support
    2. Add a customized LRU cache in HGFS server for file attributes and
       symlink check results
    
    -  New files:
       hgfsCache.h/c: implements a customized LRU cache which is built by
                      combining two data structures: a doubly linked list and
                      a hash table.
    
    -  The cache will be allocated only when oplock is enabled.
    -  The cache relies on the file change monitor provided by oplock to ensure
       there is no stale data.  When adding an entry into the cache, also
       register the file change callback to oplock.  Upon receiving the file change
       callback, invalidate the cache.  Once the cache is full, remove the LRU
       entry and unregister the file change callback for it.

commit e860f4aaaac89aa0043a948ae79ac1b2a8dab6b4
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:11 2020 -0700

    Change to common header files not applicable to open-vm-tools.

commit fac536ee236d87e779a323bc99e6f5c66550abf8
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:11 2020 -0700

    Common header file change not directly applicable to open-vm-tools.

commit f7ac1c4b756bc8a0b4b248299f725df773858695
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:11 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 07b065dbceadc6968f9b145dcef13a9fdfde1587
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:11 2020 -0700

    Define "Unknown Command" Macro to replace hard coded strings in rpc files
    
    This changeset finds all instances of the hardcoded string "Unknown Command"
    in a few rpc files and replaces it with a macro defined in a shared header
    file.

commit 468fcf407bd71983cca6652d71547099772f37f6
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:11 2020 -0700

    Changes to common header files not directly applicable to open-vm-tools.

commit bab170d03516705690ec347ba4c0ffbf5338f42a
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:11 2020 -0700

    Changes to common header files not applicable to open-vm-tools.

commit 2f11b89440dfb80a8b3a8ff1b343642367b2491b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:11 2020 -0700

    Fix log recursion issue in DestroyRpcChannel()
    
    Avoid calling g_xxx() logging routines in any function directly or
    indirectly invoked from VmxGuestLog().  Change the g_debug() call in
    DestroyRpcChannel() to a Debug() call.

commit 46808762d89d92cdb2d2d382ff01227bdaf99f49
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:11 2020 -0700

    Changes to common source files not directly applicable to open-vm-tools.

commit 7ea7359bcac3bab10db4d568156ccc9c7849ef40
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:11 2020 -0700

    Remove #include for headers that are not needed in serviceDiscovery.c file.

commit 697e20320ee71b8feb248582ccf0100b919f5b32
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:11 2020 -0700

    Changes to common source files not directly applicable to open-vm-tools.

commit e70b82a46f92f8094d321a44f5402de1686f22b2
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:11 2020 -0700

    Removing windows header file which is not needed for OVT build
    
    Changeset deletes code which references a Windows specific
    header file and cleans up some whitespace.

commit 95f424ea52f3a674a3d3181759cb1fbf7315b315
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:10 2020 -0700

    Adding vmtools library dependency to deploypkg library
    
    Some functions are not found in shared libraries when linking,
    which generates several warnings.  Added a library with
    the needed functions to the list of dependencies.

commit cfbb787aa6c14ed71314b848fde915dc40fb8055
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:10 2020 -0700

    Backout the previous common souce file changes.
    
    Restore files to original state

commit 78871a8b52d44aa4211890e4e7dadac31a56fe97
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 18 07:14:10 2020 -0700

    Changes to common source files not directly applicable to open-vm-tools.

commit 98ac6d11bd48531c138f2fa82d70e71ec848a515
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Aug 11 21:26:23 2020 -0700

    Update the copyright

commit 32e653c935977b511470fafccb3cddcdb566df85
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:26 2020 -0700

    Backout the previous common souce file changes.

commit f08d6f6d9a2cefe2f5a24fbe6836362c6fddde23
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:26 2020 -0700

    Changes to common source files not directly applicable to open-vm-tools.

commit 09c15cc2d69d00799361b1ffc3b87550377b5f31
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:26 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 62896f05bb22a2217851dc5dda59d0605e76d2bf
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:26 2020 -0700

    Address some Log spew for toolsdeployPkg.log
    
    1. Remove the extra '\n' at the tail of logging messages in imgcust.
    2. Update the log printting function, do not add '\n' if the original
       log message has already included it.

commit 9cbda48c6a5b778b30db123d621c358a15d215bf
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:26 2020 -0700

    Add copyright header to service discovery scripts

commit 3aef7599dc3ea7468149be55d9ed5c3bbcb6061b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:26 2020 -0700

    common header file change not applicable to open-vm-tools.

commit 1eb8a82ac5e2f493ad23caf67e9bab8fd4cd3802
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:25 2020 -0700

    Common source file changes not directly applicable to open-vm-tools.

commit d2c7b255e902fcced1b60d30ff472d88595613ea
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:25 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit a65b1788534991fa3989a3a65942e944588df897
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:25 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 8dc74b22555398fbea5a7895914a910411909803
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:25 2020 -0700

    Updating the copyright date on a few files.

commit bddf9cdc61846cf9d6e8f36585dcdc0b39339beb
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:25 2020 -0700

    Resubmit the gcc baseline to 4.1 bump.

commit 563ab298de4a7d25355fd7768542b655660e22b9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:25 2020 -0700

    Backout the previous gcc-4.1 enforcement.

commit 57b3aa2a537fc1a7d5c6e04cdbbcb39e472f38af
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:25 2020 -0700

    Bump gcc baseline to 4.1

commit ac7098903f510f69b8aefdd9ae2625f691389ba8
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:25 2020 -0700

    [HGFS Server] Support oplock inside HGFS server for Windows host
    
    Missed two source files for previous HGFS Server changeset.

commit 31978d3150e9730e75266689e18404f49430ca44
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:24 2020 -0700

    [HGFS Server] Support oplock inside HGFS server for Windows host
    
    The motivation for this change is to cache file/directory related information
    in host side, for example the file/directory attributes.  To make the cache
    correct, we will use the oplock(Windows)/lease(Linux) to monitor the
    file/directory change event.  When the file/directory changes, the item in
    cache will be invalidated.
    
    In this change, two new functions are defined:
    - HgfsOplockMonitorFileChange
       This function is used to monitor the change event for a file/directory,
       and the callback will be called if file/directory is changed.
    - HgfsOplockUnmonitorFileChange
       This function is used to cancel the change event monitoring.
    
    This patch only implements the oplock support for Windows host, the support
    for Linux will be delivered in another patch.

commit 3b40aceb52c8fd2b001c0b5aa192018fad3fa2c1
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Aug 7 12:03:24 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 6757870e37708413ea005c5790f292f1115b12ec
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:35 2020 -0700

    The new table driven guest identification code did not handle Red Hat
    properly.  It needs to be checked for before Enterprise Linux.

commit 17f34b99fcde4d7f1a5dd26e766c502dc804a2db
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:35 2020 -0700

    Changes to common header files not applicable to open-vm-tools.

commit 623f1d057fd552a2a20110c8f2ad2e00ec01b0ad
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:35 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 6578e6a740a027e8957b8af1442277feba022ef9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:35 2020 -0700

    Remove duplicate global definitions.
    
    Remove duplicate and unused global definitions for
    GDK_SELECTION_TYPE_TIMESTAMP and GDK_SELECTION_TYPE_UTF8_STRING.
    
    This fix will address https://github.com/vmware/open-vm-tools/issues/451

commit bd2b5b4a8dfa4f449cc0afa4262e28bb4db06714
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:35 2020 -0700

    Changes to common header files not applicable to open-vm-tools.

commit 012ae95c08eaba8c46152422a23a2a82ff330f0c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:35 2020 -0700

    serviceDiscovery: Double quoting script variables that might contain whitespaces.

commit 6908a9f51956ef77c5e7a45d42ab09c3aba2c818
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:35 2020 -0700

    Update to the tools.conf sample file not applicable to open-vm-tools.

commit 3d311af531f06e7de255b51534818dcf777c81b7
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:34 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 96daffa492eee5aa9e5ad03f1b67c17e5ccfae42
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:34 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit e6927bc3ac49fec1241bbf78cb35158553bab400
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:34 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 631280670bd5e0f50c2ece8ea43cc01c8586eb46
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:34 2020 -0700

    Changes to common header files not directly applicable to open-vm-tools.

commit c275d66d52a532ddae5ca0bfe4b1af7f71209524
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:34 2020 -0700

    [Coverity] Remove superfluous condition in if statement

commit 45b48c92746b4151b1eb118efdbfcb045cb4b97e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:34 2020 -0700

    Rewrite Linux guest shortname identification
    
    Replaced guest identification with easy to maintain tables
    as well as added general table search abstractions for easy
    maintainability.

commit 9e70e3db1038b2703b7c0e9d5e12afad1407e95c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:34 2020 -0700

    GOSC event doesn't report at once after customization process timer is reached
    
    When process timer is reached, the command process is killed and function
    ProcessRead is called to read all the output till EOF.  But EOF can't be
    reached immediately.  The reason is pre-customization script is launched
    by perl script, and killing perl script process doesn't kill the
    pre-customization script process.
    This code update includes:
    1. Do not read stdout/stderr when gosc command process exits abnormally
       to avoid the EOF blocking.
    2. Add READSTATUS_PENDING_TO_EOF in enum ReadStatus to avoid the confusion
       with READSTATUS_PENDING.
    3. Close the write ends of pipes (stdout[1]/stderr[1]) for child command
       process before it exists.
    4. In processPosix.c, the write ends of pipes have been closed in line 180,
       181, so the read ends should be closed in line 254, 255.
    5. Add explicit note for the beginning and the end of the perl script log.

commit 641874bfb831fc63e8ea289ee00d12d67734285e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:34 2020 -0700

    Common hesder file change not applicable to open-vm-tools.

commit 534f6bcbdda25bc9999c306cdd0d8e3e89f8f95c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:34 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit f1625fd8cad09739da8e67c952c27bdd425e096b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Fri Jul 31 13:36:33 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 44ad3675a33b804dd262bfab3279410aff442bcc
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:01 2020 -0700

    Fix memory leak issue for "vmtoolsd" binary on receiving SIGINT or SIGUSR1.
    
    Valgrind complains of a memory leak issue on receiving SIGINT or SIGUSR1
    signal, because we lost call to RpcIn_Destruct(chan->in) in
    RpcChannelTeardown().  It just happens to be released only at service
    shutdown or on receiving SIGUSR1 signal; not a major concern.
    Cleaning up the code.

commit 2696fb719e9589dd82477f296c7cf81cc3cad617
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:01 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit f1330b36a316d38930aa3a654ea288a40f5a2a70
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:01 2020 -0700

    [CLI] "removeAll" missing in first line of vmware-vgauth-cmd help info

commit 511b4a8d729adef45964aceb8b3f1a7ef285c132
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:01 2020 -0700

    Remove unnecessary FreeBSD strings

commit c9a362419af2cdc312591c5dd63258a765d6f8f0
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:01 2020 -0700

    Unknown Linux, later than 5 should report 5, not 4
    
    We want to report the highest version we know about in the short name.

commit 0265c8e2a43d45bfcbf9276168c55aa5fa69265e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:01 2020 -0700

    Improve the LSB distro identification table documentation
    
    Explain the LSB distro identification table and provide directions
    about when to use it.

commit 87128716f810df6140987db6de8c73905e8a3b8c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:00 2020 -0700

    Fix a comment about POSIX/Linux guest identification
    
    The comment is not clear.  Fix this.

commit 0dabbdf36c4f2fdc248f75a5c5325b9d82728c59
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:00 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 99ccb81ebb4d0d085a25b9b531c86d43e646be6e
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:00 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 3980498b245bf7a6a46a42d11dcdb725a326da70
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:00 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 3b9521c96f0ec985d4965c73e9fd70e9718b3d53
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:00 2020 -0700

    Common source file changes not directly applicable to open-vm-tools at this time.

commit 695611c22bb41a50abf71850ebc69de5ee415b09
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:00 2020 -0700

    hostinfoPosix: remove NOT_IMPLEMENTED() when NO_IOPL
    
    When running "vmtoolsd -b pidfile" on Linux arm64, we hit this error:
    
       [error] [vmsvc] NOT_IMPLEMENTED hostinfoPosix.c:2526
    
    Linux arm64 does not implement iopl() and the Hostinfo_ResetProcessState()
    is raising a NOT_IMPLEMENTED() because of that.  However if there's no iopl(),
    there is no reason to drop IO privileges, so we can just skip that code.
    
    This change also restores usage of getloadavg() for non Android arm64
    platforms: ESX vmx and tools for Linux arm64.

commit b1fdd4f15337cfb314652b66bbcc7be4bca100c3
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:00 2020 -0700

    Resubmit - Move vgauth to gcc6 and openssl-1.1.1e.

commit 31d769f152106333e00902432a4bf49158defecd
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:00 2020 -0700

    ServiceDiscovery: Reducing scope of local variables in checkForWrite().
    
    Reducing scope of variables 'clientTimeStamp', 'clientInterval' and
    'currentTime' in function 'checkForWrite()'.

commit 0e6bd1e045daeb194d624bf09a768f60a199b223
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:00 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 48a140340865ca769d022d741f6fdd6c73384a5c
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:00 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit e0152be9ef541f359bf2cc4452b838825cefd581
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:53:00 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit de28bcaf8e4e85bdfcc2d67577bb2a3656f76d4f
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:52:59 2020 -0700

    Backout the previous vgauth changes for openssl 1.1.1.

commit 8180c0dd6c2e07631173d00437934a369bf7e715
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:52:59 2020 -0700

    Move vgauth to gcc6 and openssl-1.1.1.

commit 4f6cec30425e7e65405ca3e7191bfcd03ffe97d9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:52:59 2020 -0700

    vmware-toolsbox-cmd: Fix illegal read memory issue reported by Valgrind
    
    Replace the static function MsgUnescape() and its memmove() call that moves
    1 byte beyond the termination '\0' with glib's g_strcompress().

commit d5a24c41aa23c155a24ed65174cd986452fddd0d
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:52:59 2020 -0700

    Backout the immediately previous changes to common files.

commit f078797c6b17ae91e3788da47a606313b141d0d9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:52:59 2020 -0700

    Common source file changes not directly applicable to open-vm-tools at this time.

commit 7bd7bb9e062c7e93f94197b52211d09ef535b4e9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:52:59 2020 -0700

    Common header file change not directly applicable to open-vm-tools.

commit 3e83452afcc6cc86b106b2c87527489c0126635b
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:52:59 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit a08df7a3eef47c1ed211ef034ae390a4ee898df9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:52:59 2020 -0700

    Changes to common source files not applicable to open-vm-tools.

commit 92022a07d524a16cccc71e44f4cbbbafdd1062bf
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:52:59 2020 -0700

    open-vm-tools: Propagate new gdk-pixbuf-xlib include location #438
    
    From github PR #438 (https://github.com/vmware/open-vm-tools/pull/438).

commit cffddcca7187adc043c82a24b5f15296fa6428c0
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:52:59 2020 -0700

    Common header file change not directly applicable to open-vm-tools.

commit c0dfe4248701323394959b34814bd48d2b157bbc
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:52:59 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 27fe47c54402b6d3e941b2c45e611b98a6c862e9
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:52:59 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 29b3ab0fd346f411e65a39a3b89f56eb85d30b20
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:52:58 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 6ae818a5c9c261c16c630fc3f5814cbf8d080022
Author: John Wolfe <jwolfe@vmware.com>
Date:   Tue Jul 21 11:52:58 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit e5d0e1a2d33bd9060d843007d6bafebac677735d
Author: Oliver Kurth <okurth@vmware.com>
Date:   Thu Jun 11 20:43:21 2020 -0700

    Fix misc. issues in appinfo plugin source.
    
    Used the proper @param and @return statements in the
    function documentation for AppInfoServerSetOption.
    
    Re-organized an if code block.

commit d5517e5255770cd66eab3239c9d617147a3b0077
Author: Oliver Kurth <okurth@vmware.com>
Date:   Thu Jun 11 20:43:21 2020 -0700

    ServiceDiscovery: Replacing deprecated 'netstat' command with 'ss'
    
    Updating the Linux serviceDiscovery scripts to use "ss" in place of
    the deprecated "netstat" command.

commit 9afd238cddc0cb0511d8daa903b4f5c9a52b8dc3
Author: Oliver Kurth <okurth@vmware.com>
Date:   Thu Jun 11 20:43:21 2020 -0700

    Code cleanup to address a Coverity issue.
    
    Coverity reports a "dereference after NULL check" in
    BkdoorChannelStart.  However, at the point of dereference
    it's known that chan->inStarted is TRUE, which means chan->in
    is guaranteed to be non-NULL, so it's not a bug.
    
    Still, given that an input channel, if present, must have been
    started before calling BkdoorChannelStart, it's possible to do
    some code cleanup that will also get Coverity to stop reporting
    the issue.  Change what's currently a test into an ASSERT, test
    chan->in rather than chan->inStarted, and add comments to make
    it clearer what's going on.

commit 5e1388e10828cec3885ab0107711f483fe732d33
Author: Oliver Kurth <okurth@vmware.com>
Date:   Thu Jun 11 20:43:21 2020 -0700

    Common header file change not applicable to open-vm-toold.

commit e52ffacc9d189e4a4fd5880e3b1c9593cb6c32b6
Author: Oliver Kurth <okurth@vmware.com>
Date:   Thu Jun 11 20:43:21 2020 -0700

    Fix Coverity-reported dead code issue.
    
    The underlying problem was that retryCount was being zeroed on every
    iteration of the while loop.  Zero it before entering the loop instead.

commit e3a31877f56c1f0274a7e45b39d3be16a5f64c5f
Author: Oliver Kurth <okurth@vmware.com>
Date:   Thu Jun 11 20:43:20 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 1669fe0b0c0161884f19bcce257e0b10328c14c6
Author: Oliver Kurth <okurth@vmware.com>
Date:   Thu Jun 11 20:43:20 2020 -0700

    Correct an issue reported by Coverity.
    
    lib/asyncsocket/asyncsocket.c:
     - AsyncSocket_SetKeepAlive() calls AsyncSocket_GetFd() which may return
       a negative result.  If that should happen, simply return FALSE.

commit 013e0137786b28fef01bf3a09d79087d656e8f6e
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:46 2020 -0700

    open-vm-tools: add distribution specific pam config files
    
    Add distribution specific pam config files for Debian/Ubuntu,
    SuSE and Redhat/Fedora/CentOS.  Install a generic file by default,
    with comments to KB article.  The distribution files are intended
    to be used by OS vendors in their open-vm-tools packages.

commit 6ffc688caa7755febe912851d70de304d1ad447a
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:46 2020 -0700

    Update the AUTHORS file for OVT an contribution.
    
    https://github.com/vmware/open-vm-tools/pull/431

commit 384414d61846f5bd81ce691662efe9d8616a6c69
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:46 2020 -0700

    Appinfo.h:  Add define for APP_INFO_GUESTINFO_KEY

commit 13ac4d1bff79b0218675fcd1b64205f39cdbc768
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:46 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 3d1d9c92f7ff88b8bd7dfaec674c30a7298b596e
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:46 2020 -0700

    Improve Linux guest identification function documentation.
    
    Make it clear that the "short name" of a Linux distro has a default
    value and that the default value should not be overwritten unless
    VMware does this.
    
    If someone cheats and sends down an unsupported "short name", the
    guestMapper will protect the software stack, mapping the unsupported
    "short name" to that of the guestOS config found in the VMX file.
    We know that is OK since the VM couldn't power on and run the guest
    unless it was valid.
    
    All older, supported ESXi have updates that contain the guestMapper.
    
    If the guestMapper is not in place - an older, unpatched release -
    the software stack can become confused causing problems and crashes.
    
    Change augments https://github.com/vmware/open-vm-tools/pull/431

commit 0cfda58aaa8bc0fea56f1211897e7f2237f6070a
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:46 2020 -0700

    Make peeking back into the stack work for back traces
    
    GCC 10 doesn't like peeking back before the end of an arrary (which
    is used to peek into the stack).  Fix this.
    
    https://github.com/vmware/open-vm-tools/issues/429

commit c7f4a5150d398184062b4d9ddba18d2c481c37f1
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:45 2020 -0700

    Pick up the LSB distro file for ALT Linux
    
    Improve the documentation of the Linux identification routine so others
    know that nothing needs to be changed in the field.
    Only VMware needs to add identification codes.
    
    https://github.com/vmware/open-vm-tools/pull/431

commit ae80317fcbf2026896b9fe5885992d919062d79c
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:45 2020 -0700

    SDMP plugin logs warning message every 5 minute if there is no
    Namespace DB instance created on a VM.  Changing the log level to
    debug to solve the problem.

commit 94fe542015b2764db1ea6b29c55cf53d9ce94f5a
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:45 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 0cbe4240689df8c7f6670bb2acf8d9c674063bb7
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:45 2020 -0700

    Clean up lib/file/file.c
    
    Consistency with the remainder of lib/file.

commit 070142eaf4742eff23d7bba2a20d07c0064f37d7
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:45 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 8c65a2773817208831d2c2db836a124fb6f6dd0a
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:45 2020 -0700

    Add a new definition for amazonlinux3_64

commit dca1937e894674fa41e7e0e2f622fb297ab74c08
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:45 2020 -0700

    Implement Set_option handler in appInfo plugin.
    
    * Added a handler for the Set_option for appInfo plugin.
      The poll loop will be immediately turned off when the feature
      is turned off at the host side.
      The poll loop will be immediately turned on when the feature
      is turned on at the host side.
    
    * Added the code to handle VM vmotion to an older host that
      doesn't have logic to send 'set_option'.

commit 3e3968f0b805d368b77e42902ec8283ba31dda7f
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:45 2020 -0700

    Enable recognition of other5xLinux and other5xLinux64 guests

commit f860921bce04cd0d7ad9f9eff977567d83b294a4
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:45 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 3bd995723f1c11e44ea391c296ad41cf5bc5f151
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:44 2020 -0700

    Directive argument is null from GCC 9.3.0
    
    There are paths that do not properly deal with NULL in FileMakeTempEx2Work.
    Fix this.
    
    https://github.com/vmware/open-vm-tools/issues/428

commit 88b016d68ec5bc3b03ae8255a47a9f2fb8630f3a
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:44 2020 -0700

    Add new definition for rhel9_64 and clones.

commit 5612d4889d6dae21dfbb27ec4291807baa55ce7d
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:44 2020 -0700

    Add recognition of FreeBSD 13.

commit 041028cd617331def7b3e6ef7cb98985c64cde38
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:44 2020 -0700

    Enable recognition of SLES 16_64.

commit b48233cb1a996928cf13f6e48131fadabc6e31e9
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:44 2020 -0700

    Add recognition of Windows Server 2021.

commit f40ebc8d757924b08af60956e290e7957274a14c
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:44 2020 -0700

    Enable recognition of darwin20_64 (macOS 10.16) and darwin21_64 (macOS 10.17).

commit 10e5fe6eb5bd803fe0545371d820133813b3e7d5
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:44 2020 -0700

    guest_os_tables.h: Backout previous change for SLES-16.

commit 5978c6bcb8fdf6900c30e2e220f8478070f3bf12
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:44 2020 -0700

    Enable recognization of SLES 16.

commit 0c7eb59720429fb8fa5872e432104731520e8799
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:44 2020 -0700

    Move appInfo and serviceDiscovery plugin related header files.
    
    As part of an upcoming project, some appinfo and serviceDiscovery
    header files are needed at a different location in the common source
    tree.
    
    * Moved the appInfo.h and serviceDiscovery.h to a different location.
    
    * Made necessary code and OVT changes to refer to new file paths.
    
    * Did some cleanup related to the MACRO names for the keys and scripts.

commit ffc6f72e9babdf82010a96c7c76a0e99d5d9633e
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:44 2020 -0700

    Fix a Coverity-reported NULL pointer issue.
    
    Check whether a pointer is NULL before dereferencing it.  Also
    updated a stale comment, edited a couple of other comments for
    line length, and deleted some trailing white space.

commit 96c50d2068e45f2803b8ad8c1e186480d82f4411
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:43 2020 -0700

    Fix dereference after null check reported by Coverity.
    
    Remove a superfluous NULL pointer test that causes Coverity
    to report a dereference after null check.

commit 60d527ae5ea021a7c04a8df7437ef8e5914e5404
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:43 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 3dfcedc9f383454baa79dcaa6508c676077177ca
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:43 2020 -0700

    Enable recognition of Amazone Linux 3.

commit 47c78f0e7ebbc80c9addeaa48fad88d507bcc759
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:43 2020 -0700

    Header file vm_verison.h not needed in lib/user/util.c.

commit cab6d8d915d86abd5558d00592e8b64386b50f22
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:43 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit d689c5de5349c48e3a84e72eaf7e2a6be52b8c08
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:43 2020 -0700

    Common source file change not directly applicable to open-vm-tools.

commit 8c0f47c895bd3cd901ddcc6df450a8d28fdf3578
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:43 2020 -0700

    Coverity reported issue: missing break
    
    Add the missing break.

commit bb11e038323893d2428eb2ce94f8742233b45546
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:43 2020 -0700

    Changes to common source file not applicable to open-vm-tools.

commit 421e77f5cbb0436bbafdb4d2ec7c39e637061838
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Jun 10 12:05:42 2020 -0700

    Common source file change not directly applicable to open-vm-tools.

commit 88836e5df83b215fed8821b3f31bb4a3091d9848
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:59 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 06ac81cfa3a6a31db045a719733a6b9f804063db
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:59 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 5a521ce9b164f0db7f860b154ab4baed553f5390
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:58 2020 -0700

    serviceDiscovery: Updating 'get-versions.sh' script
    
    The following changes have been made:
    
    1. Environment variable 'ALIVE_BASE' is used to construct the path of
       the file where vcops version is stored.  The variable is not avialable
       when running the script inside serviceDiscovery plugin process, so a
       hardcoded path is used.
    
    2. Added command to retrieve tcserver version

commit 20ad411ebeff55e6d7bfd15afc3fdd6fc3947511
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:58 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit c1832d6a60475850a25093d05ccf8c786dd89a50
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:58 2020 -0700

    Deprecate VMGuestLib_GetHostMemKernOvhdMB GuestSDK API.
    
    * GUESTLIB_HOST_MEM_KERN_OVHD_MB metric was already deprecated in ESXi
      starting from 7.1.  It's time to deprecate the corresponding
      VMGuestLib_GetHostMemKernOvhdMB API in GuestSDK.  The documentation
      will be update denoting that this API is deprecated.
      After one or two releases, the API will be removed completely.
      Untill then, the API is modified to explicity return 0 for the metric.
    
    * Only a few functions listed in vmGuestLib.h are exposed in the vmGuestLibJava
      interface.  The remaining functions are encapsulated in '#ifndef SWIG'
      to hide them from SWIG utility which is used to generate the Java bindings.
    
    Note: The external customer facing documentation for this API will be
          documented later.
    Note: Once this changeset is submitted, the vmStatsProvider module
          will be updated to stop using the deprecated API.

commit 6a5123f2e020e6e35d2111777f99879c791088a2
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:58 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit a1bb9128e3087602ce5280f43d639cd87e5487cc
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:58 2020 -0700

    Changes to common source files not applicable to open-vm-tools.

commit 0682a7064f553a3d50a55ac881b0e5e6b78a257e
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:58 2020 -0700

    Update to bora/public/vm_tools_version.h
    
    Add tools versions 11.1.1 and 11.1.5 to bora/public/vm_tools_version.h

commit d1ce2c08c47a82a4cfddae55a55c4b9619b08042
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:58 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 53473f83f7dfda6a0b592bbfdf1a5e6144b426e7
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:58 2020 -0700

    Changes to common source files not applicable to open-vm-tools.

commit a99fcf43fbef64cc36473750a441cb2f6265a1dd
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:58 2020 -0700

    Backout previous changes to common source files.

commit 8f68d75e3d6642e2f8d7d7ef9a4cbfcab052b3be
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:58 2020 -0700

    Changes to common source files not applicable to open-vm-tools.

commit 34d7c760709cec8938488d1c60831960bc30441d
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:57 2020 -0700

    Common source file changes not directly applicable to open-vm-tools.

commit f3423aa7a1d2f0d864eaaa6d11b8b34eacb04c3c
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:57 2020 -0700

    Common source file changes not directly applicable to open-vm-tools.

commit e25e233b02557a944babad5d8140472eb25c2210
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:57 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 5ed3bc8fe0cfee2b15b469b4f5e71c1fbb28bad9
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:57 2020 -0700

    Backout previous common header file change - not applicable to open-vm-tools.

commit 2f6676c69e332677b7bd598505de02d6e78e1fbb
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:57 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 0128592fd7ec406824237af5e184f72726715f59
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:57 2020 -0700

    Updating the bora/public/vm_tools_version.h history.
    
    Tracking version info for the 10.3.22 patch release and 10.2.23
    development version of tools for older Linux guests.

commit 146971ddbe43d24380891c4297493cce2d4a46c6
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:57 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 29c1c6743f5b1a2c9bf6d86f2eaacd10f2102aa2
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:57 2020 -0700

    Common source file changes not directly applicable to open-vm-tools.

commit 25320e4af24664ebb6ab324db0a1cdfebf241f37
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:57 2020 -0700

    Common source file changes not directly applicable to open-vm-tools.
    
    Pre-enable SUSE 16

commit ecdd9001cf809b2ce359f07f8b84d54cd436a573
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:57 2020 -0700

    Common source file changes not directly applicable to open-vm-tools
    
    Pre-enable RHEL 9, CentOS 9, Oracle 9, and Asianux 9 guests

commit 66e52b635938b8c4e5276944daaec1cddc5ae6f9
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:56 2020 -0700

    GuestSDK and vmtoolslib cleanup.
    
    * Removed the vmtools dependency for guestsdk.  This has been already
      done for tar tools build/target.  The same is being done for OVT
      builds.
    
    * Used various static libraries for building guestlib in OVT instead of
      depending on vmtoolslib.  Similar thing has already been done for
      appmonitor library in OVT.
    
    * GuestSDK_{Panic|Debug|Warning|Log} functions in vmtoolslib are not used
      anywhere and hence they are completely removed from the code.

commit 66b70db09241bef18694bc0e45bd94a1804b201d
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:56 2020 -0700

    Common header file change not directly applicable to open-vm-tools.

commit e4fdad51c47f5e2605a3ad9dd9e3451b25ba6fbd
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:56 2020 -0700

    Changes to common header files not applicable to open-vm-tools.

commit a760361f0b603f0dabe2e82cec1a728e5b3f796b
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:56 2020 -0700

    Pre-enablment: Recognition of FreeBSD 13

commit 80ce8edc04fcd3253174be476b0f09bdf5527bf5
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:56 2020 -0700

    Improve logging on signature verification
    
    If xmlsec and vgauth are built inconsistently, xmlSecSize
    can differ between the two, which results in a key datastructure
    being a different size, and vgauth ends up looking in the
    wrong place in memory for the signature check status.
    
    Log the status, so that if its not one of the two
    expected values, we have some ideas of what went wrong.

commit 4dbd9ff2e404957147ad1c22233388302b726d71
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:56 2020 -0700

    Changes to common header files not directly related to open-vm-tools.
    
    Recongition of MacOS 10.17 (darwin21-64) - pre-enablement on hosts.

commit f01d92c41b756f0167308ef7b5596b0554a661b8
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:56 2020 -0700

    lib/file: Fix a memory leak in FileLock_Lock.
    
    Valgrind complained about a minor leak within FileLock_Lock when running
    test-vmx Firmware.Efi.QuickBoot .  FileLockScanner builds a list of "active
    locks" and traverses that list repeatedly, but whenever it decides to remove
    an entry from the list, it would simply leak it.
    
    This change ensures that the list item is not leaked by Posix_Free()ing it
    once it is no longer needed.

commit c27281f24e043f64a9e627e2eaeccd9c196fc938
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:56 2020 -0700

    Hgfs Linux/OSX Server: fix write-only shares access check creating new files
    
    Linux and OS X Hgfs server has an incorrect failure status check when a
    user has a write-only share enabled.  In a write-only share any failure
    is mapped to EACESS unless the error is ENOENT when a new file is to be
    created.  The error check currently fails all errors when it should
    only allow creation of new files i.e., ENOENT with flags specifying
    O_CREAT.
    
    The check should be
       if (status == EACCES) goto exit

commit 5a300cffdb3c7069a104559b598f6315a6dbae00
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:56 2020 -0700

    Common source file changes not directly applicable to open-vm-tools.

commit e256c4eb87e602c981cd9b92ec4c52df861094f4
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:55 2020 -0700

    Common source file change not applicable to open-vm-tools.

commit d663f02db62cf44ee246956f50666f1c044cee2a
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:55 2020 -0700

    Common source file change not applicable to open-vm-tools.

commit c3d1c32369ec29653bd32beb3851d2d283dadd0c
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue May 26 15:32:55 2020 -0700

    Changes to common source files not directly applicable to open-vm-tools.

commit 215d376160a4c2f4e53666fd4275f7e8c7edc2da
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:13 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 3e5fd5d7976d9d047229b33f9a209c250f928384
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:13 2020 -0700

    [AppInfo] Tweak the gather loop only for a real config reload.
    
    The poll loop for the appInfo is being tweaked (destroyed and recreated)
    for every conf reload even when nothing related to appinfo changed.
    This may cause few scenarios where the 'application information'
    will never be collected inside the guest.  Fixed the code, to
    tweak the loop only when there is a real appinfo related config change
    in the tools.conf file.

commit c5f0d8d38bfedc576b9fec40b579a0d5f6c85688
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:13 2020 -0700

    Use RPCI_UNKNOWN_COMMAND macro instead of hardcoded 'Unknown command" string.
    
    At few places in the code, the result from the RPC channel send APIs
    is explicitly compared with a harcoded "Unknown command" string.  We already
    have a well defined macro for that.  Changed the code to re-use the macro
    wherever possible.

commit 7a981dcaa625a982e62e93ab63648dc02ac31595
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:12 2020 -0700

    Clean up a few things in the random.h header file.

commit bdd112cee037f58b2788d7bc3f1dbc9fa5344d97
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:12 2020 -0700

    Fix minor misc. issues.
    
    * In ServiceLoadFileContentsPosix() function, fd is always a positive
      value when close() is called.  The if check 'fd >= 0' is not really
      required.  Removed it.
    
    * Fixed the function name in the "procedure comment block" for the
      ParseShareName function.

commit 384b1e7b9e9a6dac67a285eef0acdd52f5c997e5
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:12 2020 -0700

    Fix minor 'Comparison is always true' warning in linuxDeployment.c
    
    pkgProcessTimeout is uint16 and comparison is always true because
    pkgProcessTimeout <= 65535, so remove the check.

commit 4b57bd2d1c9fa37994a562a63be2232af6c4587d
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:12 2020 -0700

    Deprecate GUESTLIB_HOST_MEM_KERN_OVHD_MB at ESXi level.
    
    Decided to deprecate GUESTLIB_HOST_MEM_KERN_OVHD_MB.  This changeset
    implements the necessary changes to deprecate the metric at the ESXi level.
    
    Will address the deprecation changes in GuestLib SDK/API in
    a separate changeset.

commit cb0a946b284d99f78da58e012a91c38eb81e492e
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:12 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit aa346e71e6bbc9a55f0a48d7d7b728e3128ae4bf
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:12 2020 -0700

    Backout previous change to guestlibV3.x

commit 0f90e3fdd95d62294452b159c11a66368f8114e3
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:12 2020 -0700

    Deprecate GUESTLIB_HOST_MEM_KERN_OVHD_MB at ESXi level.
    
    Decided to deprecate GUESTLIB_HOST_MEM_KERN_OVHD_MB. This changeset
    implements the necessary changes to deprecate the metric at the ESXi level.
    
    Will address the deprecation changes in GuestLib SDK/API in
    a separate changeset.

commit 91923b6c7d19edfedac6d7a36c4a9b795a7ef37c
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:12 2020 -0700

    Common source file change not applicable to open-vm-tools.

commit 7058e42e6fa34dcf60438d27827d9b9ba20f5bd1
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:12 2020 -0700

    Define macro for "Permission Denied" message returned from RpcChannel send APIs.
    
    In error cases, RpcChannel Send APIs (RpcChannel_SendOneRaw,
    RpcChannel_SendOneRawPriv return 'hard coded' "Permission Denied"
    error message.
    
    This changeset adds the MACRO for that error message.
    
    If there are any callers who compare the results (ex: ServiceDiscovery), they
    don't have to use 'hardcoded' messages and can reuse the MACROs.

commit 4c286c51e21e94e35b76a7f56c143a3b69e9a7e1
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:12 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit fde53d238b14ca984179aa821d7de95d6d6985ba
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:11 2020 -0700

    CodeSet: Fix copyright header in codeset.h

commit ced22726ccf583d54ebeaa83e5736fb249b730be
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:11 2020 -0700

    CodeSet: Add CodeSet_IsValidUTF8String() and more comments
    
    This change adds a new function CodeSet_IsValidUTF8String() to
    lib/misc/codesetUTF8.c, and adds comments for CodeSet_IsValidUTF8()
    and CodeSet_IsStringValidUTF8().

commit adcaf9cd9ad65a45459ee8058ebfc267844477d6
Author: Oliver Kurth <okurth@vmware.com>
Date:   Mon May 4 11:54:11 2020 -0700

    ServiceDiscovery: Deleting keys from NDB by chunks to reduce RPC calls.
    
    Setting chunk size to 25 keys at a time.

commit 619329e43a785831683f09d13f53f9d76615c559
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:46 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 2fb29808e01636ef6621ec6cbc815b024f2aed68
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:46 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 9e3875bc727141e69d7325af393e797353929833
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:46 2020 -0700

    Fix a trivial typo in the VIX log message.
    
    * Fixed a trivial typo in the VIX log message.
    * Fixed an indentation issue.

commit 08218dcd4eb03aafe823ae3585d99a23f7bee3c0
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:46 2020 -0700

    Use random poll-interval for appInfo on channel reset.
    
    In few workflows like instant clone, when a large number of VMs are
    cloned at the same time, if the appinfo plugin runs at the same time
    in all the VMs, the underlying ESXi may encounter heavy load.  To
    avoid these situations, a random poll interval should be used
    for the appinfo whenever applicable workflows are detected.
    
    Detecting a 'rpc channel reset' is a simple approach to detect.
    
    In this changeset, add the following changes:
    
    - Added a new callback function for the 'rpc channel reset'.  If
    the rpc channel is reset, a new random poll interval is calculated
    and poll timer is adjusted accordingly.  If the existing appinfo
    poll interval is greater than the minimum interval of 30 seconds,
    random interval will be generated between 30 and appinfopollinterval.
    If the existing poll interval is less than the minimum 30 seconds
    time, then random interval will not be changed.
    
    - Code refactoring for few functions.
    - Changed one global variable as static.
    - Added few debug/info log messages.

commit 9b79ed9bc118860518028828a6c7858af62757a8
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:46 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 9a9aab94168189302e74dd97939415ef1e07fb20
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:46 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit a8086de2c4317d4463b0bb1a3b602cda0833bd3e
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:46 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 8e2e15a2da54f3603a7ccdc09249aec0b58f6ed9
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:46 2020 -0700

    Free old ununsed loggers when tools.conf changes.
    
    Existing unused loggers are leaked when there is a change
    in logging configuration.  Added a check to free the loggers
    that are not used after tools.conf is modified.

commit 1852a9e98e3b1c31542986b2d332c707e4a0b540
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:46 2020 -0700

    Changes to common source files not directly applicable to open-vm-tools.

commit 86ca532794728e4cf3d6b5fd29b3a10ff4f36141
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:46 2020 -0700

    Add option to vmware-vgauth-cmd to support remove alias by [username]
    and subject
    
    a. subject is mandatory
    b. if user only provide subject, will only remove subject matched mapped aliases
    c. if user provide username and subject, remove matched aliases

commit 3324db715f71d850f12f91e7941745792edacb63
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:46 2020 -0700

    Make Backdoor fallback temporary.
    
    When RpcOut falls to Backdoor, it stays with Backdoor
    permanently for the life of vmtoolsd service.  It is a
    long standing bug in the reset handling code.  Typically,
    channel type is not changed during reset.  Our reset
    handling code can either keep the channel type same or
    switch it from vsocket to Backdoor, but it can't do other
    way.  Though it is supposed to switch to vsocket on reset
    caused by events like vmtoolsd being restarted or VMX
    breaking the channel for some VM management operation.
    With this change when we start the channel, we always
    try vsocket first unless Backdoor is enforced by the
    caller.
    
    Using Backdoor for too long is not desirable because
    privileged RPCs can't be used on such channel.  So, we
    need to retry switching the channel back to vsocket
    periodically.  We don't want to try vsocket on every
    RpcChannel_Send call because that adds to overhead and
    increases the latency of RpcChannel_Send due to connection
    timeouts.  So, we retry vsocket with a backoff delay
    between 2sec-5min.
    
    As some RpcChannel callers intend to use Backdoor channel
    we need to differentiate between such usage from the
    callers that create vsocket channel and fallback to
    Backdoor.  Therefore, introduced a concept of mutable
    channel.  The vsocket channel is mutable as it can fallback
    to Backdoor and restore vsocket.  However, if a caller
    creates Backdoor channel, it will not be mutable and
    stay with Backdoor for its lifetime.
    
    As vmxLogger frequently connects and disconnects the
    channel for every log message and does not use any
    privileged RPC, so make it use Backdoor channel
    permanently to avoid frequent vsocket connections.
    
    Additionally, removed the redundant 'stopRpcOut' interface
    and renamed 'onStartErr' to 'destroy'.

commit 4a049ceec7e2e1fafbfece34e29c4f7b14962e7c
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:45 2020 -0700

    AppInfo updates.
    
    While most of the changes are only applicable to VMware Tools for Windows
    and are not applicable to open-vm-tools, the following changes do apply.
    
    - Modified few log messages from g_debug from g_warning.
    - Modified the default poll interval to 360 minutes (Once in six hours).
    - Modified log messages to log the filepath whose version is being retrieved.

commit 500eadfa9b5b8304ce57d9f881247ab67205d40b
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:45 2020 -0700

    Common header file changes not applicable to open-vm-tools.

commit 5f9bc344328dd144c5539dd44fe1508d0f7b8b6f
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:45 2020 -0700

    Common source file changes not applicable to open-vm-tools.
    
    Tools Windows: test plugin DLLs are the correct version

commit 4c1fed3a4676d664a049da5db6516a8baee1fbb9
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:45 2020 -0700

    Backout previous change for the vmware-vgauth-cmd.

commit f62afa8e4462c100105b8ac8d88f5379094e87cd
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:45 2020 -0700

    Add option to vmware-vgauth-cmd to support remove alias by [username]
    and subject
    
    a. subject is mandatory
    b. if user only provide subject, will only remove subject matched mapped aliases
    c. if user provide username and subject, remove matched aliases

commit bf687d16a380a2f94952a9d9ad84d492376d2895
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:45 2020 -0700

    Common source file changes not applicable to open-vm-tools.

commit f2b9d8028ad88583f9f3575d26ca68cf5664fef7
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:45 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit d1a02b45838f568d8a70d22f16e28bd2da8c447e
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:45 2020 -0700

    Common source file changes not applicable to open-vm-tools.

commit fa6fb17347de72a56d6c5a6ffcf713b97b9e73c1
Author: Oliver Kurth <okurth@vmware.com>
Date:   Tue Apr 21 14:43:45 2020 -0700

    Common source file changes not applicable to open-vm-tools.

commit 86053c524c617ba1faa744a04b1e18986ebb929f
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 8 12:05:18 2020 -0700

    update version

commit 32df621461ca3f7f7188763be0f3b269b71b87cb
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 8 12:04:15 2020 -0700

    sync tclodefs.h to source

commit 5b3b243dc5edae6d94e0bd376290605044a2bf89
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:38 2020 -0700

    serviceDiscovery: Adding sleep before 'RpcChannel_SendOneRawPriv' call.

commit a4560863d4fedc050b4917b3bc764c384b5c007f
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:38 2020 -0700

    Do a 100 msec delay for each vsock channel start retry.
    
    Move the 100 msec delay into the vsock RPC start retry loop.  The
    100 msec delay before each start retry is needed for errors that
    will return quickly.

commit ffe0dc255114856f123b6f9dd04dc714ab6f1eb9
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:38 2020 -0700

    Common source file change not directly applicable to open-vm-tools.

commit 8e221a1311bab1f526bef16d97d9d2798bf09e49
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:37 2020 -0700

    Fix localization issue on windows guests.
    
    Some fields of GOptionContext used in help are not public, so add 2
    arguments to Usage to get needed info.

commit 6fcc7bdd696cec8f04c748d3807bbce4dd3230b5
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:37 2020 -0700

    Add a retry loop to VSockChannelStart() to recover on start failure.
    
    On failure, a vsock RPC channel will eventually fallback to the
    backdoor channel.  Services that require or are limited to the
    priviledge RPC channel will fail.
    
    Adding a simple, limited loop in VSockChannelStart to retry the vsock
    channel start before ultimately switching to the backdoor channel.
    Retries are not done for "send once" operations.

commit 39ceb37ce4d6093cb1b64baf6eeddf2532b0b3a1
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:37 2020 -0700

    Destroy the dedicated RPCI channel set up for the Vmx Guest Logging
    when vmtoolsd process exits.

commit b911e5c94cd18b7985e920875249d2314029f0a6
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:37 2020 -0700

    Fixing some log messages
    
    1. PublishScriptOutputToNamespaceDB can fail for various reasons,
       caller can't know exact reason from return values, so just printing
       that the function failed in case return value is FALSE.  Exact cause
       must be inferred from the function's logs itself.
    2. Printing log for chunkCount only if we successfully wrote it in NDB

commit 6934e672378dbbdb505467682092d7bb905fe10e
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:37 2020 -0700

    ServiceDiscovery: Fixing failure of sending message via RPCChannel after
    it has failed to the backdoor.

commit 03f9392540cdfabd1220e220842ead210edfe7d2
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:37 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 04e99532df99d8a11fc160882a3a8455a2d7c23c
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:37 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit b4e6f4f8334be3bcc35c483dcf869de871ccac92
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:37 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit c556b1d10671366e1d5ddba14785c3e9b270db84
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:37 2020 -0700

    open-vm-tools: stage all *.vmsg files
    
    Only a subset of the *.vmsg files were installed. Fixing this by
    using a glob.

commit 9a3f8e4b57537e522dba8831eef3529a6dd6b9e1
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:37 2020 -0700

    Record the assignment of tools version 11.0.6.
    
    Add TOOLS_VERSION_SLEDGEHAMMER_PATCH2 for version 11.0.6 to the
    historical version information.

commit 2fa133ac0af2588f0295228795f427bc5cd44465
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:36 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 9cbdf3a6e2cb23a7673fe19b2a3f888714095019
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:36 2020 -0700

    Add a Coverity annotation.
    
    The Coverity scan of open-vm-tools reports an out-of-bounds access
    issue in Util_BacktraceWithFunc.  This is intentional, to compute
    the base pointer for a stack trace.

commit 7db9613b49a77e59c3cb1ed045905e2d0bbb2280
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:36 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit af4db666735d0af28ba013c63b92fef743bec125
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:36 2020 -0700

    Updating the tools version on the devel branch to 11.2.0.

commit ded2a20ac11ef4f9340847d19ae2a14431a4702f
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:36 2020 -0700

    lib/unicode/unicodeSimpleTypes.c: fix leak on exit
    
    The hashtable used for encoding name -> IANA table index
    lookups was not getting freed.
    
    Also, HashTable_AllocOnce() incorrectly instructs
    the hashtable to clear its clientData, which contains
    an integer index and not a pointer, using "free".

commit ef20d06e9b2e3fbe8e7f6f709c4707ebf7c57d72
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:36 2020 -0700

    Annotate a Coverity false positive.
    
    The open-vm-tools Coverity scan reports a NULL pointer dereference
    for the variable untrustedCerts.  However, untrustedCerts is NULL
    only if no untrusted certs are found, in which case the code that
    dereferences untrustedCerts isn't executed.

commit 3777c7008da506fe35b1b8003b3d1ae7067662ae
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:36 2020 -0700

    lib/mics/sha1.c: Include string.h unconditionally.
    
    string.h is part of POSIX, lets include it unconditionally

commit 8774b6383b6dcb024335dd115c8fcae2b00c4d16
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:36 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 0bbaf772c27a8df913ade55d7086d651652a2f17
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:36 2020 -0700

    vmtools: fix compiler errors in posix service discovery core plugin
    
    As we build the vmtools for arm (unfortunately not on main), we hit
    a compiler warnings "ISO C90 forbids mixed declarations and code"
    in this new code.

commit 65b6819ed3ba196f52639c5984be40475ce2fffc
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:36 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 5ef6682ae1038942f4b1d873cd0ca93d688f83e0
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:35 2020 -0700

    Common header file change not applicable to open-vm-tools.

commit 74351e2121e866ca0b28644a6fc545c97e8bfbda
Author: Oliver Kurth <okurth@vmware.com>
Date:   Wed Apr 1 11:31:35 2020 -0700

    Fix localization issue of vmware-vgauth-cmd
    1. default msg catalog folder is wrong, add correct msgCatalog in
       vgauth.conf
    2. rename vmsg file name to "VGAuthCli" since file name used in main
       is "VGAuthCli"
    3. Move I18n init up to fix variable localization issue

*****
    Created the "stable-11.1.x" branch at this point.
*****

2013.04.16  Dmitry Torokhov  <dtor@vmware.com>
	This release tag contains commits up to the following id:
	867ea989d5e6889abcac77b4c7dae7db2651df58


2012.12.26  Dmitry Torokhov  <dtor@vmware.com>
	This release tag contains commits up to the following id:
	530ef7f26ed041ab1b6655f2cdc79f3af97fc50b


2012.10.14  Dmitry Torokhov  <dtor@vmware.com>
	This release tag contains commits up to the following id:
	d85408321c66c927bffdb05106a26581244edd4a

2012.05.21  Dmitry Torokhov  <dtor@vmware.com>
	This release tag contains commits up to the following id:
	482332b8d4282df09838df5ea4c58df9cdb4faf3


2012.03.13  Dmitry Torokhov  <dtor@vmware.com>
	This release tag contains commits up to the following id:
	0114aabd54bf2db4556563b7149c4fbbdec3d87b


2011.12.20  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	dfca5cf9d1c2335c5d001deedd9266c84956b508


2011.11.20  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	6c197b8e5eccf32bfee0e2452d8926968182aada


2011.10.26  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	6271fde90248a4fd49e38aa61498db9e1dbf37c3


2011.09.23  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	05baddbed1c5e47e9789a44d30bb217d7184232a


2011.08.21  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	2b3d76ba776f55d06fb5b62499b189ebd6bc1c75


2011.07.19  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	5bed6f1369ca6e9c2c7fbaf4205d86e50f219c5f


2011.06.27  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	166bbe1d28da4dab763b9568f163c8dca99ced9c


2011.05.27  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	3793ddc9c9b5facf376a2625d4c2252aa9bd3daa


2011.04.25  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	3112c27981074deb53e86e30e1c168d55e42220c


2011.03.28  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	ec43520f5f3a50f5a980a73d22ae231380f97555


2011.02.23  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	96cf4718ac0aff1743e50a2165599306ba442fe1


2011.01.24  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	60c470337c8932a6d9564130dcaf06c7a1a3df53


2010.12.19  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	5aef2b20a519788613350752575bcba0ac71df79


2010.11.17  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	11c0273ed4269f6f7a92f82f6c822df7da4c8720


2010.10.18  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	2162c5d770cdac3b0e275907a1a5d22ece8ce23c


2010.09.19  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	c92a8bfbb406a906bcd2fb9ef6801f92c5b64d1f


2010.08.24  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	94e63742d734b41638d37580602de4232da5ece6


2010.07.25  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	b15cffc7961b97129d0b77643db42b4d4d8e3da7


2010.06.16  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	ec87703fccdd0f954a118640c0b097e383994391


2010.04.25  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	6fafd672e006208c1e479b297e19618170ff19bd


2010.03.20  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	7cdbb623125729b41bf54068568dfbcc2dd58733


2010.02.23  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	8baa8588d5fd4cf64efb17164cb70c86c758d0c6


2010.01.19  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	8ee82a5774ae7badeb98ecf4dc629c7e9aac7077


2009.12.16  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	0d28106da5684dc31ea52ebb5a2dc6a0af5c1d61


2009.11.16  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	6f4cdd0f38be020d722f2393c0b78d7cd13f04d2


2009.10.15  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	d2f1b83daab1d7882fd651ad1cc77c729bbd9760


2009.09.18  Marcelo Vanzin  <mvanzin@vmware.com>
	This release tag contains commits up to the following id:
	8bb94fbfbdf65b53b87279cf81529756dba7a2ca

	Other changes not captured in the git logs:

	* Resync with internal dev branch (2009.08.24)

	* hgfsmounter/hgfsmounter.c: allow hgfs users to set ttl to 0 at mount time.

	* lib/guestApp/guestApp.c, lib/include/conf.h, lib/include/netutil.h,
	  lib/include/procMgr.h, lib/include/system.h, lib/vixTools/vixTools.c,
	  lib/vmCheck/vmcheck.c: remove (now unused) Netware checks.

	* lib/message/*, modules/freebsd/vmhgfs/Makefile,
	  modules/linux/vmhgfs/Makefile.*, modules/solaris/vmhgfs/Makefile: remove
	  unused message transport abstraction. The rpcChannel library is now used to
	  do RPC abstraction.

	* modules/*/vmmemctl/*: refactor of the vmmemctl module as part of adding
	  support for Mac OS guests.

	* modules/linux/pvscsi/pvscsi.c: don't clobber RESERVATION_CONFLICT sdstat
	  up from linux pvscsi driver.

	* modules/linux/shared/*: VMCI changes unrelated to the guest driver.

	* modules/linux/vmhgfs/fsutil.c, modules/linux/vmhgfs/inode.c: fix the case
	  where two directories refer to the same inode.

	* scripts/linux/*: support older versions of NetworkManager.

2009-08-24	Marcelo Vanzin	 <mvanzin@vmware.com>
	* Resync with internal trunk (2009.08.19)

	* configure.ac: remove support for Linux kernels < 2.6.9.

	* lib/include/vmtools.h, libvmtools/vmtoolsLog.c, doc/api/services/util.txt:
	  add new log handled that allows appending to existing log files, and fix
	  an issue where old log files would be "rotated" whenever the config file
	  was reloaded.

	* lib/appUtil/appUtilX11.c, lib/ghIntegration/ghIntegrationX11.c,
	  lib/include/appUtil.h: fix compilation issues on FreeBSD when unity
	  was enabled.

	* lib/dnd/dndLinux.c, lib/include/vmblock_user.h, tests/testVmblock/*: add
	  vmblock tests and, as part of the change, do some refactoring of vmblock
	  related functions.

	* lib/guestInfo/guestInfo.c, lib/include/wiper.h, lib/wiper/*,
	  toolbox/toolboxcmd-shrink.c, toolbox/toolboxShrink.c: refactor the wiper
	  structures so that they behave the same on Win32 and other platforms, and
	  also reuse data structures already in use by other parts of the code. This
	  fixes an "use after free" issue that toolbox-cmd had on Win32.

	* lib/guestInfo/guestInfo.c, lib/guestInfo/guestInfoInt.h,
	  lib/guestInfo/guestInfoPosix.c, lib/guestRpc/nicinfo.x,
	  lib/include/guestInfo.h, lib/include/netutil.h, lib/include/slashProc.h,
	  lib/netutil/netUtilLinux.c, lib/slashProc/*,
	  services/plugins/guestInfo/guestInfoServer.c: add support for sending more
	  network-related information to the host, such as routing tables and name
	  servers.

	* lib/hgfsBd/hgfsBd.c: don't log RPC errors when HGFS is disabled.

	* lib/hgfsHelper/*, lib/include/hgfsHelper.h, lib/vixTools/vixTools.c: new
	  library with functions to query information about HGFS; expose some HGFS
	  properties through VIX.

	* lib/hgfsServer/*, lib/hgfsServerPolicyGuest/hgfsServerPolicyGuest.c,
	  lib/include/hgfsServerPolicy.h: fix checking of whether an object belongs
	  to a particular share; this was causing issues with invalid information
	  being returned in certain cases.

	* lib/hgfsServer/*, lib/include/hgfsProto.h: changes to support new VIX API
	  calls (mostly affecting Win32 only).

	* lib/include/guestCaps.h, lib/include/unityCommon.h: add boilerplate for new
	  RPCs for setting windows as sticky / non-sticky (not yet implemented).

	* lib/include/hgfsProto.h: new definitions for the next version of the HGFS
	  protocol.

	* lib/include/xdrutil.h: make XDRUTIL_ARRAYAPPEND() more type-safe when using
	  GCC.

	* lib/misc/codesetOld.c: fix some issues with UTF16 -> UTF8 conversion.

	* lib/rpcChannel/rpcChannel.c, libvmtools/signalSource.c,
	  libvmtools/vmtools.c, libvmtools/vmtoolsConfig.c: g_assert -> ASSERT.

	* lib/unityWindowTracker/unityWindowTracker.c: fix issue with z-ordering of
	  modal dialogs.

	* libvmtools/vmtoolsConfig.c: fix some old config translation issues.

	* modules/freebsd/shared/*, modules/freebsd/vmblock/*: make vmblock work on
	  FreeBSD 8.

	* modules/freebsd/vmmemctl/*, modules/linux/vmmemctl/*,
	  modules/solaris/vmmemctl/*, : refactoring and code changes to support the
	  driver on Mac OS X.

	* modules/linux/vmblock/*, modules/linux/vmci/*, modules/linux/vsock/linux/*:
	  remove compatibility code for older kernels.

	* modules/linux/vmhgfs/*: fix memory leak in HgfsAccessInt().

	* modules/linux/vmxnet3/*: fix kunmap usage in vmxnet3_shm, and reset the
	  shared pages when the char device is closed.

	* modules/linux/vsock/linux/af_vsock.{c,h}, modules/linux/vsock/linux/util.c:
	  add vsock protocol negotiation for notifyOn ops. This allows the driver to
	  negotiate with the remove end which version of the notification protocol to
	  use.

	* modules/linux/vsock/linux/notify.c, modules/linux/vsock/linux/notify.h,
	  modules/linux/vsock/linux/notifyQState.c,
	  modules/linux/vsock/linux/vsockPacket.h: add pktOn protocol. This new
	  protocol improves performance by detecting changes in the queue state
	  instead of sending WAITING_READ and WAITING_WRITE packets.

	* services/plugins/hgfsServer/hgfsPlugin.c,
	  services/plugins/resolutionSet/resolutionSet.c,
	  services/vmtoolsd/mainLoop.c, services/vmtoolsd/pluginMgr.c,
	  services/vmtoolsd/toolsRpc.c: load plugins even when an RPC channel cannot
	  be instantiated (i.e., when running outside of a virtual machine); this
	  allows plugins to perform actions (at load time) also when running outside
	  virtual machines (e.g., to undo some configuration done when the OS was run
	  in a VM).

	* services/vmtoolsd/mainLoop.c, services/vmtoolsd/mainPosix.c,
	  services/vmtoolsd/toolsCoreInt.h: handle SIGHUP differently; instead of
	  stopping the service, just re-load the config data. This should make it
	  easier to integrate the tools service with other tools such as logrotate.

	* toolbox/toolbox-cmd.c, toolbox/toolboxcmd-stat.c: remove memory info query,
	  which didn't really return useful information.

	* vmware-user/copyPasteUI.cpp: if the clipboard/primary with most recent
	  timestamp has no data on it, try the other before giving up during
	  copy/paste.

2009-07-22	Marcelo Vanzin	 <mvanzin@vmware.com>
	* Resync with internal trunk (2009.07.17)

	* configure.ac: fix detection of "dot" and its usage in the doxygen config
	  file.

	* configure.ac, libguestlib/Makefile.am, libguestlib/vmguestlib.pc.in:
	  install vmguestlib headers and add new pkgconfig script.

	* lib/dndGuest/dnd.{cc,hh}, lib/include/dndBase.h, vmware-user/dndUI.{cpp,h}:
	  fix an issue where the DnD code would prevent drops to other windows in
	  Unity mode, instead of just intercepting drops to the desktop.

	* lib/dndGuest/dnd.{cc,hh}, lib/dndGuest/dndRpc.hh, lib/dndGuest/dndRpcV3.cc,
	  lib/include/dndBase.h, vmware-user/dndUI.{cpp,h}: fix an issue where the
	  host Unity code would cause an undesired drop event.

	* lib/dndGuest/dnd.{cc,hh}, lib/dndGuest/dndRpc.hh, lib/dndGuest/dndRpcV3.cc,
	  lib/include/dndBase.h: cleanup mouse simulation code, and fix an issue
	  where a drag would be canceled if the contents were dragged out of a guest
	  and then back in.

	* lib/dndGuest/dndRpcV3.cc, vmware-user/copyPasteDnDWrapper.cpp,
	  vmware-user/dndUI.cpp, vmware-user/dndUI.h, vmware-user/dragDetWnd.cpp,
	  vmware-user/dragDetWnd.h: several DnD fixes; make the DnD code behave
	  more like other GTK applications (based on analysing the flow of signals
	  on a test widget), and get rid of one of the detection windows, merging
	  both the Unity and non-Unity windows. Also, some code refactoring.

	* lib/ghIntegration/*, lib/guestRpc/*, lib/include/guestCaps.h,
	  lib/include/unityCommon.h: add stubs for a few new GHI functions (setting
	  window focus, tray icon updates and enhanced app info) - currently only
	  implemented on Win32.

	* lib/ghIntegration/ghIntegrationX11.c: examine WM_CLASS when determining
	  which DE Tools are running in. The previous code was failing to show a
	  few entries set as "OnlyShowIn=xxx" because checking WM_NAME wasn't enough
	  to properly detect the desktop environment in certain cases.

	* lib/guestApp/guestAppPosixX11.c: use gconftool-2 to detect the user's
	  browser, since gnome-open fails to open "file://" URLs which contain query
	  strings. Also, use "kde-open" when running under KDE.

	* lib/guestInfo/guestInfo.c, lib/include/wiper.h, lib/wiper/wiperPosix.c:
	  allow shrinking LVM partitions.

	* lib/include/appUtil.h: partial refactoring of icon retrieval code.

	* lib/include/dbllnklst.h, lib/misc/dbllnklst.c: inline linked list
	  functions.

	* lib/include/guest_os.h, lib/misc/hostinfoPosix.c: add a couple of
	  distros to the known distro list.

	* lib/include/netutil.h, lib/netUtil/netUtilLinux.c: add Linux interface
	  name, index lookup routines.

	* lib/include/system.h, lib/system/systemLinux.c,
	  services/plugins/timeSync/timeSync.c: fixes a few bugs in the backwards
	  time sync code, mostly due to unit mismatches.

	* lib/include/unityWindowTracker.h, lib/unity/unity.c,
	  lib/unity/unityPlatform.h, lib/unity/unityPlatformX11Window.c,
	  lib/unityWindowTracker/unityWindowTracker.c: expose two new properties in
	  the window tracker to save an RPC to retrieve those properties.

	* lib/include/vmtoolsApp.h, services/vmtoolsd/mainLoop.c,
	  services/vmtoolsd/pluginMgr.c, services/vmtoolsd/toolsCoreInt.h: add
	  support for "application providers", which allow plugins to add support to
	  new kinds of application frameworks through vmtoolsd.

	* lib/unity/unityPlatformX11.c: only enable GIO channels when Unity is
	  actually active.

	* lib/unity/*: cleanup old GTK1 code.

	* libvmtools/vmtoolsConfig.c: don't complain if config file is empty.

	* modules/linux/dkms.conf, modules/linux/dkms.sh: fix dkms.conf, and provide
	  a script to create a dkms tree from open-vm-tools.

	* modules/linux/shared/vmci_queue_pair.h, modules/linux/vmci/vmciKernelIf.c:
	  remove two (now) unneeded functions.

	* modules/linux/vmhgfs/*: code cleanups, properly initialize the list head,
	  and allow receives to timeout so that hibernation works.

	* modules/linux/vmxnet/vmxnet.c, modules/linux/vmxnet3/vmxnet3_drv.c: fix
	  drivers for kernels 2.6.29+.

	* modules/linux/vmxnet3/*: add shared memory support for faster communication
	  between user space and the device backend; this doesn't affect the regular
	  driver functionality, but is used by some VMware code not part of Tools.

	* modules/linux/vsock/*: fix an issue where it was possible for users to send
	  VMCI datagrams directly to the hypervisor.

	* scripts/common/vmware-user.desktop: work around a bug in KDE where desktop
	  files with "NoDisplay" fail to autostart.

	* scripts/freebsd/suspend-vm-default: use netif to bring down interfaces,
	  since dhclient doesn't understand "-r" in the default install.

	* services/plugins/vmbackup/*: add some new code used by enhancements being
	  done in the Win32 version of the plugin.

	* services/vmtoolsd/mainPosix.c: fix running in background when executing
	  vmtoolsd while relying on PATH.

	* services/vmtoolsd/Makefile.am: point to the correct plugin install
	  directory.

	* toolbox/*: better command line handling in the CLI utility, plus some code
	  cleanup.

	* vmware-user/copyPaste.c, vmware-user/copyPasteDnDWrapper.cpp,
	  vmware-user/copyPasteDnDWrapper.h, vmware-user/dnd.c: properly unregister
	  RPCs to avoid multiple registrations (and the ensuing ASSERT) in certain
	  cases.

	* vmware-user/copyPasteUI.{cpp,h}: change way data is retrieved from the
	  clipboard, using the gtk+ clipboard wait APIs (which turn out to be more
	  reliable than the previous approach).

2009-06-18	Marcelo Vanzin	 <mvanzin@vmware.com>
	* Resync with internal trunk (2009.06.15)

	* docs/api/Makefile.am: replace all variables in the doxygen conf file with
	  the correct values.

	* lib/appUtil/appUtilX11.c: try alternate file extensions during icon search.
	  Sometimes a package lists its icon as icon-foo.png, but the package didn't
	  include icon-foo.png.	 Instead, it included icon-foo.xpm.	 Ex: Ubuntu
	  8.04's hwtest.

	* lib/guestApp/guestAppPosixX11.c: change detection of the default browser so
	  that the new help system works; the help files are not yet available in
	  open-vm-tools.

	* lib/hgfs/*, lib/include/cpName.h, lib/include/cpNameLite.h,
	  lib/include/hgfsUtil.h: avoid compiling certain parts of the source in
	  kernel modules.

	* lib/hgfsServer/*: return correct error when files / directories don't
	  exist.

	* lib/include/hgfsChannel.h, modules/linux/vmhgfs/*: added support for vsock
	  channel for HGFS.

	* lib/include/util.h, lib/misc/utilMem.c: un-inline a bunch of functions to
	  reduce the size of binaries.

	* lib/include/vm_tools_version.h: bumped Tools version.

	* lib/resolution/resolutionX11.c: fix for issue where the host would send
	  a "topology set" command with a top-left corner that was not (0, 0) and
	  cause the screen to be reconfigured in the wrong way.

	* lib/unity/unityPlatformX11Window.c: check for errors in calls to
	  XQueryTree.

	* lib/wiper/wiperPosix.c: check return of fgets() to avoid compiler warnings.

	* libvmtools/vmtools.c: fix initialization of wiper library on Win32.

	* modules/Makefile.am: install vsock header file on Linux.

	* modules/freebsd/vmhgfs/*, modules/linux/vmci/*, modules/linux/vsock/*:
	  changes related to 64-bit Mac drivers, don't affect either the FreeBSD
	  or Linux drivers.

	* modules/linux/vmhgfs/hgfs.h: removed duplicate file.

	* modules/linux/vmhgfs/fsutil.c, modules/linux/vmhgfs/inode.c,
	  modules/linux/vmhgfs/module.h: fix issue where two files would get the
	  same inode number in some situations.

	* modules/linux/vmxnet/vmxnet.c: re-probe vmxnet2 device features on resume
	  from hibernate, to cover the case where a VM is resumed on a platform with
	  a different version of the device backend (bug #2209565).

	* scripts/resume-vm-default, scripts/suspend-vm-default: use NetworkManager
	  to handle networking where it is available.

	* services/plugins/hgfsServer/Makefile.am, services/plugins/vix/Makefile.am:
	  fix installation of vmusr plugins that are shared with vmsvc.

	* services/plugins/timeSync/timeSync.c: fix backwards time sync.

	* services/vmtoolsd/cmdLine.c, toolbox/toolbox-cmd.c: print build number as
	  part of "-v" output.

	* toolbox/toolboxcmd-shrink.c: correctly ignore unsupported partitions when
	  shrinking.

	* toolbox/toolbox-gtk.c: changes for the new help system, not yet available
	  for open-vm-tools.

	* toolbox/toolboxInt.{c,h}, toolbox/toolboxScripts.c: some code refactoring.

	* vmware-user/Makefile.am: fix linking when compiling without gtkmm.

2009-05-22	Marcelo Vanzin	 <mvanzin@vmware.com>
	* Resync with internal trunk (2009.05.18)

	* configure.ac, m4/vmtools.m4: check for PAM and enable PAM support when
	  available.

	* configure.ac, services/plugins/*/Makefile.am, tests/*/Makefile.am: avoid
	  the "-rpath" hack to create plugins, using plugin_LTLIBRARIES instead (and
	  manually fixing things when necessary). Thanks to Dominique Leuenberger for
	  the suggestion (and sample patch).

	* docs/api/Makefile.am: fix doc target directories.

	* configure.ac, lib/Makefile.am, lib/deployPkg/*, lib/include/deployPkg.h:
	  remove the deployPkg code, which depends on some VMware code that is not
	  yet open source.

	* lib/backdoor/*, lib/hgfs/*, lib/hgfsBd/*, lib/include/*,
	  lib/include/compat/*, lib/message/*, lib/misc/dbllnklst.c,
	  lib/rpcOut/rpcout.c: as part of sharing code between user-level code and
	  kernel modules, some files have been tagged with more than one license.

	* lib/dndGuest/*, lib/include/dndBase.h, lib/include/dndMsg.h,
	  lib/include/unity*, lib/unity/unityPlatformX11.c: implement mouse movement
	  from within the guest; this avoids a dependency on "unofficial" mouse APIs
	  in the VMware host code, making DnD more reliable, and makes a few things
	  (such as cancelling an ongoing DnD operation) easier.

	* lib/file/filePosix.c: make File_FullPath()'s behavior consistent when the
	  input path starts with a '/'.

	* lib/ghIntegration/ghIntegration.c: send more info about the "start menu"
	  contents to the host (only usable for Windows guests).

	* lib/ghIntegration/ghIntegrationX11.c: prettify the category names of menu
	  items. This is a temporary solution before actually reading this
	  information from .desktop files.

	* lib/guestApp/guestApp.c, libguestlib/vmGuestLib.c, lib/include/guestApp.h,
	  toolbox/toolbox-gtk.c, vmware-user/foreignVM*, vmware-user/vmware-user.cpp,
	  configure.ac, lib/Makefile.am, lib/include/socketMgr.h, lib/socketMgr.*:
	  remove code related to "foreign VM" support, which was never really used.

	* lib/guestInfo/guestInfo.c, lib/include/wiper.h, lib/wiper/wiperPosix.c:
	  properly report disk info for LVM volumes.

	* lib/hgfsServer/hgfsDirNotify*, lib/hgfsServer/hgfsServer.c: add support
	  for directory / file monitoring. It's currently only implemented on
	  Mac OS X.

	* lib/hgfsServer/hgfsServer*: fix issue where it was possible to
	  create a file on a read-only share on Windows hosts.

	* lib/hgfsServer/hgfsServer*, lib/hgfsServerManagerGuest/*,
	  lib/include/hgfs*.h, services/plugins/hgfsServer/hgfsPlugin.c,
	  services/plugins/vix/foundryToolsDaemon.c: some refactoring caused by the
	  work to make HGFS support pluggable transports.

	* lib/include/procMgr.h, lib/procMgr/procMgrPosix.c:
	  remove ProcMgr_GetAsyncStatus().

	* lib/include/vmsupport.h, scripts/vm-support, xferlogs/xferlogs.c,
	  services/plugins/guestInfo/guestInfoServer.c: new feature to automatically
	  collect support data from the guest from the VMware UI.

	* lib/panicDefault/*, lib/user/*: change file names to avoid clash with
	  another file (Mac OS linker doesn't really like that).

	* lib/rpcChannel/rpcChannel.c: try to reinitialize the outbound channel on
	  failure.

	* lib/vixTools/vixTools.c, lib/include/vixCommands.h,
	  lib/include/vixOpenSource.h: add backend for new VIX API call to list the
	  guest's filesystems.

	* libvmtools/vmtoolsLog.c: lazily open the log file, instead of opening it
	  during configuration of the log system. This way two processes can use the
	  same conf file and not overwrite each other's log files (assuming the conf
	  data is sane).

	* modules/Makefile.am, modules/linux/vmci/Makefile.kernel,
	  modules/linux/vsock/Makefile.kernel: don't store VMCI module symbols in
	  /tmp during build; this avoids a possible symlink attack that could cause
	  data to be overwritten when building open-vm-tools.

	* modules/*/*, vmblock-fuse/*: remove a lot of duplicated files by either
	  moving them to a shared location or reusing files that were already
	  available elsewhere.

	* modules/freebsd/vmblock/subr.c, modules/freebsd/vmblock/vmblock_k.h,
	  modules/freebsd/vmblock/vnoops.c: fix a possible kernel crash caused by
	  trying to read / write to the mount point (something vmware-user does to
	  detect whether it's using fuse or non-fuse vmblock).

	* modules/linux/pvscsi/*: adds support for a generic msg framework that is
	  currently used to deliver hot-plug/unplug notifications; get rid of a few
	  divisions; fix a bug where pvscsi_probe could return 0 (aka success) if
	  a call to kmalloc() failed; remove a few unused fields.

	* modules/linux/shared/vmci*: mostly changes related to the host VMCI drivers
	  (removed user-level queue-pair daemon, added support for trusted VMCI
	  endpoints) to keep binary compatibility between the host and guest VMCI
	  drivers.

	* modules/linux/hgfs/inode.c: check host's access rights when checking file
	  permissions, so that permissions are correctly checked when the guest's
	  user id is different from the host's user id.

	* modules/linux/bdhandler.*, modules/linux/filesystem.c; modules/linux/tcp.*,
	  modules/linux/transport.*,: postpone opening the channels so that module
	  can load successfully even if shared folders are disabled on the host;
	  fix a synchronization problem between recv and close/open; allow
	  hibernation to work by timing out the recv thread; correctly handle
	  failures in recv, including injecting a dummy error to the pending
	  requests when the recv thread exits; move the recv code to the channel's
	  implementation so that it can be simpler.

	* modules/linux/vmxnet3/vmxnet3.c, modules/linux/shared/compat_pci.h: fix
	  Wake-On-LAN for 2.6.27 and newer Linux guests.

	* modules/linux/vsock/linux/*: changes to support trusted VMCI host apps;
	  pull out notification and stats logging code into their own files.

	* modules/solaris/vmhgfs/vnode.c: do not substitute errors returned by
	  uiomove() calls with EIO, propagate returned error code (which is EFAULT)
	  up the stack.

	* services/vmtoolsd/Makefile.am, scripts/common/linux/pam.d/vmtoolsd-x64,
	  scripts/common/linux/pam.d/64/vmtoolsd: install the 64-bit PAM config
	  file with the correct name.

	* services/plugins/powerOps/powerOps.c: fix running default scripts by
	  making sure the path to the script is absolute.

	* services/vmtoolsd/Makefile.am, services/vmtoolsd/pluginMgr.c: use info
	  from the configure step to define the plugin path; this avoids requiring
	  a symlink to be placed in /etc/vmware-tools for vmtoolsd to be able to
	  find the plugins.

	* services/vmtoolsd/toolsRpc.c: send the build information to the host so
	  it's logged in the VM's logs.

	* toolbox/toolbox-cmd.c, toolbox/toolboxcmd-*, toolbox/toolboxCmdInt.h:
	  make string comparison case-insensitive on Win32.

	* toolbox/toolboxcmd-shrink.c: properly finish the shrinking process by
	  sending the "disk.shrink" RPC to the host.

	* toolbox/toolboxScripts.c: fix showing default settings for power ops
	  scripts (should show default script enabled, not script disabled).

	* vmblock-fuse/Makefile.am: fix compilation on FreeBSD.

	* vmware-user/copyPasteUI.cpp: disallow copy-paste text of size greater than
	  4MB, instead of truncating the data.

	* vmware-user/dndUI.*, lib/dndGuest/dnd.cc, lib/include/dndBase.h: remove
	  drag timeout callback (which was not needed), and add new signal to
	  indicate that a GH DnD was cancelled.

	* vmware-user/Makefile.am: remove C++ link hack (not needed now since
	  vmware-user has C++ code already).

2009-04-23	Marcelo Vanzin	 <mvanzin@vmware.com>
	* Resync with internal trunk (2009.04.17)

	* configure.ac, Makefile.am, docs/*: build API docs for vmtools; the
	  documentation files are provided under a BSD-style license.

	* configure.ac, Makefile.am, guestd/*, lib/Makefile.am, lib/guestInfo/*,
	  lib/include/vmbackup_def.h, lib/include/vmBackup.h, lib/vmBackupLib/*,
	  libvmtools/Makefile.am, services/plugins/vmbackup/vmbackup_def.h: remove
	  guestd from open-vm-tools, and clean up code in other places that was only
	  there because of guestd.

	* configure.ac, modules/solaris/vmblock/*, modules/solaris/vmmemctl/*: add
	  Solaris vmblock and vmmemctl driver sources. The vmmemctl module also
	  includes a user-level daemon (vmmemctld.c).

	* lib/conf/conf.c, lib/include/conf.h, libvmtools/vmtoolsConfig.c: remove
	  unused config options.

	* lib/deployPkg/toolsDeployPkg.h: code refactoring.

	* lib/dnd/dndClipboard.c: if size of clipboard exceeds the maximum backdoor
	  packet size, only keep text data (dropping the RTF data).

	* lib/dnd/dndLinux.c, lib/include/dnd.h, lib/include/vmblock.h,
	  vmware-user/copyPaste.c, vmware-user/dnd.c, vmware-user/vmware-user.cpp,
	  vmware-user/vmwareuserint.h, vmware-user-suid-wrapper/main.c: detect
	  whether plain vmblock or vmblock-fuse is being used, allowing the same
	  executable to be used with either.

	* lib/dndGuest/*, vmware-user/copyPaseDnDWrapper.{cpp,h},
	  vmware-user/dndUI.{cpp,h}, vmware-user/dragDetWnd.{cpp,h}:
	  vmware-user/vmware-user.cpp: more DnD V3 protocol work.

	* lib/ghIntegration/*, lib/include/guestCaps.h, lib/include/unityCommon.h:
	  work related to mapping Outlook folders over HGFS and exposing the Windows
	  Recycle Bin to the host (doesn't really affect open-vm-tools).

	* lib/ghIntegration/ghIntegrationX11.c: restore the native environment when
	  launching external applications. This doesn't really affect open-vm-tools.

	* lib/guestRpc/*, vmware-user/copyPasteUI.{cpp,h}: implement RTF and file
	  contents copy & paste.

	* lib/include/circList.h, lib/include/vm_basic_math.h,
	  lib/include/vm_device_version.h, modules/linux/*, modules/Makefile.am:
	  changes to share files between the user space code and the kernel code,
	  instead of duplicating the same source files in different places.

	* lib/include/rpcChannel.h, lib/rpcChannel/*, tests/testDebug/testDebug.c,
	  test/vmrpcdbg/debugChannel.c: some code cleanup, and fix crash when dealing
	  with multiple reset messages.

	* lib/include/system.h, lib/system/systemLinux.c,
	  services/vmtoolsd/mainPosix.c: remove System_Daemon() (replaced with
	  Hostinfo_Daemonize()).

	* lib/include/unityCommon.h, lib/unity/*: ressurrect UNITY_RPC_WINDOW_SHOW
	  and UNITY_RPC_WINDOW_HIDE RPCs.

	* lib/procMgr/procMgrPosix.c: fix ProcMgr_IsProcessRunning().

	* lib/system/systemLinux.c: fix shutdown / reboot commands on Solaris; fix
	  rebuilding of native environment from variables set by VMware scripts (this
	  last one doesn't really affect open-vm-tools).

	* lib/unicode/unicodeSimpleTypes.c: speed up UnicodeIANALookup, and fix case
	  where C++ constructors could call UnicodeIANALookup before Unicode_Init()
	  was called by lazily creating the internal cache.

	* libguestlib/*: link libguestlib against libvmtools. This avoids having
	  two definitions of certain symbols (like Debug()) when an application
	  links to both libraries.

	* modules/linux/vmblock/linux/control.c: only set directory entry owner when
	  needed.

	* modules/linux/vmhgfs/bdhandler.{c,h}, modules/linux/vmhgfs/dir.c,
	  modules/linux/vmhgfs/file.c, modules/linux/vmhgfs/filesystem.c,
	  modules/linux/vmhgfs/fsutil.c, modules/linux/vmhgfs/inode.c,
	  modules/linux/vmhgfs/module.{c,h}, modules/linux/vmhgfs/page.c,
	  modules/linux/vmhgfs/request.{c,h}, modules/linux/vmhgfs/super.c,
	  modules/linux/vmhgfs/tcp.{c,h}, modules/linux/vmhgfs/transport.{c,h}:
	  cleanup use of atomic variables in HGFS; add a transport abstraction layer,
	  and add an initial version of a socket-based transport (not yet stable and
	  not yet supported by any released VMware product).

	* modules/linux/vmxnet3/vmxnet3.c: fix build on kernel 2.6.29.

	* modules/linux/vsock/af_vsock.c: export more functions to other kernel
	  modules; some changes to statistics gathering code.

	* modules/solaris/vmhgfs/filesystem.c: make module loadable on Solaris 9.

	* modules/solaris/vmhgfs/vnode.c: unify mapping of HGFS to Solaris error
	  codes.

	* scripts/*: restart network before running user scripts in resume scripts.

	* services/plugin/powerOps/powerOps.c: fix running default power scripts.

	* services/vmtoolsd/pluginMgr.c: better error logging.

	* toolbox/toolbox-cmd.c: fix help string.

	* vmblock-fuse/block.c: fix vmblock-fuse compilation on FreeBSD.

2009-03-18	Marcelo Vanzin	 <mvanzin@vmware.com>
	* Resync with internal trunk (2009.03.13)

	* configure.ac: check for FreeBSD kernel tree when building modules; warn
	  about which version of make to use when building kernel modules on FreeBSD
	  and Solaris; add compiler defines for identifying Solaris 9 and 11.

	* configure.ac, modules/Makefile.am: handle SYSDIR on FreeBSD.

	* guestd/main.c, modules/solaris/vmhgfs/Makefile: remove HGFS-related that
	  is now obsolete with the recent changes to the HGFS module on Solaris.

	* guestd/toolsDaemon.c: default to the configuration dir when the power
	  script path is not absolute.

	* guestd/toolsDaemon.c, lib/include/guestInfo.h, lib/netUtil/netUtilLinux.c:
	  handle case when all network interfaces have been disabled and send an
	  "unknown" IP address to the host.

	* guestd/toolsDaemon.c, services/vmtoolsd/toolsRpc.c: always send
	  TOOLS_VERSION_UNMANAGED from an open-vm-tools build, so there's no need for
	  a config file option anymore.

	* hgfsclient/*: make it link to libvmtools to avoid code duplication.

	* lib/appUtil/appUtil.c: update list of "skippable" apps when figuring out
	  an application's path.

	* lib/auth/authPosix.c, scripts/linux/pam.d/*, guestd/Makefile.am,
	  services/vmtoolsd/Makefile.am : change the name of the PAM application to
	  "vmtoolsd" to reflect the new service name.

	* lib/dnd/dndFileContentsUtil.h, lib/dnd/dndInt.h, lib/dndGuest/*.hh, and
	  corresponding files in lib/include: relocate private headers.

	* lib/ghIntegration/ghIntegration.c, lib/ghIntegration/ghIntegrationInt.h,
	  lib/ghIntegration/ghIntegrationX11.c, lib/include/unityCommon.h: glue code
	  for Outlook mirrored folder, which does not affect open-vm-tools.

	* lib/guestRpc/guestlibV3.x, lib/include/vmGuestLib.h,
	  libguestlib/vmGuestLib.c: add new guestlib counters.

	* lib/include/conf.h, toolbox/toolbox-gtk.c: remove the need for the
	  "helpdir" config option; this doesn't really affect open-vm-tools since the
	  help files are not yet included.

	* lib/include/guest_os.h, lib/misc/hostinfoPosix.c: more guest OS names; fix
	  name used to identify Solaris to match what VMware's host code expects.

	* lib/include/guestStats.h: documentation changes.

	* lib/include/hostinfo.h, lib/user/hostinfoPosix.c: add a new function that
	  behaves like daemon(3), but is more Mac OS-friendly.

	* lib/include/toolsLogger.h, lib/Makefile.am, lib/toolsLogger/*: removed
	  library, which is not used anymore.

	* lib/include/vm_basic_types.h, lib/misc/timeutil.c: fixes to compile under
	  (Open) Solaris 11.

	* lib/include/vmtoolsApp.h, services/plugins/vmbackup/stateMachine.c,
	  services/vmtoolsd/mainLoop.c, services/vmtoolsd/mainPosix.c,
	  services/vmtoolsd/serviceObj.c, services/vmtoolsd/toolsCoreInt.h: add new
	  signal handler to gather debugging information from a running vmtoolsd
	  instance.

	* lib/misc/posixPosix.c: fix off-by-one error.

	* lib/unity/unity.c, lib/unity/unityPlatform.h, lib/unity/unityPlatformX11.c,
	  lib/unity/unityPlatformX11Settings.c: always send Unity updates using RPCI;
	  this avoids a possible race between replying to an incoming RPC and sending
	  an Unity update from a different thread; also, API documentation updates.

	* lib/unity/unityPlatformX11.c: verify the DnD detection window was
	  initialized before actually using it.

	* lib/unity/unityPlatformX11Settings.c, lib/unity/unityPlatformX11Window.c:
	  reset _NET_WM_DESKTOP as necessary before exiting Unity; this could cause
	  guest taskbars to disappear when in Unity mode.

	* lib/unity/unityPlatformX11.c, lib/unity/unityPlatformX11Window.c,
	  lib/unity/unityX11.h: examine WM_CLIENT_LEADER when gathering application
	  information; certain applications use this property to define the window
	  where the WM_COMMAND property should be.

	* lib/vixTools/vixTools.c: do not follow symlinks when deleting files in the
	  guest using the VIX API.

	* libvmtools/vmtools.c, libvmtools/vmtoolsLog.c: allow the logging subsystem
	  to be re-configured, and clean up the logging data when unloading the
	  library; allow ${USER} and ${PID} to be used in log file paths.

	* modules/freebsd/vmblock/subr.c, modules/freebsd/vmblock/vnops.c: fix kernel
	  panic on FreeBSD 7.

	* modules/linux/*/Makefile: remove GCC version check.

	* modules/linux/*/compat_wait.h: fix COMPAT_DEFINE_WAIT for "vanilla" 2.4
	  kernels.

	* modules/linux/vmhgfs/Makefile.normal: fix build of HGFS module on 2.4
	  kernels.

	* modules/linux/vmxnet/*, modules/linux/vmxnet3/*: avoid using compat
	  functions when they're not needed; add compatibility functions for
	  newer Linux kernels.

	* modules/linux/vsock/linux/af_vsock.c: fix two races; one when the socket
	  state changed between calls to VSockVmciRecvStreamCB and
	  VSockVmciRecvPktWork, and another when trying to read from the socket after
	  a RST arrived after the socket got a detach notification.

	* modules/solaris/vmxnet3/*: add Solaris vmxnet3 driver.

	* rpctool/*: add "rpctool", a simple, stand-alone tool to send RPC commands
	  to the host software.

	* services/plugins/guestInfo/guestInfoServer.c: don't cache configuration
	  data.

	* services/plugins/guestInfo/perfMonLinux.c: fix problem with overwriting
	  flags after GuestInfoMonitorReadMeminfo() was called. (Same as fix to
	  lib/guestInfo on previous release.)

	* services/plugins/powerOps/powerOps.c: handle power ops-related options
	  sent from the host.

	* services/vmtoolsd/mainLoop.c: handle re-loading the configuration file.

	* services/vmtoolsd/mainPosix.c: exec after forking on Mac OS, since
	  CoreFoundation classes don't work after a fork.

	* services/vmtoolsd/pluginMgr.c: allow both 32 and 64 bit plugins to be
	  installed on Solaris by loading them from the appropriate directory;
	  add library loading code that is not really needed (nor used) in
	  open-vm-tools.

	* services/vmtoolsd/toolsRpc.c: send another "capability" the host expects
	  from Tools.

	* toolbox/toolbox-gtk.c: add F1 shortcut to invoke help.

	* toolbox/toolboxScripts.c: fix issue with freeing data that should not be
	  freed.

	* vmware-user/*: implement the new DnD protocol (V3).


2009-02-18	Marcelo Vanzin	 <mvanzin@vmware.com>
	* Resync with internal trunk (2009.02.13)

	* configure.ac, m4/vmtools.m4: clean up a lot of the library detection code.

	* configure.ac: remove support for gtk+ 1.2 (code already depended on it in
	  any case); enforce need for glib 2.6.0 or later due to new code being
	  added; add detection for gtkmm; check for C++ compiler when it's needed;
	  reorder the include path to avoid clashing with system headers in some
	  situations.

	* guestd/foundryToolsDaemon.*, vmware-user/foundryToolsDaemon.*,
	  guestd/Makefile.am, vmware-user/Makefile.am: moved shared source files to
	  a new place to avoid duplication.

	* hgfsmounter/hgfsmounter.c: add support for Solaris.

	* lib/appUtil/appUtilX11.c: fix loading of icons when the name has a period.

	* lib/dnd/dndClipboard.c, lib/dnd/dndInt.h, lib/dnd/dndMsg.c,
	  lib/dnd/Makefile.am, lib/dndGuest/*, lib/include/copyPasteBase.h,
	  lib/include/copyPaste.hh, lib/include/copyPasteRpc.hh,
	  lib/include/copyPasteRpcV3.hh, lib/include/dndBase.h,
	  lib/include/dndClipboard.h, lib/include/dndFileContentsUtil.h,
	  lib/include/dndFileList.hh, lib/include/dnd.h, lib/include/dnd.hh,
	  lib/include/dndInt.h, lib/include/dndMsg.h, lib/include/dndRpc.hh,
	  lib/include/dndRpcV3.hh, lib/include/dndTransportGuestRpc.hh,
	  lib/include/dndTransport.hh, lib/include/libExport.hh,
	  vmware-user/copyPaste.cpp, vmware-user/copyPasteUI.{cpp,h},
	  vmware-user/copyPasteV3.h, vmware-user/copyPasteWrapper.{cpp,h},
	  vmware-user/dnd.cpp, vmware-user/Makefile.am,
	  vmware-user/vmware-user.{c,cpp}, vmware-user/vmwareuserInt.h,
	  vmware-user/stringxx/string.{cc,hh}, vmware-user/stringxx/ubstr_t.hh: add
	  support for new version of the DnD protocol.

	* lib/guestInfo/guestInfoPerfMonLinux.c: fix problem with overwriting flags
	  after GuestInfoMonitorReadMeminfo() was called.

	* lib/guestRpc/guestlibV3.x, lib/include/vmGuestLib.h,
	  libguestlib/vmGuestLib.c: add new host stats.

	* lib/guestRpc/Makefile.am: fix a few compatibility issues with non-GNU
	  versions of make.

	* lib/hgfsServer/hgfsServer.c, lib/hgfsServer/hgfsServerInt.h,
	  lib/hgfsServer/hgfsServerLinux.c, */hgfsProto.h,
	  modules/freebsd/vmhgfs/vnops.c, modules/freebsd/vmhgfs/vnopscommon.{c,h}:
	  don't trust the local VFS layer, check the HGFS server to see if an
	  operation would succeed.

	* lib/include/rpcChannel.h, lib/rpcChannel/*: add new Guest RPC channel
	  abstraction library used by the new "core services" code.

	* lib/include/vmrpcdbg.h, tests/*: add test code from the "core services"
	  project.

	* lib/include/vmtoolsApp.h, lib/include/vmtoolsd_version.h,
	  services/vmtoolsd/*: add "vmtoolsd", the new service "shell" used in the
	  "core services" project.

	* lib/unity/unityPlatformX11Window.c: don't send initial "region" updates for
	  shaped windows. This works around an issue where resizing a shaped window
	  would not work as expected in Unity mode.

	* lib/wiper/wiperPosix.c: fix major number detection for disks on newer Linux
	  kernels.

	* libvmtools/Makefile.am: link more libraries needed by vmtoolsd and the new
	  plugins.

	* modules/linux/pvscsi/pvscsi.c, modules/linux/pvscsi/pvscsi_version.h: use
	  PCI-specific memory allocation functions and update driver version.

	* modules/linux/vmci/vmciKernelIf.c: disable queue pair support in the host
	  version of the driver on older Linux kernels. This doesn't affect the
	  guest driver.

	* modules/linux/vmci/vmci_queue_pair.h: implement MSG_PEEK support on
	  Linux driver.

	* modules/linux/vmhgfs/bdhandler.c, modules/linux/vmhgfs/compat_sched.h,
	  modules/linux/vmmemctl/os.c: fix issue with HGFS module interfering with
	  suspend / hibernation on newer Linux kernels (bug #2523263).

	* modules/linux/vmhgfs/compat_cred.h, modules/linux/vmhgfs/file.c,
	  modules/linux/vmhgfs/filesystem.c, modules/linux/vmhgfs/inode.c: changes
	  for compatibility with newer Linux kernels, where it's not possible to
	  change fsuid/capabilities directly anymore.

	* modules/linux/vmhgfs/compat_pagemap.h, modules/linux/vmhgfs/page.c:
	  fix warning, and compatibility changes for newer Linux kernels
	  (2.6.28.1 and newer; bug #2530616).

	* modules/linux/vmhgfs/inode.c: fix creation of symlinks (bug #2531303).

	* modules/linux/vmxnet/vmxnet.c: use PCI-specific memory allocation
	  functions.

	* modules/linux/vmxnet/vmxnet.c, modules/linux/vmxnet3/vmxnet3.c: add option
	  to disable LRO.

	* modules/linux/vsock/af_inet.{c,h}, modules/linux/vsock/util.{c,h}: add
	  MSG_PEEK support; remove ifdefs that were disabling support for queue
	  pairs on the host kernel module; fix compilation with certain versions
	  of gcc (bug #2531283).

	* modules/solaris/vmhgfs/*: move backdoor handling code to the HGFS driver;
	  this makes the user-level code to handle the driver (currently in
	  vmware-guestd) obsolete.

	* modules/solaris/vmxnet/*: add vmxnet driver for Solaris, under the CDDL.

	* services/plugins/*: add all currently available "core services" plugins.
	  The current set of plugins provide the functionality available in
	  vmware-guestd; there are a few plugins that replace functionality from
	  vmware-user, but not all features are ported yet (and vmtoolsd - with
	  vmware-user plugins - and vmware-user cannot run at the same time).

	* toolbox/toolboxAbout.c: fix the copyright character.

	* toolbox/toolbox-cmd.c: reword a few messages, fix typos.

	* toolbox/toolboxCmdInt.h, toolbox/toolboxcmd-record.c,
	  toolbox/toolbox-gtk.c, toolbox/toolboxRecord.c: remove the "record"
	  functionality from tools (due to internal request).

	* toolbox/toolboxInt.c, toolbox/toolboxScripts.c, toolbox/toolbox-scripts.c:
	  changes to use the new config file format used by the "core services" code.

	* */Makefile.am: make sure 'rm' and 'mv' are being used instead of $(RM) and
	  $(MV) (which are not defined by automake; bug #2492040).

2009-01-21	Marcelo Vanzin	 <mvanzin@vmware.com>
	* Resync with internal trunk (2009.01.19)

	* configure.ac: detect the presence of FUSE libraries.

	* configure.ac, Makefile.am: compile kernel modules for Solaris, and
	  vmblock-fuse module if FUSE is available.

	* lib/ghIntegration/ghIntegrationX11.c: retrieved localized application
	  names.

	* lib/guestInfo/guestInfo.c, lib/guestInfo/guestInfoPosix.c,
	  lib/include/hostinfo.h, lib/misc/hostinfo_misc.c, lib/misc/hostinfoPosic.c,
	  lib/vixTools/vixTools.c: refactoring to move code shared with other VMware
	  products to a common library.

	* lib/guestRpc/guestlibV3.x, lib/guestRpc/Makefile.am,
	  lib/include/vmGuestLib.h, libguestlib/*: add new iteration of the
	  "guestlib" protocol. This is a more extensible solution than the current
	  protocol, and should make it easier to add new information when needed.

	* lib/include/dynarray.h, lib/include/dynbuf.h, lib/misc/dynarray.c,
	  lib/misc/dynbuf.c: make some DynArray/DynBuf functions inline for speed.

	* lib/include/unityCommon.h: more documentation about the Unity protocol.

	* lib/unity/unityPlatformX11.c: fix Unity<->guest desktop ID mappings.

	* libvmtools/vmtoolsLog.c: change the way log domains are configured; now
	  sub-domains inherit the default handler for the app if no handler is
	  specified.

	* modules/freebsd/vmhgfs/state.c, modules/freebsd/vmhgfs/state.h,
	  modules/freebsd/vmhgfs/vnopscommon.{c,h}: implement support for mmap on
	  the Mac OS driver, which allows running executables from an HGFS
	  share. The FreeBSD module still does not support this functionality.

	* modules/freebsd/vmhgfs/transport.{c,h}: refactoring for sharing structure
	  definitions.

	* modules/linux/pvscsi/pvscsi.c, modules/linux/vmblock/linux/module.c,
	  modules/linux/vmci/vmci_drv.c, modules/linux/hgfs/module.c,
	  modules/linux/vmmemctl/os.c, modules/linux/vmsync/sync.c,
	  modules/linux/vmxnet/vmxnet.c, modules/linux/vmxnet3/vmxnet3.c: add support
	  for Novell's proprietary module info tag ("supported").

	* modules/linux/vmci/vmciKernelIf.c: add support for VMCI queue pairs on
	  the host. This does not affect the driver when it runs inside virtual
	  machines.

	* modules/linux/vmci/*.h, modules/linux/vsock/*.h: some changes in the common
	  code to support Mac OS X, and also queue pairs on the Solaris VMCI module.

	* modules/linux/vsock/af_vsock.{c,h}: add functions for registering with
	  the vsock driver from within the kernel.

	* modules/linux/*/Makefile: add $(LINUXINCLUDE) to the compiler flags; this
	  allows compiling the modules against recent kernels which removed that
	  from $(KBUILD_CPPFLAGS).

	* modules/Makefile.am: add support for compiling Solaris kernel modules.

	* modules/solaris/vmhgfs/*: initial release of the Solaris HGFS driver in
	  open-vm-tools. Driver is licensed under the CDDL 1.0.

	* vmblock-fuse/*: add the user-level implementation of the vmblock driver,
	  which is build on top of FUSE, to open-vm-tools. vmware-user hasn't yet
	  been modified to use this version of vmblock.

	* vmware-user/copyPaseV3.h: new header introduced during development of the
	  next version of copy paste / DnD for X11 platforms.


2008-11-23  Marcelo Vanzin  <mvanzin@vmware.com>
	* Resync with internal trunk (2008.12.19)

	* configure.ac, */Makefile.am: standardize on using libtool archives for
	  the libraries. This also means several makefiles were removed, since
	  there's no need to build two archives of the same library anymore.

	* configure.ac: add logic to detect glib 2.6; this is the minimum version
	  required by the "Core Services" project. Currently it's an optional
	  dependency.

	* configure.ac: disable Unity when user specifies --disable-multimon.

	* configure.ac: actually build the pvscsi modules if the detected kernel
	  version supports it.

	* configure.ac, Makefile.am, lib/guestInfo/Makefile.am,
	  lib/stubs/Makefile.am, libvmtools/*, lib/include/vmtools.h: add the
	  "vmtools" shared library used in the "Core Services" project. The library
	  is a collection of a lot of other libraries used by most VMware Tools
	  programs, and adds some functionality on top of glib that is used in the
	  "Core Services" project. Currently no other components from that project
	  are available as part of open-vm-tools.

	* lib/deployPkg/deployPkgLog.h, lib/deployPkg/toolsDeployPkg.h: moved private
	  headers out of the public header directory.

	* lib/guestRpc/Makefile.am, modules/Makefile.am: fix the makefiles so that
	  it's possible to build open-vm-tools from a directory different from the
	  source dir.

	* lib/hgfsServer/hgfsServer.c: changes to support aliases on Mac OS hosts.

	* lib/hgfsServer/hgfsServerLinux.c: changes to map Windows attributes to
	  Mac OS FileInfo.

	* lib/include/circList.h: removed unused file.

	* lib/include/unityCommon.h, lib/unity/unity.c: changes to add documentation
	  to various application RPCs used in Tools.

	* lib/misc/posixPosix.c, toolbox/toolboxScripts.c: fix include path for
	  syslimits.h on FreeBSD.

	* lib/unity/unityPlatformX11.c: better detection of the guest's work area
	  boundaries; fixes a problem when dragging a Window in Unity mode with
	  the host's task bar on the left/right of screen would result in weird
	  behavior.

	* lib/unity/unityPlatformX11Settings.c, lib/unity/unityPlatformX11Window.c,
	  lib/unity/unityX11.h: preserve the _NET_WM_DESKTOP setting when hiding
	  windows; this fixes a problem where hiding a panel and later restoring it
	  would result in the wrong _NET_WM_DESKTOP property being set for the panel,
	  causing it to only display on the first virtual desktop.

	* modules/linux/vmci/*: minor changes related to internal development of the
	  Mac OS drivers.

	* modules/linux/vmhgfs/page.c: fix HGFS driver for kernel 2.6.28.

	* modules/linux/vsock/linux/af_vsock.c: added code to gather some performance
	  statistics for the driver.

	* toolbox/toolbox-gtk.c: a few fixes to the help functionality.

	* vmware-user/vmware-user.c, vmware-user-suid-wrapper/main.c: change the
	  "blockFd" argument to have an extra dash so it follows the convention of
	  common command line parsing libraries.

	* Other bug fixes and changes in shared code that don't affect open-vm-tools.

2008-11-18  Marcelo Vanzin  <mvanzin@vmware.com>
	* Resync with internal trunk (2008.11.14)

	* lib/include/vm_version.h: Bumped TOOLS_VERSION.

	* guestd/toolsDaemon.c, lib/include/vm_app.h: changes related to host-side
	  configuration of power operations.

	* hgfsclient/hgfsclient.c, lib/dnd/dndCommon.c, lib/dnd/dndLinux.c,
	  lib/hgfs/*, lib/hgfsServer/*, lib/include/cpName.h, lib/include/dnd.h,
	  lib/include/hgfsEscape.h, lib/include/staticEscape.h, modules/*/vmhgfs/*,
	  vmware-user/dnd.c: refactor the HGFS character escaping code; escape
	  invalid characters when the sender allows characters in the file name that
	  the receiver does not allow.

   * lib/hgfsServer/hgfsServerLinux.c: return proper error code when the
     remote path points to a non-existent directory.

	* lib/deployPkg/deployPkg.c, lib/deployPkg/deployPkgLog.c,
	  lib/include/deployPkg.h, lib/include/rpcin.h, lib/rpcin/rpcin.c:
     refactoring for the Tools Core Services project.

	* lib/dnd/dndCommon.c: don't ASSERT if the staging directory is not
	  actually a directory.

	* lib/dynxdr/xdrutil.c, lib/include/xdrutil.h: more XDR-related utility
	  functions.

	* lib/file/file.c, lib/file/fileLockPrimitive.c, lib/include/vm_basic_defs.h:
	  replace use of strtok with strtok_r.

	* lib/guestApp/guestApp.c, lib/include/guestApp.h: more utility functions.

	* lib/guestApp/guestApp.c, lib/include/backdoor_def.h, vmware-user/pointer.c:
	  add the ability to detect whether the mouse hardware can be used in
     absolute mode, which allows for auto grab / auto ungrab to work.

	* lib/guestInfo/guestInfo.c, lib/guestInfo/guestInfoPosix.c,
     lib/guestRpc/nicinfo.x: provide the prefix length of an IPv6 address in a
     separate field of the NicInfo struct.

	* lib/guestInfo/guestInfoPerfMonLinux.c: reduce log spew.

	* lib/guestInfo/guestInfoServer.c, lib/include/guestInfo.h: changes related
	  to how the VMware code in the host handles Tools version information.

	* lib/include/unityCommon.h: changes related to documenting the Unity API.

	* lib/include/unity.h, lib/unity/*: remove a few unused RPCs, add a new
	  function used to notify the host of the status of Unity.

	* modules/freebsd/vmhgfs/state.c, modules/vmhgfs/freebsd/vnops.c,
     modules/vmhgfs/freebsd/vnopscommon.*: support symlinks on FreeBSD and
     Mac OS.

   * modules/freebsd/vmhgfs/worker.c: fix mutex not being unlocked in some
     error paths.

	* modules/linux/dkms.conf: add rudimentary dkms support.

	* modules/linux/pvscsi/*: add a driver for VMware's paravirtualized SCSI
	  device.

	* modules/linux/*/Makefile, modules/linux/vmci/Makefile.kernel,
	  modules/linux/vsock/Makefile.kernel: add support for exporing symbols,
	  needed for dependent modules to load if a kernel >= 2.6.26 is compiled
	  with CONFIG_MODVERSIONS. Make the vsock module reference the vmci module's
	  symbols.

	* modules/vmmemctl/freebsd/os.c: add sysctl to get driver status. Information
	  can be retrieved with "sysctl vm.vmmemctl".

   * modules/linux/vmci/vmci_defs.h, modules/linux/vmci/vmci_call_defs.h,
     modules/linux/vsock/vmciHostKernelAPI.h: changes related to VMCI work
     on VMware ESX.

	* modules/linux/vsock/linux/*: improve performance of some applications by
	  improving the poll behavior and sending less packets when waiting
	  for a response.

   * modules/linux/vmsnc/sync.c: fix panic on kernels < 2.6.20.

	* modules/linux/vmxnet3/vmxnet3.c, modules/linux/vmxnet3/vmxnet3_int.h,
     modules/linux/vmxnet3/vmxnet3_version.h: inherit net device features to
     avoid having the kernel setting the PSH flag on every TCP packet (among
     other issues).

	* modules/*/*/*: Reflected changes from elsewhere.

	* scripts/common/vmware-user.desktop: add missing "Type" information; fixes
	  auto-start of vmware-user on Ubuntu 8.10.

	* toolbox/*: fix a GTK+ warning caused when trying to unref a dialog
	  instance from a signal callback.

	* vmware-user/copyPaste.c: work around an issue when OpenOffice's "cut"
	  command is used; it sets the timestamp of both the clipboard and the
	  primary selection, but only puts data in the clipboard.

	* Other files: minor refactorings, and changes unrelated to open-vm-tools.

2008-10-13  Adar Dembo  <adar@vmware.com>
	* Resync with internal trunk (2008.10.09)

	* configure.ac, modules/Makefile.am: Added a command-line option to
	skip privileged operations during make install (requested by Dennis
	Leroy). Integrated new vmxnet3 kernel module.

	* configure.ac, lib/guestInfo/Makefile.am,
	lib/guestInfo/guestInfoPerfMonLinux.c, lib/include/vm_procps.h:
	Removed open-vm-tools dependency on libproc-dev by providing some procps
	bits and pieces in our own vm_procps.h (Sourceforge bug 1960947).

	* hgfsmounter/Makefile.am: Removed chown calls. Only call chmod
	if we're running as root (requested by Dennis Leroy).

	* */foreignVMToolsDaemon.c, */foundryToolsDaemon.[ch],
	lib/guestInfo/guestInfo.c, lib/guestInfo/guestInfoServer.c,
	lib/include/guestInfoServer.h, lib/include/vixTools.h,
	lib/rpcin/rpcin.c, lib/vixTools/vixTools.c, vmware-user/copyPaste.c,
	vmware-user/vmware-user.c: More refactoring from the Tools core
	services project.

	* */foundryToolsDaemon.c: Changed HGFS mounting behavior such that the
	global HGFS share is mounted at /mnt/hgfs instead of relying on
	"mount -a".

	* guestd/toolsDaemon.[ch], lib/include/backdoor_def.h,
	lib/include/system.h, lib/include/vm_app.h, lib/system/systemLinux.c:
	Added backwards time synchronization functionality. Moved Tools scripts
	checking from VMX to guestd.

	* hgfsmounter/hgfsmounter.c: Added handling for multiple "-o" flags on
	the command line.

	* lib/dynxdr/dynxdr.c: Fixed x_putint32 behavior on 64-bit Solaris.

	* lib/file/*, lib/include/codeset.h, lib/include/file.h,
	lib/include/fileIO.h, lib/include/hostinfo.h,
	lib/include/loglevel_user.h, lib/include/productState.h,
	lib/include/timeutil.h, lib/include/unicodeTypes.h,
	lib/include/vixCommands.h, lib/include/vix.h,
	lib/include/vm_basic_asm.h, lib/include/vm_basic_types.h,
	lib/include/vm_legal.h, lib/include/vm_product.h,
	lib/include/win32util.h, lib/include/x86cpuid.h, lib/misc/codeset.c,
	lib/misc/codesetOld.[ch], lib/misc/posixPosix.c, lib/misc/timeutil.c,
	lib/region/region.c, lib/string/bsd_vsnprintf.c, lib/unicode/*,
	lib/user/hostinfoPosix.c, modules/freebsd/vmhgfs/sha1.c,
	modules/*/*/vm_device_version.h, modules/linux/*/vmci_iocontrols.h,
	modules/linux/*/vmci_version.h, modules/linux/vmhgfs/hgfsEscape.h:
	Changes from work unrelated to open-vm-tools on internal trunk.

	* lib/ghIntegration/ghIntegrationX11.c: Fixed some bugs in menu-spec and
	desktop-entry-spec support in Linux guests.

	* lib/guestApp/guestApp.c, lib/include/guestApp.h,
	lib/include/statelogger_backdoor_def.h, toolbox/Makefile.am,
	toolbox/toolbox-cmd.c, toolbox/toolbox-gtk.c, toolbox/toolboxCmdInt.h,
	toolbox/toolboxGtkInt.h, toolbox/toolboxInt.h, toolbox/toolboxRecord.c,
	toolbox/toolboxcmd-record.c: Patches from Yiwen Zhang to add basic
	record/replay controls to the gtk and command-line toolbox apps.

	* lib/guestInfo/guestInfoPosix.c: Fixed a bug where we assumed the
	primary interface's addresses were all IPv4 addresses.

	* lib/guestInfo/guestInfoServer.c: Fixed a memory leak.

	* lib/guestRpc/Makefile.am, lib/guestRpc/unityActive.x,
	lib/include/guestCaps.h, lib/include/unityCommon.h, lib/unity/unity.c,
	vmware-user/Makefile.am: Added new unityActive xdr protocol, used for
	tracking whether Unity is enabled or not.

	* lib/hgfsServer/hgfsServer.c, lib/hgfsServer/hgfsServerLinux.c,
	lib/hgfsServerPolicyGuest/hgfsServerPolicyGuest.c,
	lib/include/hgfsProto.h: Fixed bug where we were invalidating HGFS
	handles on the share of entire drive ("/"). Added optional symlink
	following behavior to HGFS server. Fixed a UTF-8 validation issue.
	Added volume ID field to attribute fields.

	* lib/include/vm_tools_version.h: Bumped internal Tools backdoor
	version.

	* lib/include/vm_version.h: Bumped TOOLS_VERSION.

	* lib/procMgr/progMgrPosix.c: Fixed impersonation behavior so that
	uids are passed to setresuid instead of gids. Added alternate way to
	list processes in situations where a process lacks a command line.

	* lib/region/region.c: Reforked xorg miregion.c and apply open-vm-tools
	specific patches.

	* lib/unity/*, lib/unityWindowTracker/unityWindowTracker.c: Fixed an
	overflow that lead to a panic when a window title exceeded 1024 bytes.
	Fixed some initialization assumptions when using virtual desktops.

	* lib/unity/unityPlatformX11Window.c: Fixed an issue with restacking
	windows above non-existent windows. Other minor fixes.

	* modules/*/*/*: Reflected changes from elsewhere.

	* modules/linux/*/Makefile.kernel: Changed clean target to remove
	Module.markers and modules.order.

	* modules/linux/vsock/include/compat_sock.h,
	modules/linux/vsock/*: Fixed several issues in vsock.

2008-09-03  Adar Dembo  <adar@vmware.com>
	* Resync with internal trunk (2008.08.29)

	* Makefile.am, aclocal.m4, m4/*: Moved macros to 'm4' subdir.

	* compile, config.guess, config.sub, config/*, depcomp, install-sh,
	ltmain.sh, missing: Moved auxiliary build tools to 'config' subdir.

	* configure.ac: Moved macros and auxiliary build tools into separate
	subdirectories. Added command line option to force the use of gtk1 over
	gtk2. Cosmetic fixes. Reworked libicu detection. Switched over to
	libtool-2.2. Added library check for new gdk symbol. Added library
	check for libnotify. Reworked use of macros from AC_PATH_XTRA and
	some X11 library checks.

	* */foundryToolsDaemon.c, toolbox/toolbox-cmd.c, guestd/main.c,
	lib/guestInfo/guestInfoPerfMonLinux.c, lib/guestInfo/guestInfoPosix.c,
	lib/misc/posixPosix.c, lib/panic/panic.c, lib/system/systemLinux.c,
	modules/linux/vsock/linux/util.c, xferlogs/xferlogs.c: Added checks for
	return codes of certain functions and passed %s to formatted string
	functions where appropriate (needed to compile on Ubuntu Intrepid).

	* lib/appUtil/appUtilX11.c: Fixed command line skipping logic and added
	more icon paths. Removed unnecessary chdir(2) canonicalization logic.

	* lib/deployPkg/runDeployPkgPosix.c, lib/file/fileIO.c,
	lib/file/fileIOPosix.c, lib/file/fileLockPrimitive.c,
	lib/file/filePosix.c, lib/hgfsServer/hgfsServerLinux.c,
	lib/include/bsdfmt.h, lib/include/file.h, lib/include/fileIO.h,
	lib/include/iovector.h, lib/include/msgfmt.h, lib/include/str.h,
	lib/include/vm_basic_defs.h, lib/include/vm_basic_types.h,
	lib/misc/hostname.c, lib/misc/idLinux.c, lib/misc/posixPosix.c,
	lib/SLPv2Parser/*.c, lib/wiper/wiperPosix.c, toolbox/toolboxScripts.c:
	Added FreeBSD compatibility glue.

	* guestd/toolsDaemon.c, lib/file/file.c,
	lib/foundryMsg/foundryPropertyListCommon.c, lib/image/imageUtilPng.c,
	lib/include/appUtil.h, lib/include/backdoor_def.h, lib/include/conf.h,
	lib/include/cpuid_info.h, lib/include/guest_os.h,
	lib/include/hostinfo.h, lib/include/imageUtil.h,
	lib/include/imageUtilTypes.h, lib/include/log.h,
	lib/include/loglevel_user.h, lib/include/netutil.h,
	lib/include/posix.h, lib/include/timeutil.h, lib/include/util.h,
	lib/include/uuid.h, lib/include/vix.h, lib/include/vixOpenSource.h,
	lib/include/vm_atomic.h, lib/include/vm_legal.h,
	lib/include/vm_version.h, lib/include/x86cpuid.h,
	lib/misc/codesetOld.c, lib/misc/timeutil.c, lib/string/bsd_vsnprintf.c,
	lib/user/util.c, lib/user/utilPosix.c, lib/vixTools/vixTools.c,
	modules/linux/*/vmci_kernel_if.h, modules/linux/vmxnet/compat_timer.h,
	toolbox/toolboxCmdInt.h, toolbox/toolboxcmd-*.c:
	Changes from work unrelated to open-vm-tools on internal trunk.

	* lib/ghIntegration/ghIntegration.c,
	lib/guestRpc/ghiGetBinaryHandlers.x: Don't send oversized messages.
	Increased maximum number of binary handlers.

	* lib/ghIntegration/ghIntegrationX11.c, lib/guestApp/guestAppPosix.c,
	lib/include/guestApp.h, lib/include/system.h, lib/system/systemLinux.c,
	toolbox/toolbox-gtk.c: Improved "run program" functionality by
	restoring program environment and stripping any VMware wrapper script
	changes to LD_LIBRARY_PATH.

	* lib/guestApp/guestAppPosixX11.c: Now using glib to open URLs instead
	of system(3). Improved gnome and kde session detection.

	* lib/guestApp/Makefile.am: This library needed GTK_CPPFLAGS too.

	* lib/guestInfo/guestInfoInt.h, lib/guestInfo/guestInfoPosix.c,
	lib/guestInfo/guestInfoServer.c: Added logic to optionally convert
	subnet mask to an ASCII string.

	* lib/guestRpc/Makefile.am: Cleaned up generated xdr headers better.

	* lib/hgfsServer/hgfsServer.c, lib/hgfsServer/hgfsServerInt.h,
	lib/hgfsServer/hgfsServerLinux.c: Fixed	problems when packing V3
	replies.

	* lib/hgfsServer/hgfsServerLinux.c: Fixed UTF-8 normal form D/C
	conversions on the root directory.

	* lib/include/dndGuest.h: Changed preprocessor usage to allow gtk1 to
	access UnityDnD.

	* lib/include/dnd.h, vmware-user/copyPaste.c: Code motion.

	* lib/include/guestCaps.h: Resort the capabilities table.

	* lib/include/rpcin.h, lib/rpcIn/rpcin.c, : Beginnings of the Tools
	core services. This is a full-fledged refactoring of the Tools
	userlevel apps to a "service" vs. "plugin" programming model.

	* lib/include/vmblock.h, modules/*/vmblock/block.c,
	modules/*/vmblock/stubs.c, modules/*/vmblock/stubs.h: Changes needed
	to support the fuse-based implementation of vmblock (coming soon).

	* lib/include/vm_tools_version.h: Some Tools version bumps.
	
	* modules/*/*/*: Reflected changes from elsewhere.

	* modules/*/*/compat/compat_stdarg.h: Added compatibility wrappers for
	stdarg features.

	* modules/freebsd/vmhgfs/debug.*: Cosmetic fixes.

	* modules/freebsd/vmhgfs/*: Make driver compliant with HGFSv3.

	* modules/*/vmmemctl/vmballoon.c: Allow module to yield the processor
	when allocating many pages.

	* modules/linux/*/autoconf/cachector1.c,
	modules/linux/*/include/compat_sched.h,
	modules/linux/*/include/compat_semaphore.h,
	modules/linux/*/include/compat_slab.h,
	modules/linux/vmblock/linux/filesystem.c,
	modules/linux/*/Makefile.kernel,
	modules/linux/vmhgfs/bdhandler.c, modules/linux/vmhgfs/filesystem.c,
	modules/linux/vmhgfs/module.h, modules/linux/vmhgfs/request.c,
	modules/linux/vmsync/sync.c, modules/linux/vsock/linux/af_vsock.c: Fix
	modules for 2.6.27 kernels.

	* modules/linux/*/Makefile: Fixed DRIVER target.

	* modules/linux/vmci/vmci_drv.c: Moved interrupt registration to be
	after driver initialization.

	* modules/linux/vsock/linux/af_vsock.c,
	modules/linux/vsock/linux/af_vsock.c: Added optimized flow control
	protocol.

	* toolbox/toolboxScripts.c, toolbox/toolboxShrink.c: Cosmetic fixes.

	* vmware-user/copyPaste.c, vmware-user/dnd.c: Fixed edge case behavior
	with file copy paste and DnD.

	* vmware-user/modconfig.c, vmware-user/notify.c,
	vmware-user/vmware-user.c, vmware-user/vmwareuserInt.h: Added stubbed
	modconfig module out-of-date notification framework. Not useful for
	open-vm-tools, hence the stubs.

2008-08-08  Adar Dembo  <adar@vmware.com>
	* Resync with internal trunk (2008.07.24)

	* configure.ac, */Makefile.am: Landed support for command line Toolbox,
	Unity, vsock, and vmci. Refactored and reformatted a few things.
	Improved portability by using $(SED) and AC_PROG_SED instead of "sed",
	$(MKDIR_P) and AC_PROG_MKDIR_P instead of "mkdir -p", $(LN_S) and
	AC_PROG_LN_S instead of "ln -s". Changed icu feature detection and
	linking to rely on C++ linker instead of C linker. Fixed module
	compilation checks on FreeBSD. Fixed $(DESTDIR) handling (patch by Mike
	Auty). Refactored lib/strUtil into lib/misc. Changed hgfsmounter
	install hook to symlink mount.vmhgfs. Renamed libghIntegrationStub to
	libGhIntegrationStub. Fixed compilation of lib/guestApp when using
	--without-x (reported by Martin Preishuber). Renamed libunityStub to
	libUnityStub. Fix build on FreeBSD by using ":=" instead of "=" when
	exporting module directories. The vmware-user desktop link now executes
	vmware-user-suid-wrapper. Properly install vmware-user-suid-wrapper.

	* */foundryToolsDaemon.c, lib/vixTools/vixTools.c: Use a larger result
	packet when handling impersonated HGFS requests (since HGFSv3 uses
	larger packets).

	* guestd/main.c: Moved foreign VM check.

	* guestd/toolsDaemon.*: Added plumbing for HGFS usability library
	calls.

	* hgfsmounter/hgfsmounter.c: Added support for passing options to
	the MacOS HGFS driver.

	* lib/appUtil/*, lib/include/appUtil.h: New library for Unity support.

	* lib/auth/authPosix.c: Don't try using PAM from the Tools.
	
	* lib/dnd/dndCommon.c, lib/dnd/dndLinux.c, lib/file/file.c,
	lib/file/fileIOPosix.c, lib/file/filePosix.c, lib/include/dnd.h,
	lib/include/loglevel_user.h, lib/include/panic.h, lib/include/posix.h,
	lib/include/strutil.h, lib/unicode/unicodeBase.h,
	lib/include/unicodeOperations.h, lib/include/vix.h,
	lib/include/vm_app.h, lib/include/vm_assert.h,
	lib/include/vm_product.h, lib/include/x86cpuid.h, lib/misc/codeset.c,
	lib/misc/hashTable.c, lib/misc/strutil.c, lib/misc/timeutil.c,
	lib/panic/panic.c, lib/string/bsd_vsnprintf.c, lib/strUtil/*,
	lib/unicode/unicodeCommon.c, lib/unicode/unicodeSimpleBase.c,
	lib/unicode/unicodeStatic.c, lib/user/hostinfoPosix.c,
	lib/user/util.c, lib/user/utilPosix.c: Changes from work unrelated to
	open-vm-tools on the internal trunk.

	* lib/backdoor/backdoorInt.h, lib/deployPkg/runDeployPkgInt.h,
	lib/dnd/dndInt.h, lib/file/fileInt.h, lib/guestInfo/guestInfoInt.h,
	lib/hgfs/cpNameInt.h, lib/hgfsServer/hgfsServerInt.h,
	lib/impersonate/impersonateInt.h, lib/include/backdoorInt.h,
	lib/include/bsd_output_int.h, lib/include/cpNameInt.h,
	lib/include/dndInt.h, lib/include/fileInt.h,
	lib/include/guestInfoInt.h, lib/hgfsServer/hgfsServerInt.h,
	lib/include/impersonateInt.h, lib/include/runDeployPkgInt.h,
	lib/include/toolsLoggerInt.h, lib/include/unicodeInt.h,
	lib/string/bsd_output_int.h, lib/toolsLogger/toolsLoggerInt.h,
	lib/unicode/unicodeInt.h: Moved some internal header files out of
	the general include directory and into the appropriate libraries.

	* lib/ghIntegration/*: New library for Unity support.

	* lib/guestApp/guestAppPosixX11.c: Reset the value of LD_LIBRARY_PATH
	before running the web browser.

	* lib/guestInfo/guestInfoPosix.c, lib/include/guest_os.h: Fixed a typo
	in Mandriva guest detection. Added Asianux.

	* lib/guestInfo/guestInfoServer.c: Fixed behavior for sending nicInfo
	updates to the host (patch by Jason Lunz).

	* lib/guestRpc/ghi*.*: New xdr protocol for Unity support.

	* lib/guestRpc/nicinfo.x: Correctly applied LGPL to file.

	* lib/hgfs/cpNameLinux.c: Allow building for versions of Solaris newer
	than 10.

	* lib/hgfsServer/hgfsServer.c,
	lib/hgfsServerPolicyGuest/hgfsServerPolicyGuest.c,
	lib/include/hgfsServerPolicy.h: Provide an override setting for
	disabling case conversion during file lookups.

	* lib/hgfsServer/hgfsServerLinux.c: Only perform case insensitive
	file lookups if a case sensitive lookup fails.

	* lib/image/imageUtilPng.c, lib/include/imageUtil.h,
	lib/include/imageUtilTypes.h: New library for
	Unity support.

	* lib/include/conf.h, toolbox/toolbox-gtk.c: Robustified the help page
	discovery mechanism.

	* lib/include/dndGuest.h: Allow inclusion of header into source files
	without GTK2 support.

	* lib/unity/*, lib/include/guestCaps.h, lib/include/unityCommon.h: New
	library for Unity support.

	* lib/include/hgfsUtil.h: Fixed a precedence issue in a macro.

	* lib/raster/*, lib/include/rasterConv.h: New library for Unity support.

	* lib/region/*, lib/include/region.h: New library for Unity support.

	* lib/include/system.h: Added new OS type for WinXP 64-bit, reformatted
	enums.

	* lib/unityWindowTracker/*, lib/include/unityWindowTracker.h: New
	library for Unity support.

	* lib/include/vm_version.h: Bumped TOOLS_VERSION.

	* lib/wiper/wiperPosix.c: Replaced BSD_VERSION with __FreeBSD_version.

	* modules/*/*/*: Reflected changes from elsewhere.

	* modules/freebsd/vmhgfs/*: Reflected changes from MacOS HGFS work, and
	fixed file permissions so that they're not all owned by root.

	* modules/linux/vmblock/linux/dentry.c: Changed d_revalidate to
	properly invalidate negative dentries.

	* modules/linux/vmci/*: Landed the Virtual Machine Communication
	Interface guest module.

	* modules/linux/vmmemctl/os.c: Fixed vmmemctl to build on 2.6.26
	(reported by Pavol Rusnak).

	* modules/linux/vmsync/sync.c: Fixed vmsync to build on 2.6.26
	(reported by Pavol Rusnak).

	* modules/linux/vsock/*: Landed the VMCI sockets interface module.

	* modules/linux/vmxnet/vmxnet.c, modules/linux/vmxnet/vmxnet2_def.h,
	modules/linux/vmxnet/vmxnetInt.h: Increased rx ring size for enhanced
	vmxnet2.

	* toolbox/*: Refactored pieces of GTK Toolbox and landed the command
	line Toolbox. Fixed mnemonic collisions in the GTK Toolbox.

	* vmware-user/copyPaste.c: Fixed several bugs with file copy paste
	behavior.

	* vmware-user/notify.c, vmware-user/vmware-user.c,
	vmware-user/vmwareuserInt.h: Added stubs for notification framework.

	* vmware-user/pointer.c: Reverted fix for bug with clipboard retry
	behavior.

	* vmware-user/vmware-user.c: Fixed build with gtk 1.2 (reported by
	Stephen Duncan). Added signal handlers for SIGUSR1/SIGUSR2 used by
	VMware Tools installer to reload vmware-user cleanly during a Tools
	upgrader. Reload vmware-user on a fatal X I/O error. Don't panic if
	run outside of a VM. Don't leave Unity mode on a Tools reset.
	
2008-07-01  Adar Dembo  <adar@vmware.com>
	* Resync with internal trunk (2008.06.30)

	* configure.ac, lib/guestApp/*, toolbox/Makefile.am,
	vmware-user/Makefile.am: Split lib/guestApp into two libraries, one
	with X11 functionality, and one without. Improved detection of
	gnome-open.

	* guestd/*, lib/netUtil/netUtilLinux.c: guestd now compiles for MacOS
	guests.
	
	* guestd/main.c, lib/include/system.h, lib/system/systemLinux.c:
	Refactored GuestdWritePidfile into System_Daemon.

	* guestd/toolsDaemon.c: Fixed a backwards time synchronization issue.
	Thanks to Eric Castan for reporting the bug.

	* lib/conf/conf.c, lib/include/conf.h: Removed obsolete configuration
	keys and values.

	* lib/file/*, lib/dict/*, lib/foundryMsg/*, lib/include/backdoor_def.h,
	lib/include/codeset.h, lib/include/config.h,
	lib/include/file_extensions.h, lib/include/fileInt.h,
	lib/include/loglevel_user.h, lib/include/msg.h, lib/include/msgid.h,
	lib/include/posix.h, lib/include/preference.h, lib/include/unity.h,
	lib/include/vixCommands.h, lib/include/vix.h,
	lib/include/vmbackup_def.h, lib/include/vmBackup.h,
	lib/include/vm_basic_defs.h, lib/include/vm_basic_types.h,
	lib/include/vm_product.h, lib/include/win32util.h,
	lib/include/x86cpuid.h, lib/misc/codeset.c, lib/misc/codesetOld.c,
	lib/misc/codesetOld.h, lib/misc/posixPosix.c, lib/strUtil/strutil.c,
	lib/user/hostinfoPosix.c, lib/user/util.c,
	lib/vmBackupLib/stateMachine.c, modules/*/vmxnet/net.h: Changes from
	work unrelated to open-vm-tools on the internal trunk.

	* lib/guestRpc/Makefile.am: Added comment about misuse of CFLAGS.

	* lib/hgfsServer/hgfsServer.c: Corrected pointer arithmetic so that
	new node and search allocation works consistently in 64-bit apps.

	* lib/hgfsServer/hgfsServerLinux.c, lib/include/hgfsProto.h: Added
	HGFS_ATTR_HIDDEN_FORCED and set it when returning hidden files.
	
	* lib/hgfsServer/*, lib/hgfsServerPolicy/hgfsServerPolicyGuest.c,
	lib/include/hgfsServerInt.h, lib/include/hgfsServerPolicy.h:
	Refactored and cleaned up some code.

	* lib/include/resolution.h, lib/resolution/*,
	vmware-user/vmware-user.c: Refactored some functions.

	* lib/include/vm_legal.h: Added another patent to the patent string.

	* lib/include/vm_tools_version.h: Added a pair of Tools version macros.

	* lib/include/vm_version.h: Bumped Tools product version.

	* lib/Makefile.am: Included a fix for compilation --without-x. Thanks to
	Mark Foster for reporting the issue.

	* lib/misc/Makefile.am, lib/misc/shared/Makefile.am: Realphabetized
	some sources and added missing source files.

	* lib/misc/posixWin32.c: Removed unneeded file from tree.

	* lib/procMgr/procMgrPosix.c: Made safe for -fPIC and for MacOS.

	* modules/*/*/*: Reflected changes from elsewhere.

	* modules/freebsd/vmhgfs/*: Added some code to handle codeset
	conversions between UTF-8 precomposed and decomposed strings.

	* modules/linux/vmhgfs/*: Refactored string escaping/unescaping code.

	* toolbox/*: Added mnemonics for some buttons.

	* vmware-user/pointer.c: Fixed bug in clipboard retry behavior.

	* vmware-user/vmware-user.c: Added handlers for SIGUSR1 and SIGUSR2
	to facilitate smooth vmware-user upgrades with respect to the vmblock
	kernel module.
	
2008-06-20  Elliot Lee  <elliot@vmware.com>

	* Resync with internal trunk (2008.06.13)

	* FreeBSD 7/8 fixes from Martin Blapp.

	* Fix getpwnam_r etc. on FreeBSD & Solaris.

	* configure.ac: Add --without-kernel-modules,
	--with-linux-release, and --with-linuxdir (gissa).

	* configure.ac, lib/guestRpc/*, lib/guestInfo/guestInfo.c,
	lib/guestInfo/guestInfoServer.c, lib/dynxdr/*,
	{vmware-user,guestd}/foreignVMToolsNetworking.c, guestd/Makefile.am,
	{vmware-user,guestd}/foundryToolsDaemon.c, lib/include/dynxdr.h,
	lib/include/guestInfo.h, lib/include/vmxrpc.h,
	lib/include/xdrutil.h, lib/Makefile.am, lib/netUtil/*,
	lib/vixTools/Makefile.am: Add support for XDR encoding of RPC
	values, including the NicInfoV2 structure.

	* guestd/stub.c, hgfsclient/Makefile.am, hgfsclient/stub.c,
	hgfsclient/stub-user-util.c, hgfsmounter/Makefile.am,
	hgfsmounter/stub.c, lib/stubs/*, libguestlib/Makefile.am,
	libguestlib/stubs.c, toolbox/Makefile.am, toolbox/stub.c,
	vmware-user/stub.c: Centralize stubs.

	* lib/guestInfo/guestInfoPerfMonLinux.c: Convert ioInRate and
	ioOutRate to be in terms of KB instead of pages.

	* lib/hgfsBd/hgfsBd.c, lib/hgfsServer/hgfsServer.c,
	lib/hgfsServer/hgfsServerLinux.c: Large packet support, and
	additional case-insensitivity fixes.

	* lib/include/hgfsBd.h, lib/include/hgfs.h,
	lib/include/hgfsProto.h: Add HGFS error code.
	
	* lib/hgfs/hgfsUtil.c, lib/guestInfo/Makefile.am,
	lib/guestInfo/guestInfoPosix.c, lib/guestApp/guestApp.c,
	lib/foundryMsg/foundryMsg.c, lib/file/fileLockPrimitive.c,
	lib/file/fileIOPosix.c, lib/file/fileLockPosix.c,
	guestd/toolsDaemon.c, guestd/debugStdio.c, guestd/main.c,
	lib/hgfsServerManagerGuest/hgfsServerManagerGuest.c,
	lib/include/codeset.h, lib/include/cpuid_info.h,
	lib/include/dnd.h, lib/include/file_extensions.h,
	lib/include/fileInt.h, lib/include/ghIntegration.h,
	lib/include/guestApp.h, lib/include/guestStats.h,
	lib/include/hgfsServerInt.h, lib/include/hgfsUtil.h,
	lib/include/hostinfo.h, lib/include/loglevel_user.h,
	lib/include/netutil.h, lib/include/panic.h, lib/include/posix.h,
	lib/include/unicode*.h, lib/include/util.h, lib/include/vix.h,
	lib/include/vixTools.h, lib/include/vm_app.h,
	lib/include/vm_basic_defs.h, lib/include/vm_product.h,
	lib/include/vm_tools_version.h, lib/include/vm_version.h,
	lib/include/x86cpuid.h, lib/misc/codeset.c, lib/misc/codesetOld.c,
	lib/misc/codesetOld.h, lib/misc/hashTable.c, lib/misc/hostname.c,
	lib/misc/timeutil.c, lib/panic/panic.c, lib/string/str.c,
	lib/sync/syncMutex.c, lib/system/systemLinux.c, lib/unicode/*.c,
	lib/unityStub/*, lib/user/hostinfo.c, lib/user/hostinfoPosix.c,
	lib/vixTools/*, modules/linux/vmxnet/*, toolbox/debugStdio.c,
	vmware-user/debugStdio.c, vmware-user/dnd.c, vmware-user/main.c:
	Bug fixes.

	* modules/linux/vmxnet/*: Remove unused BPF code. Add ethtool
	callbacks to get & set driver settings.

	* lib/user/util.c: Add function for getting backtraces.

	* lib/resolution/*, vmware-user/*, lib/Makefile.am, configure.ac:
	Move resolution-changing code into separate library.

	* guestd/main.c, lib/include/tools.h: Allow disabling tools
	version reporting to the host, via config file.

	* lib/rpcIn/*, lib/include/rpcin.h, guestd/toolsDaemon.c,
	toolbox/toolbox-gtk.c: Updated RPC API

	* lib/include/dndGuest.h: Helper API for DnD code

	* modules/freebsd/vmhgfs/*, modules/freebsd/vmmemctl/*,
	modules/freebsd/vmblock/*, modules/linux/vmhgfs/*,
	modules/linux/vmmemctl/*: Reflect changes from main source tree.

	* vmware-user/copyPaste.c: Copy/paste cleanup.

	* vmware-user/vmware-user.c: Updated locking code to use X11
	display instead of lockfiles.

2008-06-03  Adar Dembo  <adar@vmware.com>
	* Resync with internal trunk (2008.05.28).

	* configure.ac, Makefile.am, */Makefile.am: Added rudimentary
	`make install` support. Fixes Sourceforge bug 1839981.

	* configure.ac, Makefile.am, vmware-user-suid-wrapper/*: Added
	vmware-user-suid-wrapper to help autostart vmware-user. Added some
	informational tags to AC_DEFINE macros.

	* */debugStdio.c: Fixed a format string vulnerability
	in Debug. Allocate fd on the stack in DebugToFile.

	* lib/auth/authPosix.c, lib/dnd/dndCommon.c, lib/dnd/dndLinux.c
	lib/impersonate/impersonate.c: Add inclusion of vmware.h and refactor
	some include statements.

	* lib/file/file.c, lib/include/file.h: Added File_UnlinkNoFollow
	function.

	* lib/file/fileIO.c, lib/file/fileLockPrimitive.c,
	lib/include/fileIO.h: Added error case for ENAMETOOLONG to FileIO_Lock.
	Constified 'buf' in FileIO_Pwrite.

	* lib/file/fileIOPosix.c: Removed coalescing and decoalescing code.
	Consolidated some Unicode calls.

	* lib/file/filePosix.c: Reworked some error handling logic.

	* lib/foundryMsg/foundryMsg.c: Refactored buffer encoding and decoding
	logic into a single pair of functions.

	* lib/foundryMsg/foundryThreads.c, lib/include/foundryThreads.h
	lib/include/util.h, lib/misc/util_misc.c: Changed generic thread type
	from uintptr_t to Util_ThreadID.

	* lib/hgfsServer/*, lib/hgfs/hgfsProto.h, modules/linux/vmhgfs/*:
	Additional HGFSv3 fixes and refactoring.

	* lib/include/dbllnklst.h, lib/misc/dbllnklst.c: Constified argument to
	DblLnkLst_IsLinked.

	* lib/include/dnd.h: Added support for DnD of RTF.

	* lib/include/fileInt.h: Removed prototype of FileLockFileSize.

	* lib/include/hashTable.h, lib/misc/hashTable.c: Cosmetic changes.
	Added HashTable_ReplaceIfEqual.

	* lib/include/loglevel_user.h: Added hpet loglevel.

	* lib/include/msg.h: Removed prototype of MsgSetPostStderrBlock.

	* lib/include/posix.h: Removed certain includeCheck allowances.

	* lib/include/productState.h: Added VDM client product.

	* lib/include/unicode*, lib/unicode/*: Ongoing i18n work.

	* lib/include/vixCommands.h: Added command to set snapshot information.

	* lib/include/vix.h: Added more errors and a new flag.

	* lib/include/vixOpenSource.h: Reworked asserts and added VIX_ASSERT.

	* lib/include/vm_app.h: Added Tools tray app.

	* lib/include/vm_product.h: Reworked VMRC product definitions and added
	VDM client product definitions.

	* lib/include/vm_tools_version.h: Added WS65 Tools version.

	* lib/include/vm_version.h: Bumped Tools version. Added logic for VMRC
	product.

	* lib/include/x86cpuid.h: Modified a flag and trimmed an unneeded macro.

	* lib/misc/codesetOld.c: Implement UTF-16 codest conversion to UTF-8
	for CURRENT_IS_UTF8.

	* lib/misc/dynbuf.c: Modified dynbuf growing behavior.

	* lib/misc/posixDlopen.c, lib/misc/posixInt.h, lib/misc/posixPosix.h:
	Refactored codeset conversion code into PosixConvertToCurrent.

	* lib/misc/posixWin32.c: Added some path checks.

	* lib/misc/timeutil.c: Win32-wrappified TimeUtil_GetTimeFormat.

	* lib/misc/vmstdio.c: Reduce virtual memory usage and add '\r' as a line
	ending in StdIO_ReadNextLine.

	* lib/rpcout/rpcout.c: Added comments.

	* lib/str/str.c: Cosmetic changes.

	* lib/vixTools/vixTools.c: Added unlink(2) logic to avoid deleting
	symlink targets. Cosmetic changes.

	* modules/*/*/*: Reflect changes from elsewhere in the source tree.

	* modules/linux/vmhgfs/super.c: Fix vmhgfs to properly report the
	available space on the host (Sourceforge bug 1924246).

	* vmware-user/vmware-user.c: Add advisory locking code to help maintain
	only one vmware-user instance per X session.

	* xferlogs/xferlogs.c: Fix a formatted string vulnerability.

2008-05-12  Elliot Lee  <elliot@vmware.com>

	* Resync with internal trunk (2008.05.08).

	* configure.ac, **/Makefile.am: Use CPPFLAGS instead of
	CFLAGS to eliminate warning about proc/sysinfo.h.

	* guestd/foreignVMToolsNetworking.c,
	vmware-user/foreignVMToolsNetworking.c
	lib/hgfsServer/hgfsServerLinux.c, lib/include/hgfsServerInt.h,
	modules/linux/vmhgfs/bdhandler.c, modules/linux/vmhgfs/dir.c,
	modules/linux/vmhgfs/file.c, modules/linux/vmhgfs/filesystem.h,
	modules/linux/vmhgfs/fsutil.h, modules/linux/vmhgfs/inode.c,
	modules/linux/vmhgfs/link.c, modules/linux/vmhgfs/module.h,
	modules/linux/vmhgfs/page.c, modules/linux/vmhgfs/request.c,
	modules/linux/vmhgfs/request.h: Whitespace cleanups.

	* guestd/main.c: Removed "blessed app" code for starting
	vmware-user. Hooray!

	* lib/deployPkg/deployPkg.c: Remove unneeded Utf8 conversion for
	Windows.

	* lib/file/filePosix.c: Use new Posix_RealPath implementation.

	* lib/guestApp/guestApp.c, lib/include/guestApp.h: Remove/cleanup
	UTF-8 related RPC functions.

	* lib/guestInfo/guestInfoPerfMonLinux.c,
	lib/guestInfo/guestInfoPosix.c, lib/include/guestInfo.h,
	lib/include/guestInfoInt.h, lib/include/guestStats.h: Rename
	structures to GuestMemInfo, GuestNicInfo, and GuestDiskInfo.

	* lib/guestInfo/guestInfoServer.c, lib/include/guest_msg_def.h: As
	above, and also GUESTMSG_MAX_IN_SIZE moved to guest_msg_def.h, and
	misc locking updates. Also add GuestInfoServer_Main(), and cleanup
	whitespace.

	* lib/hgfsServer/hgfsServer.c: Cleanup UTF-8 handling.

	* lib/include/codeset.h: Update defines that indicate whether the
	current platform is using UTF-8.

	* lib/include/dnd.h: Add prototypes for a couple of string
	conversion functions.

	* lib/include/file_extensions.h: Add OVF and Archived OVF file extensions.

	* lib/include/file.h: C++ guard thingies. Update a couple of
	function prototypes to work on file descriptors instead of
	filenames.

	* lib/include/hashTable.h, lib/include/guest_os.h,
	lib/include/loglevel_defs.h, lib/include/stats_user_defs.h,
	lib/include/stats_user_setup.h, lib/include/str.h,
	lib/include/unicodeTypes.h, lib/include/util.h: Allow inclusion in
	kernel modules...

	* lib/include/loglevel_user.h: As above, and add a couple of
	loglevel variables.

	* lib/include/util.h, lib/misc/util_misc.c: Allow inclusion in
	kernel modules as above, and add some utility functions on Windows
	for manipulating canonical paths.

	* lib/include/hgfsProto.h, lib/include/hgfsUtil.h: Move
	request/reply payload macros to hgfsProto.h.

	* lib/include/hgfsServerPolicy.h: Add ShareList management
	prototypes and structure members.

	* lib/include/msg.h: Add function prototypes for creating and
	posting lists of messages.

	* lib/include/system.h: Add types & functions related to desktop
	switch monitoring on Windows.

	* lib/include/unicodeOperations.h: Add/update inline unicode operations.

	* lib/include/vixCommands.h: Add VIX requests and events.

	* lib/include/vmbackup_def.h, lib/vmBackupLib/stateMachine.c: Move
	backup status enum to public header.

	* lib/include/vm_basic_asm_x86_64.h: Div643232 now also works on MSC.

	* lib/include/vm_basic_defs.h: Add debug output macros for Windows drivers.

	* lib/include/vm_basic_types.h: Update the FMTPD macro, add
	SCANF_DECL macro for arg checking on scanf-like functions.

	* lib/include/x86cpuid.h: Defines for AMD L2/L3 cache separately, and CPUID for Nehalem.

	* lib/misc/codesetOld.c: Bug fixes and general unicode handling updates. 

	* lib/system/systemLinux.c: Use Posix_Getenv/Posix_Setenv impls.

	* lib/vixTools/vixTools.c, lib/vmBackupLib/scriptOps.c: Bug fixes.

	* modules/freebsd/*, modules/linux/*: Updates to correspond to
	updates of files in main tree.

	* modules/freebsd/vmhgfs/hgfs_kernel.h: Bug fixes.

	* modules/freebsd/vmxnet/vm_device_version: Add
	SCSI_IDE_HOSTED_CHANNEL define, update SCSI_MAX_CHANNELS.

	* modules/freebsd/vmxnet/vmnet.def: Add capabilities for IPv6
	checksumming and TSO, and large packet TSO.

	* lib/include/vmblock.h, modules/linux/vmblock/linux/control.c,
	modules/linux/vmblock/linux/vmblockInt.h: Use a macro to better
	abstract the vmblock mount point & device.

	* vmware-user/vmware-user.c: Add SIGPIPE to the list of signals
	that vmware-user handles.
	
2008-05-02  Adar Dembo  <adar@vmware.com>

	* Resync with internal trunk (2008.04.19).

	* configure.ac, guestd/Makefile.am, hgfsclient/Makefile.am,
	lib/misc/*/Makefile.am, lib/string/*/Makefile.am, toolbox/Makefile.am,
	vmware-user/Makefile.am, xferlogs/Makefile.am: Added libicu support for
	codeset conversions. This includes some makefile logic as well as
	autoconf arguments for controlling libicu behavior at compile-time.

	* */foreignVMToolsNetworking.c, lib/vixTools/vixTools.c: Unicode fixes.

	* */foundryToolsDaemon.c, lib/foundryMsg/vixTranslateErrOpenSource.c,
	lib/panic/panic.c, lib/printer/printer.c: Added calls to Win32 Unicode
	wrappers.

	* guestd/main.c: Cleaned up guestInfo server when guestd shuts down.

	* guestd/toolsDaemon.c, vmware-user/resolution.c: Disabled multi-mon
	advertisement for Win2k.

	* lib/auth/authPosix.c, lib/dnd/dndLinux.c, lib/file/*,
	lib/impersonate/impersonatePosix.c, lib/include/mntinfo.h,
	lib/sync/syncWaitQPosix.c, lib/user/hostinfoPosix.c, lib/user/util.c,
	lib/user/utilPosix.c, lib/wiper/wiperPosix.c: Added calls to POSIX
	Unicode wrappers. 

	* lib/file/*: Replaced calls to string functions with calls to
	the "safe" family of string functions.

	* lib/dict/dictll.c, lib/include/dictll.h: Detect and tolerate UTF-8
	dictionary files that contain the UTF-8 BOM.

	* lib/err/*, lib/include/err.h, lib/include/msgfmt.h,
	lib/include/msg.h: Added support for localization of error strings.

	* lib/foundryMsg/foundryThreads.c, lib/include/foundryThreads.h,
	lib/misc/util_misc.c: Added opaque type for threads/process IDs.

	* lib/guestInfo/guestInfoServer.c: Removed separate thread context.

	* lib/hgfsServer/*, lib/include/hgfs*.h: Additional HGFSv3 cleanup.

	* lib/hgfsServer/hgfsServerLinux.c: Added calls to POSIX Unicode
	wrappers. Fixed some alias detection code for MacOS.

	* lib/include/backdoor_def.h: Added backdoor call for debugging events.

	* lib/include/bsdfmt.h, lib/string/bsd_vsnprintf.c,
	lib/string/bsd_vsnprintfw.c: Replaced BSDFmt_WCSonv with
	BSDFmt_WChartoUTF8.

	* lib/include/codeset.h, lib/include/codesetOld.h, lib/misc/codeset.c,
	lib/misc/codesetOld.c, lib/string/convertutf.h: Implemented
	libicu-backed codeset layer. When building without libicu, fallback on
	codesetOld.

	* lib/include/guestApp.h: Added wide versions of dictionary functions.

	* lib/include/loglevel_user.h: Added two new loglevels.

	* lib/include/posix.h, lib/misc/posixPosix.c: Added new POSIX wrappers.

	* lib/include/str.h: Clarified the use of some functions.

	* lib/include/syncMutex.h, lib/include/syncWaitQ.h: Removed unneeded
	macros.

	* lib/include/unicode*.h, lib/unicode/*: Ongoing Unicode work.

	* lib/include/util.h: Added Util_FreeStringList, removed Util_FreeList.

	* lib/include/uuid.h: Added new UUID creation scheme.

	* lib/include/vix*.h: Tweaked some VIX commands, errors, and properties.

	* lib/include/vmBackup.h, lib/vmBackupLib/scriptOps.c,
	lib/vmBackupLib/stateMachine.c: Moved disabled targets logic from
	library to Windows VSS provider.

	* lib/include/vm_basic_asm_x86*.h: Allow emitted FX functions to
	modify main memory as a side effect.

	* lib/include/vm_tools_version.h: Bump Tools version.

	* lib/include/vm_version.h: Added several product versions.

	* modules/linux/vmhgfs/*: Additional cleanup for HGFSv3. Use new kthread
	wrapper when possible. Bump module version.

	* modules/linux/vmmemctl/*: Use new kthread wrapper when possible.
	Remove dead delayed work code. Bump module version.

	* modules/linux/*/compat_kthread.c: Added kthread wrapper implementation
	for modules that use kernel threads.

	* modules/*/*/*: Reflect header file changes from elsewhere in the
	source code tree.

	* vmware-user/copyPaste.c, vmware-user/pointer.c,
	vmware-user/vmwareuserInt.h: Stop wastefully polling for pointer
	updates if the VMX is new enough.

	* xferlogs/xferlogs.c: Fixed a warning in the call to fwrite.
	(Thanks to Denis Leroy for reporting this bug.)
	
	
2008-04-14  Elliot Lee  <elliot@vmware.com>

	* Resync with internal trunk (2008.04.01).

	* Fixed legal header on all LGPL-licensed files.

	* vmware-user/resolution.c: Normalize the display topology that
	comes in from the host, and report 'global_offset' capability.

	* toolbox/Makefile.am, vmware-user/Makefile.am,
	lib/misc/Makefile.am, lib/misc/atomic.c, lib/Makefile.am,
	lib/atomic/*, hgfsclient/Makefile.am: Move libAtomic stuff into libmisc

	* vmware-user/foundryToolsDaemon.c, lib/vixTools/vixTools.c,
	lib/include/hgfsServerInt.h, guestd/toolsDaemon.c,
	guestd/foundryToolsDaemon.c: Remove WIN9XCOMPAT, and some
	SOCKET_MGR code.

	* vmware-user/copyPaste.c: Copy/paste fixes for cross-platform
	operation.

	* modules/linux/vmxnet/vmnet_def.h: Add SG_SPAN_PAGES capability.

	* modules/linux/vmxnet/vm_device_version.h: Update some device limits.

	* modules/linux/*/compat_sched.h: Add TASK_COMM_LEN define.

	* modules/linux/*/compat_kernel.h,
	modules/linux/*/kernelStubsLinux.c: Add vsnprintf define.

	* modules/linux/*/x86cpuid.h: Add new CPUs.

	* modules/linux/vmhgfs/vmhgfs_version.h: Bump HGFS version.

	* modules/linux/*/vm_basic_asm_x86.h,
	modules/linux/*/vm_basic_asm_x86_64.h,
	lib/include/vm_basic_asm_x86.h, lib/include/vm_basic_asm_x86_64.h:
	Formatting fixes, and change asm directives used.

	* modules/linux/vmhgfs/module.h,
	modules/linux/vmhgfs/filesystem.c,
	modules/linux/vmhgfs/bdhandler.c,
	modules/linux/*/compat_kthread.h: compat_kthread fixes.

	* modules/freebsd/vmxnet/net_compat.h,
	modules/freebsd/vmxnet/if_vxn.c: Updates for FreeBSD 7.0.
	(Thanks to Martin Blapp for contributing to these changes.)

	* lib/misc/util_misc.c, lib/include/loglevel_user.h,
	lib/user/hostinfoPosix.c, lib/misc/hostname.c: Bugfix.

	* lib/unityStub/unityStub.c, lib/include/unity.h: Add stub and enums
	related to DnD support.

	* lib/unicode/unicodeSimpleTypes.c,
	lib/unicode/unicodeSimpleTransforms.c,
	lib/unicode/unicodeSimpleBase.c, lib/unicode/unicodeCommon.c,
	lib/include/unicodeTypes.h,
	lib/include/unicodeTransforms.h,
	lib/include/unicodeBase.h, lib/include/unicodeCommon.h: Add
	additional Unicode-related functions.

	* lib/sync/syncMutex.c, lib/include/syncMutex.h: Add TryLock method.

	* lib/strUtil/strutil.c: Add int64-related functions.

	* lib/string/str.c: Compile fix

	* lib/string/bsd_output_shared.c: Better handling of floating
	point on Windows.

	* lib/include/progMgr.h, lib/procMgr/procMgrPosix.c: Clarify that
	the strings are in UTF-8, do conversion as needed.

	* lib/include/posix.h, lib/misc/posixPosix.c,
	lib/misc/posixWin32.c, lib/file/filePosix.c: Add new Posix_
	function implementations, and unicodify existing ones.

	* lib/misc/hashTable.c, lib/include/hashTable.h: Add lock-less hash
	table functions.

	* lib/misc/util_misc.c, lib/include/w32util.h: Add a couple of
	Win32 utility functions.

	* lib/include/vm_version.h: Add WS5 config version.

	* lib/include/vm_atomic.h: Add typecasts to atomic operations to
	make compilers stop complaining, and expand the AtomicUseFence option.

	* lib/include/vm_app.h: Add a couple of HGFS-related options.

	* lib/include/vix.h: Update a few errors and other macros.

	* lib/include/vixCommands.h, lib/foundry/foundryMsg.c: Change a
	bunch of structure members from int32 to uint32, and add a parsing
	function.

	* lib/include/msgfmt.h, lib/include/msg.h: Additional
	message-handling prototypes.

	* lib/include/guestInfoInt.h, lib/include/guestInfo.h,
	lib/guestInfo/Makefile.am, lib/guestInfo/guestInfoServer.c,
	lib/guestInfo/guestInfoPosix.c,
	lib/guestInfo/guestInfoPerfMonLinux.c: Add IPv6 support, and the
	ability to read mem stats on Linux.

	* lib/include/fileIO.h, lib/file/fileIOPosix.c: Add MacOS function
	related to Time Machine.

	* lib/guestApp/guestApp.c: Use Posix_ variants of functions.

	* lib/ghIntegrationStub/ghIntegrationStub.c: Add GHI capabilities
	stubs.

	* lib/dnd/dndCommon.c, lib/file/file.c: Use new Unicode_Format()
	function, bugfix.

	* guestd/main.c: Fix a security bug.

	* configure.ac: Allow calling libdnet 'dumbnet' for Debian
	systems. Detect libprocps.

2008-03-19  Adar Dembo  <adar@vmware.com>

	* Resync with internal trunk (2008.03.13).

	* vm_version.h: Updated Tools version.

	* configure.ac: Added dynamic dnet detection and --without-dnet flag.

	* guestd/debugStdio.c, lib/include/system.h, lib/system/systemLinux.c:
	Modified debugging to file behavior to prepend debug strings with human
	readable timestamps.

	* guestd/main.c, guestd/toolsDaemon.c, lib/conf/conf.c,
	lib/guestApp/guestApp.c, lib/include/guestApp.h: Internationalized
	GuestApp_GetInstallPath and GuestApp_GetconfPath.

	* lib/auth/authPosix.c, lib/dnd/dndLinux.c, lib/file/*,
	lib/impersonate/impersonatePosix.c, lib/include/fileInt.h,
	lib/include/posix.h, lib/misc/posix*.c: Refactored, extended, and made
	use of the set of POSIX internationalization-safe function wrappers.

	* lib/dnd/dndCommon.c, lib/include/dnd.h, lib/include/dndInt.h,
	vmware-user/copyPaste.c, vmware-user/dnd.c: Replaced some duplicated
	UTF-8 formatting code with calls to lib/unicode.

	* lib/guestInfo/guestInfoPosix.c: Replaced the old syscall-based
	implementation of nicinfo with a simpler implementation that uses dnet.

	* lib/guestInfo/guestInfoServer.c, lib/include/guestInfo.h,
	lib/include/guestInfoInt.h: Added Win32 implementation of
	meminfo. POSIX implementation to follow.

	* lib/hgfsServer/hgfsServerLinux.c: Replaced a direct readlink(3) call
	with a call to the POSIX wrapper for readlink(3). Relax an overeager
	ASSERT in symlink checking when using the special empty share.

	* lib/include/codeset.h, lib/string/bsd_vsnprintf.c, lib/string/str.c,
	lib/unicode/unicodeSimpleOperations.c, lib/unicode/unicodeSimpleUTF16.h:
	Refactored ICU routines from unicodeSimpleUtf16.h to codeset.h, which
	is now licensed under the ICU license (BSD variant).

	* lib/include/file.h, lib/file/file.c: Added function File_StripSlashes.

	* lib/include/hgfsProto.h: Removed an A acute from a comment to allow
	the file to be built on Windows systems where the default language isn't
	English.

	* lib/include/hostinfo.h, lib/include/util.h, lib/user/hostinfoPosix.c,
	lib/user/util.c, lib/user/utilPosix.c: More conversions to
	lib/unicode. Added Util_ZeroFreeStringW function for Windows in util.h.

	* lib/include/msg.h: Removed obsolete NO_MSGFMT macro.

	* lib/include/unicodeBase.h, lib/unicode/unicodeCommon.c,
	lib/unicode/unicodeSimpleBase.c: Added some more encoding functions.

	* lib/include/vixCommands.h, lib/include/vixOpenSource.h: Added another
	user credential type, some command flags, some command layouts, some
	error codes, some properties, and tweaked existing commands.

	* lib/include/vixTools.h: Added VixToolsUserIsMemberOfAdministratorGroup
	function.

	* lib/include/vm_assert.h, lib/include/vm_basic_defs.h: Move IMPLIES to
	vm_basic_defs.h. Removed some vprobes definitions.

	* lib/include/vmBackup.h, lib/vmBackupLib/scriptOps.c,
	lib/vmBackupLib/stateMachine.c: Added infrastructure to disable
	quiescing targets from a config file.

	* lib/include/vm_basic_asm.h: Changed __GET_CPUID2 handling for Windows.

	* lib/include/vm_produt.h: Added VDM product.

	* lib/include/vm_tools_version.h: Bumped internal Tools version.

	* lib/include/win32util.h, lib/misc/hostname.c, lib/misc/util_misc:
	Refactored functions to separate set of Win32 wrappers (next to the
	POSIX wrappers mentioned earlier).

	* lib/misc/codeset.c: Made CodeSetGetCurrentCodeSet non-static.

	* lib/misc/*/Makefile.am: Added POSIX wrappers to build system.

	* lib/strUtil/strutil.c: Fixed bug in StrUtil_EndsWith function.

	* lib/include/unicodeTypes.h, lib/unicode/unicodeSimpleTypes.c: Removed
	ISO-8859-11 encoding. Added cross-reference of IANA character set
	names, windows code pages, and ICU encodings.

	* lib/vixTools/vixTools.c: Impersonation tweaks.

	* modules/*/*/*: Reflect header file changes from elsewhere in the
	source code tree.

2008-03-11  Adar Dembo  <adar@vmware.com>

	* vm_version.h: Updated Tools version.

	* modules/vmblock/linux/*: Make vmblock build under 2.6.25-rc2.
	The dentry and mount objects have been moved out of struct
	nameidata and into the new struct path. Also, path_release() is
	now path_put().

	* modules/vmsync/linux/*: Make vmsync build under 2.6.25-rc2.
	The same changes were needed here as in vmblock above.

2008-03-10  Adar Dembo  <adar@vmware.com>

	* vm_version.h: Updated Tools version.

	* modules/vmhgfs/linux/*: Make vmhgfs build under 2.6.25-rc1.
	The iget() function has been removed and filesystems are now
	expected to implement it themselves using iget_locked().

2008-02-27  Elliot Lee  <elliot@vmware.com>

	* configure.ac, guestd/Makefile.am, toolbox/Makefile.am,
	vmware-user/Makefile.am: Allow passing custom LDFLAGS in to
	build process (patch by Mike Auty).

	* Resync with internal trunk (2008.02.27).

	* guestd/foundryToolsDaemon.c, lib/vixTools/vixTools.c,
	vmware-user/foundryToolsDaemon.c: Win9x compat changes.

	* guestd/toolsDaemon.c: Style fixes.

	* hgfsmounter/hgfsmounter.c: Bug fixes.

	* lib/dnd/dndLinux.c, lib/dnd/dndCommon.c: Move some code to the
	platform-independant file, some DnDv3 support.

	* lib/include/dnd.h, lib/include/dndInt.h: DnDv3 support.

	* lib/file/file.c, lib/file/fileIO.c, lib/file/fileIOPosix.c,
	lib/file/fileLockPrimitive.c, lib/file/filePosix.c,
	lib/include/file_extensions.h, lib/include/fileInt.h,
	lib/include/fileIO.h: Move functions around, Unicode fixes, misc
	fixes.

	* lib/foundryMsg/foundryPropertyListCommon.c: Error handling fixes.

	* lib/hgfsServer/*.c, lib/include/hgfs*.h,
	modules/freebsd/vmhgfs/*, modules/linux/vmhgfs/*: HGFS v3 support,
	updates to improve code re-use between the FreeBSD and MacOS X
	ports, and updates to make the Linux port build on 2.6.25-rc1 (but
	not rc2, yet).

	* lib/include/auth.h, lib/include/codeset.h,
	lib/include/hostinfo.h, lib/include/str.h, lib/include/unicode*.h,
	lib/include/vm_basic_types.h, lib/misc/hostname.c,
	lib/unicode/*.c, lib/user/hostinfoPosix.c: Unicode fixes.

	* lib/include/backdoor_def.h: Add a new command for use by the
	BIOS in checking the GuestOS against Darwin.

	* lib/include/dynarray.h, lib/misc/dynarray.c,
	lib/misc/Makefile.am, lib/misc/shared/Makefile.am: Add Dynarray
	implementation.

	* lib/include/bsdfmt.h, lib/include/bsd_output_int.h,
	lib/string/bsd_output_shared.c, lib/string/bs_vsnprintf.c,
	lib/string/bsd_vsnwprintf.c, lib/string/str.c: Rework built-in
	printf implementation, esp. for Unicode fixes.

	* lib/include/ghIntegration.h: Shuffle types around.

	* lib/include/loglevel_user.h, lib/include/unity.h,
	lib/syncDriver/syncDriverPosix.c, lib/user/util.c,
	toolbox/toolbox-gtk.c: Misc fixes.

	* lib/include/vmBackup.h, lib/vmBackupLib/scriptOps.c,
	lib/vmBackupLib/stateMachine.c, lib/vmBackupLib/vmBackupInt.h:
	Rework scripts for freeze & thaw operations.

	* lib/include/vm_product.h, lib/include/vm_version.h: Add new
	product defs (VMRC).

	* lib/include/vm_tools_version.h: Add ESX 3.5U1 product.

	* lib/include/vixCommands.h, lib/include/vix.h: Add new VIX
	commands and error code.

	* lib/include/win32util.h: Add misc Win32 utilities.

	* modules/*/*/*: Reflect header file changes from elsewhere in the
	source code tree.

2008-02-13  Adar Dembo  <adar@vmware.com>

	* Resync with internal trunk (2008.02.12).

	* configure.ac, lib/unityStub/*, lib/ghIntegrationStub/*,
	lib/Makefile.am, vmware-user/Makefile.am, vmware-user/vmware-user.c:
	Added lib/unityStub and lib/ghIntegrationStub. Unity and guest-host
	integration features for X11 guests are on the way.

	* configure.ac, guestd/Makefile.am, lib/fileUtf8/*,
	lib/vixTools/vixTools.c, vmare-user/Makefile.am: lib/file is now fully
	internationalized. Removed unneeded lib/fileUtf8.

	* foundryToolsDaemon.c: Fixed a leak of the sync driver handle.

	* guestd/toolsDaemon.c: Send guestd's "config directory" to the VMX for
	publishing.

	* hgfsmounter/hgfsmounter.c: Port to MacOS.

	* lib/dnd/*, lib/err/err.c, lib/file/*, lib/include/dnd*,
	lib/include/file*, lib/include/unicode*, lib/include/util.h,
	lib/unicode/*, lib/user/utilPosix.c: More Unicodification.

	* lib/file/file.c, lib/include/file.h: Added File_EnsureDirectory.

	* lib/foundryMsg/foundryMsg.c, lib/guestInfo/guestInfoServer.c,
	lib/misc/codeset.c, lib/misc/vmstdio.c,
	lib/SLPv2Parser/SLPv2MsgAssembler.c, lib/user/util.c: Removed some
	unneeded casts.

	* lib/foundryMsg/foundryThreads.c, lib/include/foundryThreads.h: Added
	FoundryThreads_Free.

	* lib/guestInfo/*, lib/include/guest_os.h, lib/include/guestInfo.h:
	Refactored GetSystemBitness. Removed osNames.h.

	* lib/hgfsServer/hgfsServerLinux.c: Modified MacOS alias resolution code
	so as not to mount volumes. Made HGFS query volume code more resilient
	to failures.

	* lib/include/backdoor_def.h: Added commands for VAssert.

	* lib/include/escape.h, lib/misc/escape.c: Escape_Do is no longer
	declared inline.

	* lib/include/hashTable.h, lib/misc/hashTable.c, lib/misc/Makefile.am,
	lib/misc/shared/Makefile.am: Renamed from hash.[ch].

	* lib/include/iovector.h, lib/include/vm_basic_types.h: Added
	SectorType definition.

	* lib/include/loglevel_user.h: Added additional log levels.

	* lib/include/msgfmt.h: Modified for use in VMKERNEL. Added
	MsgFmt_GetArgswithBuf.

	* lib/include/msg.h: Added Msg_AppendVob for ESX.

	* lib/include/stats_user*: Modified some preprocessing steps. Added
	SETUP_WANT_GETVAL to retrieve named stat counter values.

	* lib/include/str.h: Modified behavior Str_* family of functions for
	Windows.

	* lib/include/strutil.h, lib/strUtil/strutil.c: Removed Split, Grep,
	GrepFd, and GrepFree. Added EndsWith and DecimalStrToUint.

	* lib/include/syncWaitQ.h, lib/sync/*: Modified SyncWaitQ_Add and
	SyncWaitQ_Remove to use PollDevHandle fd types instead of int fd types.

	* lib/include/timeutil.h, lib/misc/timeutil.c: Added
	TimeUtil_GetLocalWindowsTimeZoneIndex and some helper functions.

	* lib/include/util.h, lib/user/utilPosix.c: Added Util_BumpNoFds.

	* lib/include/vixCommands.h: Added commands for device hotplug and
	remote debugging.

	* lib/include/vix.h, lib/include/vixOpenSource.h: Added some new errors
	and properties. Added more VM manipulation functions.

	* lib/include/vm_atomic.h: Comment cleanup and added VMKERNEL-specific
	calls for fencing.

	* lib/include/vm_basic_asm_x86_64.h: Added inline routines to save and
	restore ES1.

	* lib/include/vm_basic_types.h: Added some types and cleaned up a bit.

	* lib/include/vm_legal.h: Updated COPYRIGHT_YEARS.

	* lib/include/vm_product.h: Added hostd service name.

	* lib/include/x86cpuid.h: Cleaned up the file and added some definitions
	for Penryn processors.

	* lib/misc/codeset.c: Added new UTF-16 --> UTF-8 conversion routine.

	* lib/misc/util_misc.c, lib/user/util.c: Moved Util_GetCurrentThreadId
	and friends to util_misc.c.

	* lib/procMgr/procMgrPosix.c: Cleaned up some code and reworked
	asynchronous process execution so as to properly track the grandchild's
	pid instead of the child's pid.

	* lib/string/bsd*: Reorganized BSD formatter.

	* lib/string/str.c: Updated unit tests. Added some Windows corner case
	behavior for Str_Vsnwprintf.

	* lib/strUtil/strutil.c: Fixed some corner cases in existing functions
	that call strtoul.

	* lib/vixTools/vixTools.c: Changed signature of VixToolsImpersonateUser.
	Changed error code handling in a few places.

	* modules/freebsd/vmhgfs/*: Refactored a lot of code so that it can be
	safely reused within the MacOS vmhgfs module.

	* modules/*/*/kernelStubs*: Removed dead System_Uptime function.

	* modules/linux/*/compat_wait.h: Reworked VMW_HAVE_EPOLL macro. Added
	waitqueue helper macros for older kernels.

	* modules/linux/vmhgfs/file.c, modules/linux/vmhgfs/fsutil.*,
	modules/linux/vmhgfs/inode.c: Added HgfsSetUidGid function and used it
	to preserve uid/gid after creating a directory.

	* modules/linux/vmhgfs/vmhgfs_version.h: Bumped driver version.

	* modules/linux/vmsync/compat_workqueue.h: Basic implementation of
	work queues and delayed work queues (using taskqueues and timers) for
	older kernels.

	* modules/linux/vmsync/sync.c: Modified internal state to use new
	compatible work queue implementation.

	* modules/linux/vmxnet/compat_ioport.h,
	modules/linux/vmxnet/compat_netdevice.h,
	modules/linux/vmxnet/compat_pci.h,
	modules/linux/vmxnet/compat_skbuff.h,
	modules/linux/vmxnet/vmxnetInt.h: Added and refactored
	compatibility macros for use in vmxnet3 and vmci sockets modules.

	* modules/linux/vmxnet/vmxnet.c: Hide some kernel functions behind
	compatibility macros.

2008-01-23  Adar Dembo  <adar@vmware.com>

	* Resync with internal trunk (2008.01.08).

	* configure.ac, guestd/Makefile.am, hgfsclient/Makefile.am,
	lib/Makefile.am, toolbox/Makefile.am, vmware-user/Makefile.am:
	integrated lib/unicode for internationalizing strings.

	* guestd/main.c: Stopped using pgrep for finding existing instances
	of guestd. Removed ancient bandwidth test code.

	* guestd/toolsDaemon.c: Moved initial send of the guest's uptime from
	when guestd sends its version to when guestd registers its
	capabilities.

	* lib/file/*, lib/include/file*.h : Massive overhaul of lib/file to
	integrate the new unicode strings that are i18n-safe. Quite a bit of
	cleanup and refactoring as well.

	* lib/file/file.c: Addition of File_PrependToPath function.

	* lib/file/fileIOPosix.c: Addition of FileIO_SetExcludedFromTimeMachine
	and FileIO_PrivilegedPosixOpen functions.

	* lib/fileUTF8/fileUTF8Linux.c, lib/include/fileUTF8.h: Removal of some
	casts and addition of FileUTF8_GetSize function.

	* lib/foundryMsg/foundryMsg.c, lib/misc/vmstdio.c,
	lib/SLPv2Parser/SLPv2MsgAssembler.c: Addition of some casts.

	* lib/foundryMsg/foundryPropertyListCommon.c: Robustified some error
	cases.

	* lib/foundryMsg/vixTranslateErrOpenSource.c,
	lib/include/vixOpenSource.h: Added VIX_E_OUT_OF_MEMORY error code.
	Added Vix_TranslateCOMError function. ADded VIX_DEBUG macro.

	* lib/guestInfo/guestInfoServer.c, lib/include/guestInfo.h: Added some
	casts and refactored some functions. Also fixed a crash that hinders
	backwards compatibility.

	* lib/hgfs/cpNameUtil.c, lib/hgfs/cpNameUtilLinux.c,
	lib/hgfsBd/hgfsBd.c, lib/include/cpName.h, lib/include/cpNameLite.h,
	lib/include/escBitvector.h, lib/include/hgfsUtil.h,
	lib/message/messageBackdoor.c, lib/message/message.c,
	lib/message/messageStub.c, lib/rpcout/rpcout.c,
	modules/freebsd/vmhgfs/kernelStubs.h: Made safe for inclusion in MacOS
	kernel module code.

	* lib/include/backdoor.h: Refactored some type definitions.

	* lib/include/bsd_output_int.h, lib/include/safetime.h,
	lib/string/bsd_output_shared.c: Made safe for Win64 builds.

	* lib/include/dynbuf.h: Added DynBuf_AppendString function.

	* lib/include/err.h: Assorted cleanup.

	* lib/include/escape.h, lib/misc/escape.c: Converted Escape_Do to be
	inline. Some cleanup.

	* lib/include/guest_os.h: Assorted cleanup.

	* lib/include/hash.h, lib/misc/hash.c, lib/misc/Makefile.am,
	lib/misc/shared/Makefile.am: Added basic hash table implementation.

	* lib/include/hostinfo.h, lib/user/hostinfoPosix.c: Refactored and
	added several timekeeping functions.

	* lib/include/localconfig.h, lib/include/util_shared.h: Modified
	statements for include check.

	* lib/include/log.h: Changed the value of some macros when debugging.

	* lib/include/loglevel_defs.h: Refactoed some code, added macros for
	use in the VMM.

	* lib/include/loglevel_user.h: Added loglevels for some new components.

	* lib/include/msgfmt.h: Added new functions.

	* lib/include/msg.h: Added new Msg_LocalizeList function.

	* lib/include/netutil.h: Modified prototypes for two Windows-only
	functions.

	* lib/include/preference.h: Added new Preference_GetInt64 and
	Preference_SetFromString functions.

	* lib/include/strutil.h, lib/strUtil/strutil.c: Cleaned up and added
	some new functions.

	* lib/include/su.h: Cleanup.

	* lib/include/syncMutex.h, lib/sync/syncMutex.c: Added NetWare
	implementation of some synchronization primitives.

	* lib/include/unicode*, lib/unicode/*: New library for handling
	Unicode-aware strings.

	* lib/include/util.h, lib/user/util.c: Assorted refactoring and
	addition of some new functions, one related to backtracing.

	* lib/include/vixCommands.h: New commands for vprobes, replay, message
	dialogs, and others, plus cleanup of some existing commands.

	* lib/include/vm_assert.h: Added IMPLIES macro.

	* lib/include/vm_atomic.h, lib/include/vm_basic_asm.h: Refactored for
	safe Win64 builds.

	* lib/include/vm_basic_defs.h: Added compatibility code for __va_copy.

	* lib/include/vm_basic_types.h: Added FMTH for printing the value of
	handles. Set a new #pragma to ignore size_t truncation warnings on
	Windows. Added several other macros, as well as a ssize_t definition
	for some versions of BSD.

	* lib/include/vm_legal.h: Added more patents to the patent string.

	* lib/include/vm_product.h: Added new macros for some products.

	* lib/include/vm_tools_version.h: Added macros for certain older Tools
	versions and for PRODUCT_BUILD_NUMBER refactoring.

	* lib/include/vm_version.h: Tweaked some product expiration dates and
	versions. Refactored many uses of BUILD_NUMBER to PRODUCT_BUILD_NUMBER.

	* lib/include/x86cpuid.h: Tweaked definition of RDTSCP flag. Refactored
	BIT_MASK macro to VMW_BIT_MASK.

	* lib/misc/base64.c: Modified calling contract for Base64_EasyEncode.

	* lib/misc/codeset.c: Tweaked casts and preprocessor conditioning.

	* lib/misc/idLinux.c: Added IdAuthCreateWithFork and reworked several
	other functions to work around a bug in Apple's detection of GUI
	processes.

	* lib/misc/util_misc.c: Moved W32Util_GetLongPathName and
	W32UTil_LookupSidForAccount elsewhere.

	* lib/rpcin/rpcin.c: Addition of a ping GuestRPC callback.

	* lib/string/str.c: Removed a comment.

	* lib/sync/syncWaitQPosix.c: Added code to disable a workaround for a
	MacOS bug when appropriate (it was fixed in Leopard).

	* lib/vixTools/vixTools.c: Refactored some code, added code to modify
	the guest's networking configuration, added some casts, and added
	code to prevent renaming a file to itself.

	* modules/freebsd/*/Makefile, modules/linux/*/Makefile.normal: Set a
	make variable so the module file will be build in the parent directory.
	Removed some unused rules.

	* modules/freebsd/vmhgfs/kernelStubsBSD.c,
	modules/linux/vmhgfs/kernelStubsLinux.c: Removed unused function.

	* modules/linux/*/include/driver-config.h: Added check to prevent
	uintptr_t from being declared twice.

	* modules/linux/vmblock/linux/filesystem.c,
	modules/linux/vmblock/Makefile.kernel: Added check for newer kernels
	where the slab allocator's constructor function expects three
	arguments. Makes it work with 2.6.25-rc1 (but not rc2, yet).

	* modules/linux/vmblock/linux/vmblock_version.h: Bumped module version.

	* modules/linux/vmhgfs/filesystem.c, modules/linux/vmhgfs/inode.c,
	modules/linux/vmhgfs/module.h, modules/linux/vmhgfs/page.c: Added
	support for writeback caching in conformant kernels.

	* modules/linux/vmhgfs/vmhgfs_version.h: Bumped module version.

	* modules/linux/vmxnet/vmxnetInt.h: Renamed a type and removed the
	inclusion of unnecessary headers. Pruned said headers from codebase.

2007-11-15  Elliot Lee  <elliot@vmware.com>

	* Bandsaw release (2007.11.15).

	* configure.ac: Handle building modules for multiple OS's. Improve
	X detection to allow building --without-x. Improve Gtk+
	detection. Detect libdnet on Solaris. Detect which -Wwarning flags
	the compiler can handle.

	* vmware-user/foreignVMToolsNetworking.c, lib/vixTools/vixTools.c,
	guestd/foreignVMToolsNetworking.c, lib/include/netutil.h,
	lib/include/guestInfo.h, lib/netUtil/netUtilLinux.c,
	lib/include/guestInfoInt.h, lib/guestInfo/guestInfoPosix.c,
	lib/guestInfo/guestInfoServer.c: Move to new NicInfo structures.

	* vmware-user/foundryToolsDaemon.c, guestd/foundryToolsDaemon.c:
	Make sure requestMsg is not NULL before looking inside it.

	* guestd/main.c: Cleanup of HGFS pserver and mounting code. Check
	for some type of signal when sending an RPC.

	* guestd/toolsDaemon.c, vmware-user/resolution.c: Have the guest
	tell the host whether screen resolution changes should be sent,
	instead of having the host guess it based on the OS type set in
	the .vmx file.  Better timeout checking to avoid problems when
	host & guest time diverge.

	* hgfsmounter/hgfsmounter.c: FreeBSD support. Fixes to compile on
	old systems.

	* lib/backdoor/backdoor.c: Tweak for FreeBSD kernel modules.

	* lib/include/mntinfo.h, lib/dnd/dndLinux.c,
	lib/wiper/wiperPosix.c, lib/syncDriver/syncDriverPosix.c: Fixes to
	compile on new systems w/gcc 4.2.

	* lib/err/err.c, lib/err/errPosix.c, lib/err/Makefile.am: Move
	Err_Errno2String function into POSIX-specific source file.

	* lib/file/fileIOPosix.c: Handle EDQUOT if applicable. Fixes to
	compile on new systems where SYS__llseek may not be
	available. Better reporting of errors, by translating errno into
	FILEIO_* error codes.

	* lib/file/fileLockPosix.c: Fixes to compile on old systems. Add a
	bunch of functions to the FileLock* API.

	* lib/file/fileLockPrimitive.c, lib/include/fileInt.h: Bunch of
	file locking cleanups and bug fixes.

	* lib/file/filePosix.c: Bunch of MacOS-related fixes. Add
	File_GetTimes(), FilePosixGetParent(), FilePosixGetBlockDevice(),
	etc.

	* lib/fileUtf8/fileUTF8Linux.c: Add FileUTF8_GetTimes() function.

	* lib/foundry/foundryMsg.c, lib/include/vixCommands.h: Add
	VIX_USER_CREDENTIAL_HOST_CONFIG_HASHED_SECRET credential type, and
	a bunch of VIX commands relating to record-replay.

	* lib/foundryMsg/vixTranslateErrOpenSource.c: Translate a couple
	more error codes.

	* lib/guestInfo/guestInfoPosix.c, lib/guestInfo/Makefile.am: Use
	libdnet on Solaris to retrieve networking info.

	* lib/hgfs/cpNameUtil.c, lib/hgfs/cpNameUtilInt.h,
	lib/hgfs/cpNameUtilLinux.c: Couple more CPName <-> UTF8 conversion
	routines. Some MacOS changes as well.

	* lib/hgfs/hgfsUtil.c, lib/include/hgfs.h,
	modules/linux/vmhgfs/fsutil.c: Handle ENAMETOOLONG.

	* lib/hgfs/staticEscape.c, lib/hgfs/hgfsBd.c: Handle FreeBSD as
	well.

	* lib/hgfsServer/hgfsServer.c: Tie in the cpNameUtil UTF8 changes
	on MacOS.

	* lib/hgfsServer/hgfsServerLinux.c: Make the getdents() wrapper
	work on a wider range of Linux systems. Add "alias" resolution on
	MacOS, and tie in the cpNameUtil UTF8 changes on MacOS.

	* lib/hgfsServer/hgfsServerPolicyGuest.c: Handle FreeBSD.

	* lib/include/backdoor_def.h: Add BDOOR_CMD_LAZYTIMEREMULATION and
	BDOOR_CMD_BIOSBBS.

	* lib/include/str.h, lib/include/bsd_output.h,
	lib/include/bsd_output_int.h: include compat_stdarg.h, change
	vsnwprintf prototype, add HAVE_BSD_WPRINTF define, other compat
	fixups.

	* lib/include/cpNameUtil.h, lib/include/codeset.h,
	lib/misc/codeset.c: Changes to correspond to cpNameUtil UTF8
	changes.

	* lib/include/compat/compat_stdarg.h: New header for doing stdarg
	easily across platforms.

	* lib/include/cpName.h: FreeBSD fixes.

	* lib/include/dnd.h: Add Dnd_SetClipboard and Dnd_GetFileList().

	* lib/include/escBitvector.h: FreeBSD fixes.

	* lib/include/file.h, lib/include/fileUTF8.h: Add new MacOS
	routines and File_GetTimes/FileUTF8_GetTimes.

	* lib/include/hgfsProto.h: Explanation of the whole cpNameUtil and
	codeset UTF8 changes and how they tie in with HGFS.

	* lib/include/hgfsUtil.h: Random compatibility changes.

	* lib/include/loglevel_user.h: Add a few LOGLEVEL_VAR definitions.

	* lib/include/msg.h: s/USE_MSGFMT/NO_MSGFMT/

	* lib/include/osNames.h: Add Windows 2003 Datacenter Edition, and
	user-visible 64bit suffix macro.

	* lib/misc/random.c, lib/include/random.h: Add Random_Quick() and
	Random_QuickSeed() routines.

	* lib/misc/idLinux.c, lib/include/su.h: Add Id_AuthGetLocal() and
	Id_GetAuthExternal() routines, and compat fixes.

	* lib/misc/timeutil.c, lib/include/timeutil.h: Add
	TimeUtil_UnixTimeToNtTime() routine.

	* lib/include/util.h: Add a couple of MacOS routines.

	* lib/include/vmBackup.h, lib/vmBackupLib/stateMachine.c: add a
	couple of structure elements for Windows backup fixes.

	* lib/include/vm_basic_asm.h: fixes for reading TSC on 64-bit
	platforms.

	* lib/include/vm_basic_defs.h: Add other va_copy macros.

	* lib/include/vm_basic_types.h: Fixes for compiling on a wide
	range of systems.

	* lib/include/vm_legal.h: Change the PATENTS_STRING

	* lib/include/vm_product.h: Add "License Infrastructure" product.

	* lib/include/vm_tools_version.h: Change tools versions listed for
	various upcoming product releases.

	* lib/include/vm_version.h: Update the versions.

	* lib/include/x86cpuid.h: Define more CPU flags & fields, add new
	CPU models. Fixes for fully writable TSC detection.

	* lib/message/message.c, lib/message/messageBackdoor.c: Fixes for
	FreeBSD.

	* lib/misc/util_misc.c: Handle MacOS.

	* lib/rpcIn/rpcin.c: Fail a badly-formed RPC instead of
	ASSERT()'ing into oblivion.

	* lib/string/bsd_vsnprintf.c: Various fixes to synchronize with
	bsd_vsnwprintf.c.

	* lib/string/Makefile.am, lib/string/shared/Makefile.am,
	lib/string/str.c lib/string/bsd_vsnwprintf.c: New file to
	implement vsnwprintf() for compat purposes.

	* lib/vixTools/vixTools.c: New FileUTF8 routines.

	* Makefile.am, modules/Makefile.am: --without-x fixes, add
	xferlogs, move kernel module building into separate Makefile.am

	* modules/freebsd/*: Add FreeBSD kernel modules (vmblock, vmhgfs,
	vmmemctl, vmxnet).

	* modules/linux/*/include/compat_*.h,
	modules/linux/*/autoconf/cachector.c,
	modules/linux/*/autoconf/cachecreate.c,
	modules/linux/*/backdoor.c, modules/linux/vmhgfs/filesystem.c,
	modules/linux/vmhgfs/hgfsBd.c, lib/procMgr/procMgrPosix.c,
	lib/rpcOut/rpcout.c, lib/user/util.c, lib/vmCheck/vmcheck.c,
	libguestlib/Makefile.am, lib/deployPkg/runDeployPkgPosix.c,
	lib/include/vm_atomic.h: Compat fixes.

	* modules/linux/*/kernelStubs.h: Update for FreeBSD.

	* modules/linux/*/include/*.h, modules/linux/*/backdoor_def.h,
	modules/linux/*/cpName.h, modules/linux/*/hgfs.h,
	modules/linux/*/hgfsProto.h, modules/linux/*/hgfsUtil.[ch],
	modules/linux/*/kernelStubsLinux.c,
	modules/linux/*/messageBackdoor.c, modules/linux/*/message.c,
	modules/linux/*/rpcout.c, modules/linux/*/rpcin.c,
	modules/linux/*/staticEscape.c, modules/linux/*/vm_basic_asm.h,
	modules/linux/*/vm_basic_defs.h, modules/linux/*/vm_basic_types.h,
	modules/linux/*/x86cpuid.h, modules/linux/*/compat_*.h: Pull in
	updated files from main source tree.

	* modules/linux/*/Makefile.kernel: Remove CC_WARNINGS/CC_OPTS
	gunk.

	* modules/linux/*/README, modules/linux/*/Makefile.normal: Build
	foo.o driver by default on systems with VM_KBUILD=no.

	* modules/linux/vmhgfs/vmhgfs_version.h: Updated VMHGFS driver
	version.

	* modules/linux/vmmemctl/os.[ch],
	modules/linux/vmmemctl/vmballoon.c: Implement and use os_yield()
	to deprioritize the Balloon_Deallocate operation.

	* modules/linux/vmsync/*: New sync driver to make VM snapshots
	consistent.

	* modules/linux/vmxnet/bpf_meta.h: New file.

	* modules/linux/vmxnet/net_dist.h: Update NET_MAX_IMPL_PKT_OVHD
	value.

	* modules/linux/vmxnet/vm_device_version.h: Mention VMXNET3

	* modules/linux/vmxnet/vmkapi_status.h: Updated VMK_ERR codes.

	* modules/linux/vmxnet/vmkapi_types.h: Add VMK_CONST64(U) macros.

	* modules/linux/vmxnet/vmxnet2_def.h,
	modules/linux/vmxnet/vmnet_def.h,
	modules/linux/vmxnet/vmxnet_def.h,
	modules/linux/vmxnet/vmxnetInt.h, modules/linux/vmxnet/vmxnet.c:
	Add (optional) BPF support.

	* modules/linux/vmxnet/vmxnetInt.h, modules/linux/vmxnet/vmxnet.c:
	Add vmxnet_link_check to propagate device link status to netdev.

	* common/vm-support: New script to gather support info from a VM.

	* scripts/*/*-default: New poweron/poweroff/suspend/resume scripts
	for a VM. Add support for dropping user-provided scripts into a
	subdirectory.

	* toolbox/toolboxAbout.c: Eliminate warnings about unused
	variables.

	* toolbox/toolboxShrink.c: Update wording of message.

	* toolbox/copyPaste.c: Try cutting & pasting UTF8 text if we can.

	* xferlogs/*: New log transfer utility.

2007-10-26  Elliot Lee  <elliot@vmware.com>

	* Initial import of 2007.09.04-56574 code ("Axe" release).

	* Import 2007.10.08 snapshot, which includes patches to fix the
	--without-x flag, and compilation with gcc 4.2.
